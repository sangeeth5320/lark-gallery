{"version":3,"sources":["meteor://ðŸ’»app/client/lib/counter/waypoints.js"],"names":[],"mappings":"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","file":"/client/lib/counter/waypoints.js","sourcesContent":["// Generated by CoffeeScript 1.6.2\r\n/*\r\njQuery Waypoints - v2.0.4\r\nCopyright (c) 2011-2014 Caleb Troughton\r\nDual licensed under the MIT license and GPL license.\r\nhttps://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt\r\n*/\r\n\r\n\r\n(function() {\r\n  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\r\n    __slice = [].slice;\r\n\r\n  (function(root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n      return define('waypoints', ['jquery'], function($) {\r\n        return factory($, root);\r\n      });\r\n    } else {\r\n      return factory(root.jQuery, root);\r\n    }\r\n  })(this, function($, window) {\r\n    var $w, Context, Waypoint, allWaypoints, contextCounter, contextKey, contexts, isTouch, jQMethods, methods, resizeEvent, scrollEvent, waypointCounter, waypointKey, wp, wps;\r\n\r\n    $w = $(window);\r\n    isTouch = __indexOf.call(window, 'ontouchstart') >= 0;\r\n    allWaypoints = {\r\n      horizontal: {},\r\n      vertical: {}\r\n    };\r\n    contextCounter = 1;\r\n    contexts = {};\r\n    contextKey = 'waypoints-context-id';\r\n    resizeEvent = 'resize.waypoints';\r\n    scrollEvent = 'scroll.waypoints';\r\n    waypointCounter = 1;\r\n    waypointKey = 'waypoints-waypoint-ids';\r\n    wp = 'waypoint';\r\n    wps = 'waypoints';\r\n    Context = (function() {\r\n      function Context($element) {\r\n        var _this = this;\r\n\r\n        this.$element = $element;\r\n        this.element = $element[0];\r\n        this.didResize = false;\r\n        this.didScroll = false;\r\n        this.id = 'context' + contextCounter++;\r\n        this.oldScroll = {\r\n          x: $element.scrollLeft(),\r\n          y: $element.scrollTop()\r\n        };\r\n        this.waypoints = {\r\n          horizontal: {},\r\n          vertical: {}\r\n        };\r\n        this.element[contextKey] = this.id;\r\n        contexts[this.id] = this;\r\n        $element.bind(scrollEvent, function() {\r\n          var scrollHandler;\r\n\r\n          if (!(_this.didScroll || isTouch)) {\r\n            _this.didScroll = true;\r\n            scrollHandler = function() {\r\n              _this.doScroll();\r\n              return _this.didScroll = false;\r\n            };\r\n            return window.setTimeout(scrollHandler, $[wps].settings.scrollThrottle);\r\n          }\r\n        });\r\n        $element.bind(resizeEvent, function() {\r\n          var resizeHandler;\r\n\r\n          if (!_this.didResize) {\r\n            _this.didResize = true;\r\n            resizeHandler = function() {\r\n              $[wps]('refresh');\r\n              return _this.didResize = false;\r\n            };\r\n            return window.setTimeout(resizeHandler, $[wps].settings.resizeThrottle);\r\n          }\r\n        });\r\n      }\r\n\r\n      Context.prototype.doScroll = function() {\r\n        var axes,\r\n          _this = this;\r\n\r\n        axes = {\r\n          horizontal: {\r\n            newScroll: this.$element.scrollLeft(),\r\n            oldScroll: this.oldScroll.x,\r\n            forward: 'right',\r\n            backward: 'left'\r\n          },\r\n          vertical: {\r\n            newScroll: this.$element.scrollTop(),\r\n            oldScroll: this.oldScroll.y,\r\n            forward: 'down',\r\n            backward: 'up'\r\n          }\r\n        };\r\n        if (isTouch && (!axes.vertical.oldScroll || !axes.vertical.newScroll)) {\r\n          $[wps]('refresh');\r\n        }\r\n        $.each(axes, function(aKey, axis) {\r\n          var direction, isForward, triggered;\r\n\r\n          triggered = [];\r\n          isForward = axis.newScroll > axis.oldScroll;\r\n          direction = isForward ? axis.forward : axis.backward;\r\n          $.each(_this.waypoints[aKey], function(wKey, waypoint) {\r\n            var _ref, _ref1;\r\n\r\n            if ((axis.oldScroll < (_ref = waypoint.offset) && _ref <= axis.newScroll)) {\r\n              return triggered.push(waypoint);\r\n            } else if ((axis.newScroll < (_ref1 = waypoint.offset) && _ref1 <= axis.oldScroll)) {\r\n              return triggered.push(waypoint);\r\n            }\r\n          });\r\n          triggered.sort(function(a, b) {\r\n            return a.offset - b.offset;\r\n          });\r\n          if (!isForward) {\r\n            triggered.reverse();\r\n          }\r\n          return $.each(triggered, function(i, waypoint) {\r\n            if (waypoint.options.continuous || i === triggered.length - 1) {\r\n              return waypoint.trigger([direction]);\r\n            }\r\n          });\r\n        });\r\n        return this.oldScroll = {\r\n          x: axes.horizontal.newScroll,\r\n          y: axes.vertical.newScroll\r\n        };\r\n      };\r\n\r\n      Context.prototype.refresh = function() {\r\n        var axes, cOffset, isWin,\r\n          _this = this;\r\n\r\n        isWin = $.isWindow(this.element);\r\n        cOffset = this.$element.offset();\r\n        this.doScroll();\r\n        axes = {\r\n          horizontal: {\r\n            contextOffset: isWin ? 0 : cOffset.left,\r\n            contextScroll: isWin ? 0 : this.oldScroll.x,\r\n            contextDimension: this.$element.width(),\r\n            oldScroll: this.oldScroll.x,\r\n            forward: 'right',\r\n            backward: 'left',\r\n            offsetProp: 'left'\r\n          },\r\n          vertical: {\r\n            contextOffset: isWin ? 0 : cOffset.top,\r\n            contextScroll: isWin ? 0 : this.oldScroll.y,\r\n            contextDimension: isWin ? $[wps]('viewportHeight') : this.$element.height(),\r\n            oldScroll: this.oldScroll.y,\r\n            forward: 'down',\r\n            backward: 'up',\r\n            offsetProp: 'top'\r\n          }\r\n        };\r\n        return $.each(axes, function(aKey, axis) {\r\n          return $.each(_this.waypoints[aKey], function(i, waypoint) {\r\n            var adjustment, elementOffset, oldOffset, _ref, _ref1;\r\n\r\n            adjustment = waypoint.options.offset;\r\n            oldOffset = waypoint.offset;\r\n            elementOffset = $.isWindow(waypoint.element) ? 0 : waypoint.$element.offset()[axis.offsetProp];\r\n            if ($.isFunction(adjustment)) {\r\n              adjustment = adjustment.apply(waypoint.element);\r\n            } else if (typeof adjustment === 'string') {\r\n              adjustment = parseFloat(adjustment);\r\n              if (waypoint.options.offset.indexOf('%') > -1) {\r\n                adjustment = Math.ceil(axis.contextDimension * adjustment / 100);\r\n              }\r\n            }\r\n            waypoint.offset = elementOffset - axis.contextOffset + axis.contextScroll - adjustment;\r\n            if ((waypoint.options.onlyOnScroll && (oldOffset != null)) || !waypoint.enabled) {\r\n              return;\r\n            }\r\n            if (oldOffset !== null && (oldOffset < (_ref = axis.oldScroll) && _ref <= waypoint.offset)) {\r\n              return waypoint.trigger([axis.backward]);\r\n            } else if (oldOffset !== null && (oldOffset > (_ref1 = axis.oldScroll) && _ref1 >= waypoint.offset)) {\r\n              return waypoint.trigger([axis.forward]);\r\n            } else if (oldOffset === null && axis.oldScroll >= waypoint.offset) {\r\n              return waypoint.trigger([axis.forward]);\r\n            }\r\n          });\r\n        });\r\n      };\r\n\r\n      Context.prototype.checkEmpty = function() {\r\n        if ($.isEmptyObject(this.waypoints.horizontal) && $.isEmptyObject(this.waypoints.vertical)) {\r\n          this.$element.unbind([resizeEvent, scrollEvent].join(' '));\r\n          return delete contexts[this.id];\r\n        }\r\n      };\r\n\r\n      return Context;\r\n\r\n    })();\r\n    Waypoint = (function() {\r\n      function Waypoint($element, context, options) {\r\n        var idList, _ref;\r\n\r\n        options = $.extend({}, $.fn[wp].defaults, options);\r\n        if (options.offset === 'bottom-in-view') {\r\n          options.offset = function() {\r\n            var contextHeight;\r\n\r\n            contextHeight = $[wps]('viewportHeight');\r\n            if (!$.isWindow(context.element)) {\r\n              contextHeight = context.$element.height();\r\n            }\r\n            return contextHeight - $(this).outerHeight();\r\n          };\r\n        }\r\n        this.$element = $element;\r\n        this.element = $element[0];\r\n        this.axis = options.horizontal ? 'horizontal' : 'vertical';\r\n        this.callback = options.handler;\r\n        this.context = context;\r\n        this.enabled = options.enabled;\r\n        this.id = 'waypoints' + waypointCounter++;\r\n        this.offset = null;\r\n        this.options = options;\r\n        context.waypoints[this.axis][this.id] = this;\r\n        allWaypoints[this.axis][this.id] = this;\r\n        idList = (_ref = this.element[waypointKey]) != null ? _ref : [];\r\n        idList.push(this.id);\r\n        this.element[waypointKey] = idList;\r\n      }\r\n\r\n      Waypoint.prototype.trigger = function(args) {\r\n        if (!this.enabled) {\r\n          return;\r\n        }\r\n        if (this.callback != null) {\r\n          this.callback.apply(this.element, args);\r\n        }\r\n        if (this.options.triggerOnce) {\r\n          return this.destroy();\r\n        }\r\n      };\r\n\r\n      Waypoint.prototype.disable = function() {\r\n        return this.enabled = false;\r\n      };\r\n\r\n      Waypoint.prototype.enable = function() {\r\n        this.context.refresh();\r\n        return this.enabled = true;\r\n      };\r\n\r\n      Waypoint.prototype.destroy = function() {\r\n        delete allWaypoints[this.axis][this.id];\r\n        delete this.context.waypoints[this.axis][this.id];\r\n        return this.context.checkEmpty();\r\n      };\r\n\r\n      Waypoint.getWaypointsByElement = function(element) {\r\n        var all, ids;\r\n\r\n        ids = element[waypointKey];\r\n        if (!ids) {\r\n          return [];\r\n        }\r\n        all = $.extend({}, allWaypoints.horizontal, allWaypoints.vertical);\r\n        return $.map(ids, function(id) {\r\n          return all[id];\r\n        });\r\n      };\r\n\r\n      return Waypoint;\r\n\r\n    })();\r\n    methods = {\r\n      init: function(f, options) {\r\n        var _ref;\r\n\r\n        if (options == null) {\r\n          options = {};\r\n        }\r\n        if ((_ref = options.handler) == null) {\r\n          options.handler = f;\r\n        }\r\n        this.each(function() {\r\n          var $this, context, contextElement, _ref1;\r\n\r\n          $this = $(this);\r\n          contextElement = (_ref1 = options.context) != null ? _ref1 : $.fn[wp].defaults.context;\r\n          if (!$.isWindow(contextElement)) {\r\n            contextElement = $this.closest(contextElement);\r\n          }\r\n          contextElement = $(contextElement);\r\n          context = contexts[contextElement[0][contextKey]];\r\n          if (!context) {\r\n            context = new Context(contextElement);\r\n          }\r\n          return new Waypoint($this, context, options);\r\n        });\r\n        $[wps]('refresh');\r\n        return this;\r\n      },\r\n      disable: function() {\r\n        return methods._invoke.call(this, 'disable');\r\n      },\r\n      enable: function() {\r\n        return methods._invoke.call(this, 'enable');\r\n      },\r\n      destroy: function() {\r\n        return methods._invoke.call(this, 'destroy');\r\n      },\r\n      prev: function(axis, selector) {\r\n        return methods._traverse.call(this, axis, selector, function(stack, index, waypoints) {\r\n          if (index > 0) {\r\n            return stack.push(waypoints[index - 1]);\r\n          }\r\n        });\r\n      },\r\n      next: function(axis, selector) {\r\n        return methods._traverse.call(this, axis, selector, function(stack, index, waypoints) {\r\n          if (index < waypoints.length - 1) {\r\n            return stack.push(waypoints[index + 1]);\r\n          }\r\n        });\r\n      },\r\n      _traverse: function(axis, selector, push) {\r\n        var stack, waypoints;\r\n\r\n        if (axis == null) {\r\n          axis = 'vertical';\r\n        }\r\n        if (selector == null) {\r\n          selector = window;\r\n        }\r\n        waypoints = jQMethods.aggregate(selector);\r\n        stack = [];\r\n        this.each(function() {\r\n          var index;\r\n\r\n          index = $.inArray(this, waypoints[axis]);\r\n          return push(stack, index, waypoints[axis]);\r\n        });\r\n        return this.pushStack(stack);\r\n      },\r\n      _invoke: function(method) {\r\n        this.each(function() {\r\n          var waypoints;\r\n\r\n          waypoints = Waypoint.getWaypointsByElement(this);\r\n          return $.each(waypoints, function(i, waypoint) {\r\n            waypoint[method]();\r\n            return true;\r\n          });\r\n        });\r\n        return this;\r\n      }\r\n    };\r\n    $.fn[wp] = function() {\r\n      var args, method;\r\n\r\n      method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n      if (methods[method]) {\r\n        return methods[method].apply(this, args);\r\n      } else if ($.isFunction(method)) {\r\n        return methods.init.apply(this, arguments);\r\n      } else if ($.isPlainObject(method)) {\r\n        return methods.init.apply(this, [null, method]);\r\n      } else if (!method) {\r\n        return $.error(\"jQuery Waypoints needs a callback function or handler option.\");\r\n      } else {\r\n        return $.error(\"The \" + method + \" method does not exist in jQuery Waypoints.\");\r\n      }\r\n    };\r\n    $.fn[wp].defaults = {\r\n      context: window,\r\n      continuous: true,\r\n      enabled: true,\r\n      horizontal: false,\r\n      offset: 0,\r\n      triggerOnce: false\r\n    };\r\n    jQMethods = {\r\n      refresh: function() {\r\n        return $.each(contexts, function(i, context) {\r\n          return context.refresh();\r\n        });\r\n      },\r\n      viewportHeight: function() {\r\n        var _ref;\r\n\r\n        return (_ref = window.innerHeight) != null ? _ref : $w.height();\r\n      },\r\n      aggregate: function(contextSelector) {\r\n        var collection, waypoints, _ref;\r\n\r\n        collection = allWaypoints;\r\n        if (contextSelector) {\r\n          collection = (_ref = contexts[$(contextSelector)[0][contextKey]]) != null ? _ref.waypoints : void 0;\r\n        }\r\n        if (!collection) {\r\n          return [];\r\n        }\r\n        waypoints = {\r\n          horizontal: [],\r\n          vertical: []\r\n        };\r\n        $.each(waypoints, function(axis, arr) {\r\n          $.each(collection[axis], function(key, waypoint) {\r\n            return arr.push(waypoint);\r\n          });\r\n          arr.sort(function(a, b) {\r\n            return a.offset - b.offset;\r\n          });\r\n          waypoints[axis] = $.map(arr, function(waypoint) {\r\n            return waypoint.element;\r\n          });\r\n          return waypoints[axis] = $.unique(waypoints[axis]);\r\n        });\r\n        return waypoints;\r\n      },\r\n      above: function(contextSelector) {\r\n        if (contextSelector == null) {\r\n          contextSelector = window;\r\n        }\r\n        return jQMethods._filter(contextSelector, 'vertical', function(context, waypoint) {\r\n          return waypoint.offset <= context.oldScroll.y;\r\n        });\r\n      },\r\n      below: function(contextSelector) {\r\n        if (contextSelector == null) {\r\n          contextSelector = window;\r\n        }\r\n        return jQMethods._filter(contextSelector, 'vertical', function(context, waypoint) {\r\n          return waypoint.offset > context.oldScroll.y;\r\n        });\r\n      },\r\n      left: function(contextSelector) {\r\n        if (contextSelector == null) {\r\n          contextSelector = window;\r\n        }\r\n        return jQMethods._filter(contextSelector, 'horizontal', function(context, waypoint) {\r\n          return waypoint.offset <= context.oldScroll.x;\r\n        });\r\n      },\r\n      right: function(contextSelector) {\r\n        if (contextSelector == null) {\r\n          contextSelector = window;\r\n        }\r\n        return jQMethods._filter(contextSelector, 'horizontal', function(context, waypoint) {\r\n          return waypoint.offset > context.oldScroll.x;\r\n        });\r\n      },\r\n      enable: function() {\r\n        return jQMethods._invoke('enable');\r\n      },\r\n      disable: function() {\r\n        return jQMethods._invoke('disable');\r\n      },\r\n      destroy: function() {\r\n        return jQMethods._invoke('destroy');\r\n      },\r\n      extendFn: function(methodName, f) {\r\n        return methods[methodName] = f;\r\n      },\r\n      _invoke: function(method) {\r\n        var waypoints;\r\n\r\n        waypoints = $.extend({}, allWaypoints.vertical, allWaypoints.horizontal);\r\n        return $.each(waypoints, function(key, waypoint) {\r\n          waypoint[method]();\r\n          return true;\r\n        });\r\n      },\r\n      _filter: function(selector, axis, test) {\r\n        var context, waypoints;\r\n\r\n        context = contexts[$(selector)[0][contextKey]];\r\n        if (!context) {\r\n          return [];\r\n        }\r\n        waypoints = [];\r\n        $.each(context.waypoints[axis], function(i, waypoint) {\r\n          if (test(context, waypoint)) {\r\n            return waypoints.push(waypoint);\r\n          }\r\n        });\r\n        waypoints.sort(function(a, b) {\r\n          return a.offset - b.offset;\r\n        });\r\n        return $.map(waypoints, function(waypoint) {\r\n          return waypoint.element;\r\n        });\r\n      }\r\n    };\r\n    $[wps] = function() {\r\n      var args, method;\r\n\r\n      method = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\r\n      if (jQMethods[method]) {\r\n        return jQMethods[method].apply(null, args);\r\n      } else {\r\n        return jQMethods.aggregate.call(null, method);\r\n      }\r\n    };\r\n    $[wps].settings = {\r\n      resizeThrottle: 100,\r\n      scrollThrottle: 30\r\n    };\r\n    return $w.load(function() {\r\n      return $[wps]('refresh');\r\n    });\r\n  });\r\n\r\n}).call(this);\r\n"]}