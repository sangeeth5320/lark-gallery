{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/*!\r\n * Cube Portfolio - Responsive jQuery Grid Plugin\r\n *\r\n * version: 2.3.3 (16 June, 2015)\r\n * require: jQuery v1.7+\r\n *\r\n * Copyright 2013-2015, Mihai Buricea (http://scriptpie.com/cubeportfolio/live-preview/)\r\n * Licensed under CodeCanyon License (http://codecanyon.net/licenses)\r\n *\r\n */\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    function CubePortfolio(obj, options, callback) {\n        /*jshint validthis: true */\n        var t = this,\n            initialCls = 'cbp',\n            children;\n\n        if ($.data(obj, 'cubeportfolio')) {\n            throw new Error('cubeportfolio is already initialized. Destroy it before initialize again!');\n        }\n\n        // attached this instance to obj\n        $.data(obj, 'cubeportfolio', t);\n\n        // extend options\n        t.options = $.extend({}, $.fn.cubeportfolio.options, options);\n\n        // store the state of the animation used for filters\n        t.isAnimating = true;\n\n        // default filter for plugin\n        t.defaultFilter = t.options.defaultFilter;\n\n        // registered events (observator & publisher pattern)\n        t.registeredEvents = [];\n\n        // skip events (observator & publisher pattern)\n        t.skipEvents = [];\n\n        // has wrapper\n        t.addedWrapp = false;\n\n        // register callback function\n        if ($.isFunction(callback)) {\n            t._registerEvent('initFinish', callback, true);\n        }\n\n        // js element\n        t.obj = obj;\n\n        // jquery element\n        t.$obj = $(obj);\n\n        // when there are no .cbp-item\n        children = t.$obj.children();\n\n        // if caption is active\n        if (t.options.caption) {\n            if (!CubePortfolio.Private.modernBrowser) {\n                t.options.caption = 'minimal';\n            }\n\n            // .cbp-caption-active is used only for css\n            // so it will not generate a big css from sass if a caption is set\n            initialCls += ' cbp-caption-active cbp-caption-' + t.options.caption;\n        }\n\n        t.$obj.addClass(initialCls);\n\n        if (children.length === 0 || children.first().hasClass('cbp-item')) {\n            t.wrapInner(t.obj, 'cbp-wrapper');\n            t.addedWrapp = true;\n        }\n\n        // jquery wrapper element\n        t.$ul = t.$obj.children().addClass('cbp-wrapper');\n\n        // wrap the $ul in a outside wrapper\n        t.wrapInner(t.obj, 'cbp-wrapper-outer');\n\n        t.wrapper = t.$obj.children('.cbp-wrapper-outer');\n\n        t.blocks = t.$ul.children('.cbp-item');\n\n        // wrap .cbp-item-wrap div inside .cbp-item\n        t.wrapInner(t.blocks, 'cbp-item-wrapper');\n\n        // store main container width\n        t.width = t.$obj.outerWidth();\n\n        // wait to load all images and then go further\n        t._load(t.$obj, t._display);\n    }\n\n    $.extend(CubePortfolio.prototype, {\n\n        storeData: function (blocks) {\n            blocks.each(function (index, el) {\n                var block = $(el);\n\n                block.data('cbp', {\n                    wrapper: block.children('.cbp-item-wrapper'),\n\n                    widthInitial: block.outerWidth(),\n                    heightInitial: block.outerHeight(),\n                    width: null,\n                    height: null,\n\n                    left: null,\n                    leftNew: null,\n                    top: null,\n                    topNew: null\n                });\n            });\n        },\n\n        // http://bit.ly/pure-js-wrap\n        wrapInner: function (items, classAttr) {\n            var t = this,\n                item,\n                i,\n                div;\n\n            classAttr = classAttr || '';\n\n            if (items.length && items.length < 1) {\n                return; // there are no .cbp-item\n            } else if (items.length === undefined) {\n                    items = [items];\n                }\n\n            for (i = items.length - 1; i >= 0; i--) {\n                item = items[i];\n\n                div = document.createElement('div');\n\n                div.setAttribute('class', classAttr);\n\n                while (item.childNodes.length) {\n                    div.appendChild(item.childNodes[0]);\n                }\n\n                item.appendChild(div);\n            }\n        },\n\n        /**\r\n         * Destroy function for all captions\r\n         */\n        _captionDestroy: function () {\n            var t = this;\n            t.$obj.removeClass('cbp-caption-active cbp-caption-' + t.options.caption);\n        },\n\n        /**\r\n         * Add resize event when browser width changes\r\n         */\n        resizeEvent: function () {\n            var t = this,\n                timeout,\n                gridWidth;\n\n            // resize\n            $(window).on('resize.cbp', function () {\n                clearTimeout(timeout);\n\n                timeout = setTimeout(function () {\n\n                    if (window.innerHeight == screen.height) {\n                        // this is fulll screen mode. don't need to trigger a resize\n                        return;\n                    }\n\n                    if (t.options.gridAdjustment === 'alignCenter') {\n                        t.obj.style.maxWidth = '';\n                    }\n\n                    gridWidth = t.$obj.outerWidth();\n\n                    if (t.width !== gridWidth) {\n\n                        // update the current width\n                        t.width = gridWidth;\n\n                        t._gridAdjust();\n\n                        // reposition the blocks\n                        t._layout();\n\n                        // repositionate the blocks with the best transition available\n                        t.positionateItems();\n\n                        // resize main container height\n                        t._resizeMainContainer();\n\n                        if (t.options.layoutMode === 'slider') {\n                            t._updateSlider();\n                        }\n\n                        t._triggerEvent('resizeGrid');\n                    }\n\n                    t._triggerEvent('resizeWindow');\n                }, 80);\n            });\n        },\n\n        /**\r\n         * Wait to load all images\r\n         */\n        _load: function (obj, callback, args) {\n            var t = this,\n                imgs,\n                imgsLength,\n                imgsLoaded = 0;\n\n            args = args || [];\n\n            imgs = obj.find('img:uncached').map(function () {\n                return this.src;\n            });\n\n            imgsLength = imgs.length;\n\n            if (imgsLength === 0) {\n                callback.apply(t, args);\n            }\n\n            $.each(imgs, function (i, src) {\n                var img = new Image();\n\n                $(img).one('load.cbp error.cbp', function () {\n                    $(this).off('load.cbp error.cbp');\n\n                    imgsLoaded++;\n                    if (imgsLoaded === imgsLength) {\n                        callback.apply(t, args);\n                        return false;\n                    }\n                });\n\n                img.src = src;\n            });\n        },\n\n        /**\r\n         * Check if filters is present in url\r\n         */\n        _filterFromUrl: function () {\n            var t = this,\n                match = /#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);\n\n            if (match !== null) {\n                t.defaultFilter = match[1];\n            }\n        },\n\n        /**\r\n         * Show the plugin\r\n         */\n        _display: function () {\n            var t = this;\n\n            // store to data some values of t.blocks\n            t.storeData(t.blocks);\n\n            if (t.options.layoutMode === 'grid') {\n                // set default filter if is present in url\n                t._filterFromUrl();\n            }\n\n            if (t.defaultFilter !== '*') {\n                t.blocksOn = t.blocks.filter(t.defaultFilter);\n                t.blocks.not(t.defaultFilter).addClass('cbp-item-off');\n            } else {\n                t.blocksOn = t.blocks;\n            }\n\n            // plugins\n            t._plugins = $.map(CubePortfolio.Plugins, function (pluginName) {\n                return pluginName(t);\n            });\n\n            t._triggerEvent('initStartRead');\n            t._triggerEvent('initStartWrite');\n\n            t.localColumnWidth = t.options.gapVertical;\n\n            if (t.blocks.length) {\n                t.localColumnWidth += t.blocks.first().data('cbp').widthInitial;\n            }\n\n            t.getColumnsType = $.isArray(t.options.mediaQueries) ? '_getColumnsBreakpoints' : '_getColumnsAuto';\n\n            t._gridAdjust();\n\n            // create mark-up for layout mode\n            t['_' + t.options.layoutMode + 'Markup']();\n\n            // make layout\n            t._layout();\n\n            // positionate the blocks\n            t.positionateItems();\n\n            // resize main container height\n            t._resizeMainContainer();\n\n            t._triggerEvent('initEndRead');\n            t._triggerEvent('initEndWrite');\n\n            // plugin is ready to show and interact\n            t.$obj.addClass('cbp-ready');\n\n            t._registerEvent('delayFrame', t.delayFrame);\n\n            //  the reason is to skip this event when you want from a plugin\n            t._triggerEvent('delayFrame');\n        },\n\n        positionateItems: function () {\n            var t = this,\n                data;\n\n            t.blocksOn.each(function (index, el) {\n                data = $(el).data('cbp');\n\n                data.left = data.leftNew;\n                data.top = data.topNew;\n\n                el.style.left = data.left + 'px';\n                el.style.top = data.top + 'px';\n            });\n        },\n\n        delayFrame: function () {\n            var t = this;\n\n            requestAnimationFrame(function () {\n                t.resizeEvent();\n\n                t._triggerEvent('initFinish');\n\n                // animating is now false\n                t.isAnimating = false;\n\n                // trigger public event initComplete\n                t.$obj.trigger('initComplete.cbp');\n            });\n        },\n\n        _gridAdjust: function () {\n            var t = this;\n\n            // if responsive\n            if (t.options.gridAdjustment === 'responsive') {\n                t._responsiveLayout();\n            } else {\n                t.blocks.each(function (index, el) {\n                    var data = $(el).data('cbp');\n\n                    data.width = data.widthInitial;\n                    data.height = data.heightInitial;\n                });\n            }\n        },\n\n        /**\r\n         * Build the layout\r\n         */\n        _layout: function () {\n            var t = this;\n\n            t['_' + t.options.layoutMode + 'LayoutReset']();\n\n            t['_' + t.options.layoutMode + 'Layout']();\n\n            t.$obj.removeClass(function (index, css) {\n                return (css.match(/\\bcbp-cols-\\d+/gi) || []).join(' ');\n            });\n\n            t.$obj.addClass('cbp-cols-' + t.cols);\n        },\n\n        // create mark\n        _sliderMarkup: function () {\n            var t = this;\n\n            t.sliderStopEvents = false;\n\n            t.sliderActive = 0;\n\n            t._registerEvent('updateSliderPosition', function () {\n                t.$obj.addClass('cbp-mode-slider');\n            }, true);\n\n            t.nav = $('<div/>', {\n                'class': 'cbp-nav'\n            });\n\n            t.nav.on('click.cbp', '[data-slider-action]', function (e) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n\n                if (t.sliderStopEvents) {\n                    return;\n                }\n\n                var el = $(this),\n                    action = el.attr('data-slider-action');\n\n                if (t['_' + action + 'Slider']) {\n                    t['_' + action + 'Slider'](el);\n                }\n            });\n\n            if (t.options.showNavigation) {\n                t.controls = $('<div/>', {\n                    'class': 'cbp-nav-controls'\n                });\n\n                t.navPrev = $('<div/>', {\n                    'class': 'cbp-nav-prev',\n                    'data-slider-action': 'prev'\n                }).appendTo(t.controls);\n\n                t.navNext = $('<div/>', {\n                    'class': 'cbp-nav-next',\n                    'data-slider-action': 'next'\n                }).appendTo(t.controls);\n\n                t.controls.appendTo(t.nav);\n            }\n\n            if (t.options.showPagination) {\n                t.navPagination = $('<div/>', {\n                    'class': 'cbp-nav-pagination'\n                }).appendTo(t.nav);\n            }\n\n            if (t.controls || t.navPagination) {\n                t.nav.appendTo(t.$obj);\n            }\n\n            t._updateSliderPagination();\n\n            if (t.options.auto) {\n                if (t.options.autoPauseOnHover) {\n                    t.mouseIsEntered = false;\n                    t.$obj.on('mouseenter.cbp', function (e) {\n                        t.mouseIsEntered = true;\n                        t._stopSliderAuto();\n                    }).on('mouseleave.cbp', function (e) {\n                        t.mouseIsEntered = false;\n                        t._startSliderAuto();\n                    });\n                }\n\n                t._startSliderAuto();\n            }\n\n            if (t.options.drag && CubePortfolio.Private.modernBrowser) {\n                t._dragSlider();\n            }\n        },\n\n        _updateSlider: function () {\n            var t = this;\n\n            t._updateSliderPosition();\n\n            t._updateSliderPagination();\n        },\n\n        _updateSliderPagination: function () {\n            var t = this,\n                pages,\n                i;\n\n            if (t.options.showPagination) {\n\n                // get number of pages\n                pages = Math.ceil(t.blocksOn.length / t.cols);\n                t.navPagination.empty();\n\n                for (i = pages - 1; i >= 0; i--) {\n                    $('<div/>', {\n                        'class': 'cbp-nav-pagination-item',\n                        'data-slider-action': 'jumpTo'\n                    }).appendTo(t.navPagination);\n                }\n\n                t.navPaginationItems = t.navPagination.children();\n            }\n\n            // enable disable the nav\n            t._enableDisableNavSlider();\n        },\n\n        _destroySlider: function () {\n            var t = this;\n\n            if (t.options.layoutMode !== 'slider') {\n                return;\n            }\n\n            t.$obj.off('click.cbp');\n\n            t.$obj.removeClass('cbp-mode-slider');\n\n            if (t.options.showNavigation) {\n                t.nav.remove();\n            }\n\n            if (t.navPagination) {\n                t.navPagination.remove();\n            }\n        },\n\n        _nextSlider: function (el) {\n            var t = this;\n\n            if (t._isEndSlider()) {\n                if (t.isRewindNav()) {\n                    t.sliderActive = 0;\n                } else {\n                    return;\n                }\n            } else {\n                if (t.options.scrollByPage) {\n                    t.sliderActive = Math.min(t.sliderActive + t.cols, t.blocksOn.length - t.cols);\n                } else {\n                    t.sliderActive += 1;\n                }\n            }\n\n            t._goToSlider();\n        },\n\n        _prevSlider: function (el) {\n            var t = this;\n\n            if (t._isStartSlider()) {\n                if (t.isRewindNav()) {\n                    t.sliderActive = t.blocksOn.length - t.cols;\n                } else {\n                    return;\n                }\n            } else {\n                if (t.options.scrollByPage) {\n                    t.sliderActive = Math.max(0, t.sliderActive - t.cols);\n                } else {\n                    t.sliderActive -= 1;\n                }\n            }\n\n            t._goToSlider();\n        },\n\n        _jumpToSlider: function (el) {\n            var t = this,\n                index = Math.min(el.index() * t.cols, t.blocksOn.length - t.cols);\n\n            if (index === t.sliderActive) {\n                return;\n            }\n\n            t.sliderActive = index;\n\n            t._goToSlider();\n        },\n\n        _jumpDragToSlider: function (pos) {\n            var t = this,\n                jumpWidth,\n                offset,\n                condition,\n                index,\n                dragLeft = pos > 0 ? true : false;\n\n            if (t.options.scrollByPage) {\n                jumpWidth = t.cols * t.localColumnWidth;\n                offset = t.cols;\n            } else {\n                jumpWidth = t.localColumnWidth;\n                offset = 1;\n            }\n\n            pos = Math.abs(pos);\n            index = Math.floor(pos / jumpWidth) * offset;\n            if (pos % jumpWidth > 20) {\n                index += offset;\n            }\n\n            if (dragLeft) {\n                // drag to left\n                t.sliderActive = Math.min(t.sliderActive + index, t.blocksOn.length - t.cols);\n            } else {\n                // drag to right\n                t.sliderActive = Math.max(0, t.sliderActive - index);\n            }\n\n            t._goToSlider();\n        },\n\n        _isStartSlider: function () {\n            return this.sliderActive === 0;\n        },\n\n        _isEndSlider: function () {\n            var t = this;\n            return t.sliderActive + t.cols > t.blocksOn.length - 1;\n        },\n\n        _goToSlider: function () {\n            var t = this;\n\n            // enable disable the nav\n            t._enableDisableNavSlider();\n\n            t._updateSliderPosition();\n        },\n\n        _startSliderAuto: function () {\n            var t = this;\n\n            if (t.isDrag) {\n                t._stopSliderAuto();\n                return;\n            }\n\n            t.timeout = setTimeout(function () {\n\n                // go to next slide\n                t._nextSlider();\n\n                // start auto\n                t._startSliderAuto();\n            }, t.options.autoTimeout);\n        },\n\n        _stopSliderAuto: function () {\n            clearTimeout(this.timeout);\n        },\n\n        _enableDisableNavSlider: function () {\n            var t = this,\n                page,\n                method;\n\n            if (!t.isRewindNav()) {\n                method = t._isStartSlider() ? 'addClass' : 'removeClass';\n                t.navPrev[method]('cbp-nav-stop');\n\n                method = t._isEndSlider() ? 'addClass' : 'removeClass';\n                t.navNext[method]('cbp-nav-stop');\n            }\n\n            if (t.options.showPagination) {\n\n                if (t.options.scrollByPage) {\n                    page = Math.ceil(t.sliderActive / t.cols);\n                } else {\n                    if (t._isEndSlider()) {\n                        page = t.navPaginationItems.length - 1;\n                    } else {\n                        page = Math.floor(t.sliderActive / t.cols);\n                    }\n                }\n\n                // add class active on pagination's items\n                t.navPaginationItems.removeClass('cbp-nav-pagination-active').eq(page).addClass('cbp-nav-pagination-active');\n            }\n        },\n\n        /**\r\n         * If slider loop is enabled don't add classes to `next` and `prev` buttons\r\n         */\n        isRewindNav: function () {\n            var t = this;\n\n            if (!t.options.showNavigation) {\n                return true;\n            }\n\n            if (t.blocksOn.length <= t.cols) {\n                return false;\n            }\n\n            if (t.options.rewindNav) {\n                return true;\n            }\n\n            return false;\n        },\n\n        sliderItemsLength: function () {\n            return this.blocksOn.length <= this.cols;\n        },\n\n        /**\r\n         * Arrange the items in a slider layout\r\n         */\n        _sliderLayout: function () {\n            var t = this;\n\n            t.blocksOn.each(function (index, el) {\n                var data = $(el).data('cbp');\n\n                // update the values with the new ones\n                data.leftNew = Math.round(t.localColumnWidth * index);\n                data.topNew = 0;\n\n                t.colVert.push(data.height + t.options.gapHorizontal);\n            });\n\n            t.sliderColVert = t.colVert.slice(t.sliderActive, t.sliderActive + t.cols);\n\n            t.ulWidth = t.localColumnWidth * t.blocksOn.length - t.options.gapVertical;\n            t.$ul.width(t.ulWidth);\n        },\n\n        _updateSliderPosition: function () {\n            var t = this,\n                value = -t.sliderActive * t.localColumnWidth;\n\n            t._triggerEvent('updateSliderPosition');\n\n            if (CubePortfolio.Private.modernBrowser) {\n                t.$ul[0].style[CubePortfolio.Private.transform] = 'translate3d(' + value + 'px, 0px, 0)';\n            } else {\n                t.$ul[0].style.left = value + 'px';\n            }\n\n            t.sliderColVert = t.colVert.slice(t.sliderActive, t.sliderActive + t.cols);\n\n            t._resizeMainContainer();\n        },\n\n        _dragSlider: function () {\n            var t = this,\n                $document = $(document),\n                posInitial,\n                pos,\n                target,\n                ulPosition,\n                ulMaxWidth,\n                isAnimating = false,\n                events = {},\n                isTouch = false,\n                touchStartEvent,\n                isHover = false;\n\n            t.isDrag = false;\n\n            if ('ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) {\n\n                events = {\n                    start: 'touchstart.cbp',\n                    move: 'touchmove.cbp',\n                    end: 'touchend.cbp'\n                };\n\n                isTouch = true;\n            } else {\n                events = {\n                    start: 'mousedown.cbp',\n                    move: 'mousemove.cbp',\n                    end: 'mouseup.cbp'\n                };\n            }\n\n            function dragStart(e) {\n                if (t.sliderItemsLength()) {\n                    return;\n                }\n\n                if (!isTouch) {\n                    e.preventDefault();\n                } else {\n                    touchStartEvent = e;\n                }\n\n                if (t.options.auto) {\n                    t._stopSliderAuto();\n                }\n\n                if (isAnimating) {\n                    $(target).one('click.cbp', function () {\n                        return false;\n                    });\n                    return;\n                }\n\n                target = $(e.target);\n                posInitial = pointerEventToXY(e).x;\n                pos = 0;\n                ulPosition = -t.sliderActive * t.localColumnWidth;\n                ulMaxWidth = t.localColumnWidth * (t.blocksOn.length - t.cols);\n\n                $document.on(events.move, dragMove);\n                $document.on(events.end, dragEnd);\n\n                t.$obj.addClass('cbp-mode-slider-dragStart');\n            }\n\n            function dragEnd(e) {\n                t.$obj.removeClass('cbp-mode-slider-dragStart');\n\n                // put the state to animate\n                isAnimating = true;\n\n                if (pos !== 0) {\n                    target.one('click.cbp', function () {\n                        return false;\n                    });\n\n                    t._jumpDragToSlider(pos);\n\n                    t.$ul.one(CubePortfolio.Private.transitionend, afterDragEnd);\n                } else {\n                    afterDragEnd.call(t);\n                }\n\n                $document.off(events.move);\n                $document.off(events.end);\n            }\n\n            function dragMove(e) {\n                pos = posInitial - pointerEventToXY(e).x;\n\n                if (pos > 8 || pos < -8) {\n                    e.preventDefault();\n                }\n\n                t.isDrag = true;\n\n                var value = ulPosition - pos;\n\n                if (pos < 0 && pos < ulPosition) {\n                    // to right\n                    value = (ulPosition - pos) / 5;\n                } else if (pos > 0 && ulPosition - pos < -ulMaxWidth) {\n                    // to left\n                    value = -ulMaxWidth + (ulMaxWidth + ulPosition - pos) / 5;\n                }\n\n                if (CubePortfolio.Private.modernBrowser) {\n                    t.$ul[0].style[CubePortfolio.Private.transform] = 'translate3d(' + value + 'px, 0px, 0)';\n                } else {\n                    t.$ul[0].style.left = value + 'px';\n                }\n            }\n\n            function afterDragEnd() {\n                isAnimating = false;\n                t.isDrag = false;\n\n                if (t.options.auto) {\n\n                    if (t.mouseIsEntered) {\n                        return;\n                    }\n\n                    t._startSliderAuto();\n                }\n            }\n\n            function pointerEventToXY(e) {\n\n                if (e.originalEvent !== undefined && e.originalEvent.touches !== undefined) {\n                    e = e.originalEvent.touches[0];\n                }\n\n                return {\n                    x: e.pageX,\n                    y: e.pageY\n                };\n            }\n\n            t.$ul.on(events.start, dragStart);\n        },\n\n        /**\r\n         * Reset the slider layout\r\n         */\n        _sliderLayoutReset: function () {\n            var t = this;\n            t.colVert = [];\n        },\n\n        // create mark\n        _gridMarkup: function () {},\n\n        /**\r\n         * Arrange the items in a grid layout\r\n         */\n        _gridLayout: function () {\n            var t = this;\n\n            t.blocksOn.each(function (index, el) {\n                var minVert = Math.min.apply(Math, t.colVert),\n                    column = 0,\n                    data = $(el).data('cbp'),\n                    setHeight,\n                    colsLen,\n                    i,\n                    len;\n\n                for (i = 0, len = t.colVert.length; i < len; i++) {\n                    if (t.colVert[i] === minVert) {\n                        column = i;\n                        break;\n                    }\n                }\n\n                // update the values with the new ones\n                data.leftNew = Math.round(t.localColumnWidth * column);\n                data.topNew = Math.round(minVert);\n\n                setHeight = minVert + data.height + t.options.gapHorizontal;\n                colsLen = t.cols + 1 - len;\n\n                for (i = 0; i < colsLen; i++) {\n                    t.colVert[column + i] = setHeight;\n                }\n            });\n        },\n\n        /**\r\n         * Reset the grid layout\r\n         */\n        _gridLayoutReset: function () {\n            var c,\n                t = this;\n\n            // @options gridAdjustment = alignCenter\n            if (t.options.gridAdjustment === 'alignCenter') {\n\n                // calculate numbers of columns\n                t.cols = Math.max(Math.floor((t.width + t.options.gapVertical) / t.localColumnWidth), 1);\n\n                t.width = t.cols * t.localColumnWidth - t.options.gapVertical;\n                t.$obj.css('max-width', t.width);\n            } else {\n\n                // calculate numbers of columns\n                t.cols = Math.max(Math.floor((t.width + t.options.gapVertical) / t.localColumnWidth), 1);\n            }\n\n            t.colVert = [];\n            c = t.cols;\n\n            while (c--) {\n                t.colVert.push(0);\n            }\n        },\n\n        /**\r\n         * Make this plugin responsive\r\n         */\n        _responsiveLayout: function () {\n            var t = this,\n                widthWithoutGap,\n                itemWidth;\n\n            if (!t.columnWidthCache) {\n                t.columnWidthCache = t.localColumnWidth;\n            } else {\n                t.localColumnWidth = t.columnWidthCache;\n            }\n\n            // calculate numbers of cols\n            t.cols = t[t.getColumnsType]();\n\n            // calculate the with of items without the gaps between them\n            widthWithoutGap = t.width - t.options.gapVertical * (t.cols - 1);\n\n            // calculate column with based on widthWithoutGap plus the gap\n            t.localColumnWidth = parseInt(widthWithoutGap / t.cols, 10) + t.options.gapVertical;\n\n            itemWidth = t.localColumnWidth - t.options.gapVertical;\n\n            t.blocks.each(function (index, item) {\n                item.style.width = itemWidth + 'px';\n\n                $(item).data('cbp').width = itemWidth;\n            });\n\n            t.blocks.each(function (index, el) {\n                var item = $(el);\n\n                item.data('cbp').height = item.outerHeight();\n            });\n        },\n\n        /**\r\n         * Get numbers of columns when t.options.mediaQueries is not an array\r\n         */\n        _getColumnsAuto: function () {\n            var t = this;\n            return Math.max(Math.round(t.width / t.localColumnWidth), 1);\n        },\n\n        /**\r\n         * Get numbers of columns where t.options.mediaQueries is an array\r\n         */\n        _getColumnsBreakpoints: function () {\n            var t = this,\n                gridWidth = t.width - t.options.gapVertical,\n                cols;\n\n            $.each(t.options.mediaQueries, function (index, val) {\n                if (gridWidth >= val.width) {\n                    cols = val.cols;\n                    return false;\n                }\n            });\n\n            if (cols === undefined) {\n                cols = t.options.mediaQueries[t.options.mediaQueries.length - 1].cols;\n            }\n\n            return cols;\n        },\n\n        /**\r\n         * Resize main container vertically\r\n         */\n        _resizeMainContainer: function () {\n            var t = this,\n                cols = t.sliderColVert || t.colVert,\n                height;\n\n            // set container height for `overflow: hidden` to be applied\n            height = Math.max(Math.max.apply(Math, cols) - t.options.gapHorizontal, 0);\n\n            if (height === t.height) {\n                return;\n            }\n\n            t.obj.style.height = height + 'px';\n\n            // if _resizeMainContainer is called for the first time skip this event trigger\n            if (t.height !== undefined) {\n                if (CubePortfolio.Private.modernBrowser) {\n                    t.$obj.one(CubePortfolio.Private.transitionend, function () {\n                        t.$obj.trigger('pluginResize.cbp');\n                    });\n                } else {\n                    t.$obj.trigger('pluginResize.cbp');\n                }\n            }\n\n            t.height = height;\n        },\n\n        _filter: function (filterName) {\n            var t = this;\n\n            // blocks that are visible before applying the filter\n            t.blocksOnInitial = t.blocksOn;\n\n            // blocks visible after applying the filter\n            t.blocksOn = t.blocks.filter(filterName);\n\n            // blocks off after applying the filter\n            t.blocksOff = t.blocks.not(filterName);\n\n            // call layout\n            t._layout();\n\n            // filter call layout\n            t.filterLayout(filterName);\n        },\n\n        /**\r\n         *  Default filter layout if nothing overrides\r\n         */\n        filterLayout: function (filterName) {\n            var t = this;\n\n            t.blocksOff.addClass('cbp-item-off');\n\n            t.blocksOn.removeClass('cbp-item-off').each(function (index, el) {\n                var data = $(el).data('cbp');\n\n                data.left = data.leftNew;\n                data.top = data.topNew;\n\n                el.style.left = data.left + 'px';\n                el.style.top = data.top + 'px';\n            });\n\n            // resize main container height\n            t._resizeMainContainer();\n\n            t.filterFinish();\n        },\n\n        /**\r\n         *  Trigger when a filter is finished\r\n         */\n        filterFinish: function () {\n            var t = this;\n\n            t.isAnimating = false;\n\n            t.$obj.trigger('filterComplete.cbp');\n            t._triggerEvent('filterFinish');\n        },\n\n        /**\r\n         *  Register event\r\n         */\n        _registerEvent: function (name, callbackFunction, oneTime) {\n            var t = this;\n\n            if (!t.registeredEvents[name]) {\n                t.registeredEvents[name] = [];\n            }\n\n            t.registeredEvents[name].push({\n                func: callbackFunction,\n                oneTime: oneTime || false\n            });\n        },\n\n        /**\r\n         *  Trigger event\r\n         */\n        _triggerEvent: function (name, param) {\n            var t = this,\n                i,\n                len;\n\n            if (t.skipEvents[name]) {\n                delete t.skipEvents[name];\n                return;\n            }\n\n            if (t.registeredEvents[name]) {\n                for (i = 0, len = t.registeredEvents[name].length; i < len; i++) {\n\n                    t.registeredEvents[name][i].func.call(t, param);\n\n                    if (t.registeredEvents[name][i].oneTime) {\n                        t.registeredEvents[name].splice(i, 1);\n                        // function splice change the t.registeredEvents[name] array\n                        // if event is one time you must set the i to the same value\n                        // next time and set the length lower\n                        i--;\n                        len--;\n                    }\n                }\n            }\n        },\n\n        /**\r\n         *  Delay trigger event\r\n         */\n        _skipNextEvent: function (name) {\n            var t = this;\n            t.skipEvents[name] = true;\n        },\n\n        _addItems: function (els, callback) {\n            var t = this,\n                items = $(els).filter('.cbp-item').addClass('cbp-loading-fadeIn').css('top', '1000%').wrapInner('<div class=\"cbp-item-wrapper\"></div>');\n\n            if (!items.length) {\n                t.isAnimating = false;\n\n                if ($.isFunction(callback)) {\n                    callback.call(t);\n                }\n                return;\n            }\n\n            t._load(items, function () {\n\n                t.$obj.addClass('cbp-addItems');\n\n                items.appendTo(t.$ul);\n\n                // cache the new items to t.blocks\n                $.merge(t.blocks, items);\n\n                // push to data some values of items\n                t.storeData(items);\n\n                if (t.defaultFilter !== '*') {\n                    t.blocksOn = t.blocks.filter(t.defaultFilter);\n                    t.blocks.not(t.defaultFilter).addClass('cbp-item-off');\n                } else {\n                    t.blocksOn = t.blocks;\n                }\n\n                items.on(CubePortfolio.Private.animationend, function () {\n                    t.$obj.find('.cbp-loading-fadeIn').removeClass('cbp-loading-fadeIn');\n                    t.$obj.removeClass('cbp-addItems');\n                });\n\n                t._triggerEvent('addItemsToDOM', items);\n\n                t._gridAdjust();\n\n                t._layout();\n\n                t.positionateItems();\n\n                // resize main container height\n                t._resizeMainContainer();\n\n                if (t.options.layoutMode === 'slider') {\n                    t._updateSlider();\n                }\n\n                // if show count was actived, call show count function again\n                if (t.elems) {\n                    CubePortfolio.Public.showCounter.call(t.obj, t.elems);\n                }\n\n                if (CubePortfolio.Private.modernBrowser) {\n                    items.last().one(CubePortfolio.Private.animationend, function () {\n                        t.isAnimating = false;\n\n                        if ($.isFunction(callback)) {\n                            callback.call(t);\n                        }\n                    });\n                } else {\n                    t.isAnimating = false;\n\n                    if ($.isFunction(callback)) {\n                        callback.call(t);\n                    }\n                }\n            });\n        }\n\n    });\n\n    /**\r\n     * jQuery plugin initializer\r\n     */\n    $.fn.cubeportfolio = function (method, options, callback) {\n\n        return this.each(function () {\n\n            if (typeof method === 'object' || !method) {\n                return CubePortfolio.Public.init.call(this, method, callback);\n            } else if (CubePortfolio.Public[method]) {\n                return CubePortfolio.Public[method].call(this, options, callback);\n            }\n\n            throw new Error('Method ' + method + ' does not exist on jquery.cubeportfolio.js');\n        });\n    };\n\n    // Plugin default options\n    $.fn.cubeportfolio.options = {\n        /**\r\n         *  Is used to define the wrapper for filters\r\n         *  Values: strings that represent the elements in the document (DOM selector).\r\n         */\n        filters: '',\n\n        /**\r\n         *  Is used to define the wrapper for loadMore\r\n         *  Values: strings that represent the elements in the document (DOM selector).\r\n         */\n        loadMore: '',\n\n        /**\r\n         *  How the loadMore functionality should behave. Load on click on the button or\r\n         *  automatically when you scroll the page\r\n         *  Values: - click\r\n         *          - auto\r\n         */\n        loadMoreAction: 'click',\n\n        /**\r\n         *  Layout Mode for this instance\r\n         *  Values: 'grid' or 'slider'\r\n         */\n        layoutMode: 'grid',\n\n        /**\r\n         *  Mouse and touch drag support\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\n        drag: true,\n\n        /**\r\n         *  Autoplay the slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\n        auto: false,\n\n        /**\r\n         *  Autoplay interval timeout. Time is set in milisecconds\r\n         *  1000 milliseconds equals 1 second.\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: only integers (ex: 1000, 2000, 5000)\r\n         */\n        autoTimeout: 5000,\n\n        /**\r\n         *  Stops autoplay when user hover the slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\n        autoPauseOnHover: true,\n\n        /**\r\n         *  Show `next` and `prev` buttons for slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\n        showNavigation: true,\n\n        /**\r\n         *  Show pagination for slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\n        showPagination: true,\n\n        /**\r\n         *  Enable slide to first item (last item)\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\n        rewindNav: true,\n\n        /**\r\n         *  Scroll by page and not by item. This option affect next/prev buttons and drag support\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\n        scrollByPage: false,\n\n        /**\r\n         *  Default filter for plugin\r\n         *  Option available only for `layoutMode: 'grid'`\r\n         *  Values: strings that represent the filter name(ex: *, .logo, .web-design, .design)\r\n         */\n        defaultFilter: '*',\n\n        /**\r\n         *  Enable / disable the deeplinking feature when you click on filters\r\n         *  Option available only for `layoutMode: 'grid'`\r\n         *  Values: true or false\r\n         */\n        filterDeeplinking: false,\n\n        /**\r\n         *  Defines which animation to use for items that will be shown or hidden after a filter has been activated.\r\n         *  Option available only for `layoutMode: 'grid'`\r\n         *  The plugin use the best browser features available (css3 transitions and transform, GPU acceleration).\r\n         *  Values: - fadeOut\r\n         *          - quicksand\r\n         *          - bounceLeft\r\n         *          - bounceTop\r\n         *          - bounceBottom\r\n         *          - moveLeft\r\n         *          - slideLeft\r\n         *          - fadeOutTop\r\n         *          - sequentially\r\n         *          - skew\r\n         *          - slideDelay\r\n         *          - rotateSides\r\n         *          - flipOutDelay\r\n         *          - flipOut\r\n         *          - unfold\r\n         *          - foldLeft\r\n         *          - scaleDown\r\n         *          - scaleSides\r\n         *          - frontRow\r\n         *          - flipBottom\r\n         *          - rotateRoom\r\n         */\n        animationType: 'fadeOut',\n\n        /**\r\n         *  Adjust the layout grid\r\n         *  Values: - default (no adjustment applied)\r\n         *          - alignCenter (align the grid on center of the page)\r\n         *          - responsive (use a fluid grid to resize the grid)\r\n         */\n        gridAdjustment: 'responsive',\n\n        /**\r\n         * Define `media queries` for columns layout.\r\n         * Format: [{width: a, cols: d}, {width: b, cols: e}, {width: c, cols: f}],\r\n         * where a, b, c are the grid width and d, e, f are the columns displayed.\r\n         * e.g. [{width: 1100, cols: 4}, {width: 800, cols: 3}, {width: 480, cols: 2}] means\r\n         * if (gridWidth >= 1100) => show 4 columns,\r\n         * if (gridWidth >= 800 && gridWidth < 1100) => show 3 columns,\r\n         * if (gridWidth >= 480 && gridWidth < 800) => show 2 columns,\r\n         * if (gridWidth < 480) => show 2 columns\r\n         * Keep in mind that a > b > c\r\n         * This option is available only when `gridAdjustment: 'responsive'`\r\n         * Values:  - array of objects of format: [{width: a, cols: d}, {width: b, cols: e}]\r\n         *          - you can define as many objects as you want\r\n         *          - if this option is `false` Cube Portfolio will adjust the items\r\n         *            width automatically (default option for backward compatibility)\r\n         */\n        mediaQueries: false,\n\n        /**\r\n         *  Horizontal gap between items\r\n         *  Values: only integers (ex: 1, 5, 10)\r\n         */\n        gapHorizontal: 10,\n\n        /**\r\n         *  Vertical gap between items\r\n         *  Values: only integers (ex: 1, 5, 10)\r\n         */\n        gapVertical: 10,\n\n        /**\r\n         *  Caption - the overlay that is shown when you put the mouse over an item\r\n         *  NOTE: If you don't want to have captions set this option to an empty string ( caption: '')\r\n         *  Values: - pushTop\r\n         *          - pushDown\r\n         *          - revealBottom\r\n         *          - revealTop\r\n         *          - moveRight\r\n         *          - moveLeft\r\n         *          - overlayBottomPush\r\n         *          - overlayBottom\r\n         *          - overlayBottomReveal\r\n         *          - overlayBottomAlong\r\n         *          - overlayRightAlong\r\n         *          - minimal\r\n         *          - fadeIn\r\n         *          - zoom\r\n         *          - opacity\r\n         */\n        caption: 'pushTop',\n\n        /**\r\n         *  The plugin will display his content based on the following values.\r\n         *  Values: - default (the content will be displayed as soon as possible)\r\n         *          - lazyLoading (the plugin will fully preload the images before displaying the items with a fadeIn effect)\r\n         *          - fadeInToTop (the plugin will fully preload the images before displaying the items with a fadeIn effect from bottom to top)\r\n         *          - sequentially (the plugin will fully preload the images before displaying the items with a sequentially effect)\r\n         *          - bottomToTop (the plugin will fully preload the images before displaying the items with an animation from bottom to top)\r\n         */\n        displayType: 'lazyLoading',\n\n        /**\r\n         *  Defines the speed of displaying the items (when `displayType == default` this option will have no effect)\r\n         *  Values: only integers, values in ms (ex: 200, 300, 500)\r\n         */\n        displayTypeSpeed: 400,\n\n        /**\r\n         *  This is used to define any clickable elements you wish to use to trigger lightbox popup on click.\r\n         *  Values: strings that represent the elements in the document (DOM selector)\r\n         */\n        lightboxDelegate: '.cbp-lightbox',\n\n        /**\r\n         *  Enable / disable gallery mode\r\n         *  Values: true or false\r\n         */\n        lightboxGallery: true,\n\n        /**\r\n         *  Attribute of the delegate item that contains caption for lightbox\r\n         *  Values: html atributte\r\n         */\n        lightboxTitleSrc: 'data-title',\n\n        /**\r\n         *  Markup of the lightbox counter\r\n         *  Values: html markup\r\n         */\n        lightboxCounter: '<div class=\"cbp-popup-lightbox-counter\">{{current}} of {{total}}</div>',\n\n        /**\r\n         *  This is used to define any clickable elements you wish to use to trigger singlePage popup on click.\r\n         *  Values: strings that represent the elements in the document (DOM selector)\r\n         */\n        singlePageDelegate: '.cbp-singlePage',\n\n        /**\r\n         *  Enable / disable the deeplinking feature for singlePage popup\r\n         *  Values: true or false\r\n         */\n        singlePageDeeplinking: true,\n\n        /**\r\n         *  Enable / disable the sticky navigation for singlePage popup\r\n         *  Values: true or false\r\n         */\n        singlePageStickyNavigation: true,\n\n        /**\r\n         *  Markup of the singlePage counter\r\n         *  Values: html markup\r\n         */\n        singlePageCounter: '<div class=\"cbp-popup-singlePage-counter\">{{current}} of {{total}}</div>',\n\n        /**\r\n         *  Defines which animation to use when singlePage appear\r\n         *  Values: - left\r\n         *          - fade\r\n         *          - right\r\n         */\n        singlePageAnimation: 'left',\n\n        /**\r\n         *  Use this callback to update singlePage content.\r\n         *  The callback will trigger after the singlePage popup will open.\r\n         *  @param url = the href attribute of the item clicked\r\n         *  @param element = the item clicked\r\n         *  Values: function\r\n         */\n        singlePageCallback: function (url, element) {\n            // to update singlePage content use the following method: this.updateSinglePage(yourContent)\n        },\n\n        /**\r\n         *  This is used to define any clickable elements you wish to use to trigger singlePage Inline on click.\r\n         *  Values: strings that represent the elements in the document (DOM selector)\r\n         */\n        singlePageInlineDelegate: '.cbp-singlePageInline',\n\n        /**\r\n         *  This is used to define the position of singlePage Inline block\r\n         *  Values: - above ( above current element )\r\n         *          - below ( below current elemnet)\r\n         *          - top ( positon top )\r\n         *          - bottom ( positon bottom )\r\n         */\n        singlePageInlinePosition: 'top',\n\n        /**\r\n         *  Push the open panel in focus and at close go back to the former stage\r\n         *  Values: true or false\r\n         */\n        singlePageInlineInFocus: true,\n\n        /**\r\n         *  Use this callback to update singlePage Inline content.\r\n         *  The callback will trigger after the singlePage Inline will open.\r\n         *  @param url = the href attribute of the item clicked\r\n         *  @param element = the item clicked\r\n         *  Values: function\r\n         */\n        singlePageInlineCallback: function (url, element) {\n            // to update singlePage Inline content use the following method: this.updateSinglePageInline(yourContent)\n        }\n\n    };\n\n    CubePortfolio.Plugins = {};\n    $.fn.cubeportfolio.Constructor = CubePortfolio;\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function Filters(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        t.filters = $(parent.options.filters);\n\n        t.wrap = $();\n\n        t.registerFilter();\n    }\n\n    Filters.prototype.registerFilter = function () {\n        var t = this,\n            parent = t.parent,\n            filtersCallback;\n\n        t.filters.each(function (index, el) {\n            var filter = $(el),\n                wrap;\n\n            if (filter.hasClass('cbp-l-filters-dropdown')) {\n                wrap = filter.find('.cbp-l-filters-dropdownWrap');\n\n                wrap.on({\n                    'mouseover.cbp': function () {\n                        wrap.addClass('cbp-l-filters-dropdownWrap-open');\n                    },\n                    'mouseleave.cbp': function () {\n                        wrap.removeClass('cbp-l-filters-dropdownWrap-open');\n                    }\n                });\n\n                filtersCallback = function (me) {\n                    wrap.find('.cbp-filter-item').removeClass('cbp-filter-item-active');\n                    wrap.find('.cbp-l-filters-dropdownHeader').text(me.text());\n                    me.addClass('cbp-filter-item-active');\n                    wrap.trigger('mouseleave.cbp');\n                };\n\n                t.wrap.add(wrap);\n            } else {\n                filtersCallback = function (me) {\n                    me.addClass('cbp-filter-item-active').siblings().removeClass('cbp-filter-item-active');\n                };\n            }\n\n            filtersCallback(filter.find('.cbp-filter-item').filter('[data-filter=\"' + parent.defaultFilter + '\"]'));\n\n            filter.on('click.cbp', '.cbp-filter-item', function () {\n                var me = $(this);\n\n                if (me.hasClass('cbp-filter-item-active')) {\n                    return;\n                }\n\n                // get cubeportfolio data and check if is still animating (reposition) the items.\n                if (!parent.isAnimating) {\n                    filtersCallback.call(null, me);\n                }\n\n                // filter the items\n                parent.$obj.cubeportfolio('filter', me.data('filter'));\n            });\n\n            // activate counter for filters\n            parent.$obj.cubeportfolio('showCounter', filter.find('.cbp-filter-item'), function () {\n                // read from url and change filter active\n                var match = /#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href),\n                    item;\n                if (match !== null) {\n                    item = filter.find('.cbp-filter-item').filter('[data-filter=\"' + match[1] + '\"]');\n                    if (item.length) {\n                        filtersCallback.call(null, item);\n                    }\n                }\n            });\n        });\n    };\n\n    Filters.prototype.destroy = function () {\n        var t = this;\n\n        t.filters.off('.cbp');\n        if (t.wrap) {\n            t.wrap.off('.cbp');\n        }\n    };\n\n    CubePortfolio.Plugins.Filters = function (parent) {\n\n        if (parent.options.filters === '') {\n            return null;\n        }\n\n        return new Filters(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function LoadMore(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        t.loadMore = $(parent.options.loadMore).find('.cbp-l-loadMore-link');\n\n        // load click or auto action\n        if (parent.options.loadMoreAction.length) {\n            t[parent.options.loadMoreAction]();\n        }\n    }\n\n    LoadMore.prototype.click = function () {\n        var t = this,\n            numberOfClicks = 0;\n\n        t.loadMore.on('click.cbp', function (e) {\n            var item = $(this);\n\n            e.preventDefault();\n\n            if (item.hasClass('cbp-l-loadMore-stop')) {\n                return;\n            }\n\n            // set loading status\n            item.addClass('cbp-l-loadMore-loading');\n\n            numberOfClicks++;\n\n            // perform ajax request\n            $.ajax({\n                url: t.loadMore.attr('href'),\n                type: 'GET',\n                dataType: 'HTML'\n            }).done(function (result) {\n                var items, itemsNext;\n\n                // find current container\n                items = $(result).filter(function () {\n                    return $(this).is('div' + '.cbp-loadMore-block' + numberOfClicks);\n                });\n\n                t.parent.$obj.cubeportfolio('appendItems', items.html(), function () {\n\n                    // put the original message back\n                    item.removeClass('cbp-l-loadMore-loading');\n\n                    // check if we have more works\n                    itemsNext = $(result).filter(function () {\n                        return $(this).is('div' + '.cbp-loadMore-block' + (numberOfClicks + 1));\n                    });\n\n                    if (itemsNext.length === 0) {\n                        item.addClass('cbp-l-loadMore-stop');\n                    }\n                });\n            }).fail(function () {\n                // error\n            });\n        });\n    };\n\n    LoadMore.prototype.auto = function () {\n        var t = this;\n\n        t.parent.$obj.on('initComplete.cbp', function () {\n            Object.create({\n                init: function () {\n                    var self = this;\n\n                    // the job inactive\n                    self.isActive = false;\n\n                    self.numberOfClicks = 0;\n\n                    // set loading status\n                    t.loadMore.addClass('cbp-l-loadMore-loading');\n\n                    // cache window selector\n                    self.window = $(window);\n\n                    // add events for scroll\n                    self.addEvents();\n\n                    // trigger method on init\n                    self.getNewItems();\n                },\n\n                addEvents: function () {\n                    var self = this,\n                        timeout;\n\n                    t.loadMore.on('click.cbp', function (e) {\n                        e.preventDefault();\n                    });\n\n                    self.window.on('scroll.loadMoreObject', function () {\n\n                        clearTimeout(timeout);\n\n                        timeout = setTimeout(function () {\n                            if (!t.parent.isAnimating) {\n                                // get new items on scroll\n                                self.getNewItems();\n                            }\n                        }, 80);\n                    });\n\n                    // when the filter is completed\n                    t.parent.$obj.on('filterComplete.cbp', function () {\n                        self.getNewItems();\n                    });\n                },\n\n                getNewItems: function () {\n                    var self = this,\n                        topLoadMore,\n                        topWindow;\n\n                    if (self.isActive || t.loadMore.hasClass('cbp-l-loadMore-stop')) {\n                        return;\n                    }\n\n                    topLoadMore = t.loadMore.offset().top;\n                    topWindow = self.window.scrollTop() + self.window.height();\n\n                    if (topLoadMore > topWindow) {\n                        return;\n                    }\n\n                    // this job is now busy\n                    self.isActive = true;\n\n                    // increment number of clicks\n                    self.numberOfClicks++;\n\n                    // perform ajax request\n                    $.ajax({\n                        url: t.loadMore.attr('href'),\n                        type: 'GET',\n                        dataType: 'HTML',\n                        cache: true\n                    }).done(function (result) {\n                        var items, itemsNext;\n\n                        // find current container\n                        items = $(result).filter(function () {\n                            return $(this).is('div' + '.cbp-loadMore-block' + self.numberOfClicks);\n                        });\n\n                        t.parent.$obj.cubeportfolio('appendItems', items.html(), function () {\n                            // check if we have more works\n                            itemsNext = $(result).filter(function () {\n                                return $(this).is('div' + '.cbp-loadMore-block' + (self.numberOfClicks + 1));\n                            });\n\n                            if (itemsNext.length === 0) {\n                                t.loadMore.addClass('cbp-l-loadMore-stop');\n\n                                // remove events\n                                self.window.off('scroll.loadMoreObject');\n                                t.parent.$obj.off('filterComplete.cbp');\n                            } else {\n                                // make the job inactive\n                                self.isActive = false;\n\n                                self.window.trigger('scroll.loadMoreObject');\n                            }\n                        });\n                    }).fail(function () {\n                        // make the job inactive\n                        self.isActive = false;\n                    });\n                }\n            }).init();\n        });\n    };\n\n    LoadMore.prototype.destroy = function () {\n        var t = this;\n\n        t.loadMore.off('.cbp');\n\n        $(window).off('scroll.loadMoreObject');\n    };\n\n    CubePortfolio.Plugins.LoadMore = function (parent) {\n\n        if (parent.options.loadMore === '') {\n            return null;\n        }\n\n        return new LoadMore(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    var popup = {\n\n        /**\r\n         * init function for popup\r\n         * @param cubeportfolio = cubeportfolio instance\r\n         * @param type =  'lightbox' or 'singlePage'\r\n         */\n        init: function (cubeportfolio, type) {\n            var t = this,\n                currentBlock;\n\n            // remember cubeportfolio instance\n            t.cubeportfolio = cubeportfolio;\n\n            // remember if this instance is for lightbox or for singlePage\n            t.type = type;\n\n            // remember if the popup is open or not\n            t.isOpen = false;\n\n            t.options = t.cubeportfolio.options;\n\n            if (type === 'lightbox') {\n                t.cubeportfolio._registerEvent('resizeWindow', function () {\n                    t.resizeImage();\n                });\n            }\n\n            if (type === 'singlePageInline') {\n\n                t.startInline = -1;\n\n                t.height = 0;\n\n                // create markup, css and add events for SinglePageInline\n                t._createMarkupSinglePageInline();\n\n                t.cubeportfolio._registerEvent('resizeGrid', function () {\n                    if (t.isOpen) {\n                        // @todo must add support for this features in the future\n                        t.close(); // workaround\n                    }\n                });\n\n                return;\n            }\n\n            // create markup, css and add events for lightbox and singlePage\n            t._createMarkup();\n\n            if (type === 'singlePage') {\n\n                t.cubeportfolio._registerEvent('resizeWindow', function () {\n                    if (t.options.singlePageStickyNavigation) {\n\n                        var width = t.wrap[0].clientWidth;\n\n                        if (width > 0) {\n                            t.navigationWrap.width(width);\n\n                            // set navigation width='window width' to center the divs\n                            t.navigation.width(width);\n                        }\n                    }\n                });\n\n                if (t.options.singlePageDeeplinking) {\n                    t.url = location.href;\n\n                    if (t.url.slice(-1) === '#') {\n                        t.url = t.url.slice(0, -1);\n                    }\n\n                    var links = t.url.split('#cbp=');\n                    var url = links.shift(); // remove first item\n\n                    $.each(links, function (index, link) {\n\n                        t.cubeportfolio.blocksOn.each(function (index1, el) {\n                            var singlePage = $(el).find(t.options.singlePageDelegate + '[href=\"' + link + '\"]');\n\n                            if (singlePage.length) {\n                                currentBlock = singlePage;\n                                return false;\n                            }\n                        });\n\n                        if (currentBlock) {\n                            return false;\n                        }\n                    });\n\n                    if (currentBlock) {\n\n                        t.url = url;\n\n                        var self = currentBlock,\n                            gallery = self.attr('data-cbp-singlePage'),\n                            blocks = [];\n\n                        if (gallery) {\n                            blocks = self.closest($('.cbp-item')).find('[data-cbp-singlePage=\"' + gallery + '\"]');\n                        } else {\n                            t.cubeportfolio.blocksOn.each(function (index, el) {\n                                var item = $(el);\n\n                                if (item.not('.cbp-item-off')) {\n                                    item.find(t.options.singlePageDelegate).each(function (index2, el2) {\n                                        if (!$(el2).attr('data-cbp-singlePage')) {\n                                            blocks.push(el2);\n                                        }\n                                    });\n                                }\n                            });\n                        }\n\n                        t.openSinglePage(blocks, currentBlock[0]);\n                    } else if (links.length) {\n                        // @todo - hack to load items from loadMore\n                        var fakeLink = document.createElement('a');\n                        fakeLink.setAttribute('href', links[0]);\n                        t.openSinglePage([fakeLink], fakeLink);\n                    }\n                }\n            }\n        },\n\n        /**\r\n         * Create markup, css and add events\r\n         */\n        _createMarkup: function () {\n            var t = this,\n                animationCls = '';\n\n            if (t.type === 'singlePage') {\n                if (t.options.singlePageAnimation !== 'left') {\n                    animationCls = ' cbp-popup-singlePage-' + t.options.singlePageAnimation;\n                }\n            }\n\n            // wrap element\n            t.wrap = $('<div/>', {\n                'class': 'cbp-popup-wrap cbp-popup-' + t.type + animationCls,\n                'data-action': t.type === 'lightbox' ? 'close' : ''\n            }).on('click.cbp', function (e) {\n                if (t.stopEvents) {\n                    return;\n                }\n\n                var action = $(e.target).attr('data-action');\n\n                if (t[action]) {\n                    t[action]();\n                    e.preventDefault();\n                }\n            });\n\n            // content element\n            t.content = $('<div/>', {\n                'class': 'cbp-popup-content'\n            }).appendTo(t.wrap);\n\n            // append loading div\n            $('<div/>', {\n                'class': 'cbp-popup-loadingBox'\n            }).appendTo(t.wrap);\n\n            // add background only for ie8\n            if (CubePortfolio.Private.browser === 'ie8') {\n                t.bg = $('<div/>', {\n                    'class': 'cbp-popup-ie8bg',\n                    'data-action': t.type === 'lightbox' ? 'close' : ''\n                }).appendTo(t.wrap);\n            }\n\n            // create navigation wrap\n            t.navigationWrap = $('<div/>', {\n                'class': 'cbp-popup-navigation-wrap'\n            }).appendTo(t.wrap);\n\n            // create navigation block\n            t.navigation = $('<div/>', {\n                'class': 'cbp-popup-navigation'\n            }).appendTo(t.navigationWrap);\n\n            // close\n            t.closeButton = $('<div/>', {\n                'class': 'cbp-popup-close',\n                'title': 'Close (Esc arrow key)',\n                'data-action': 'close'\n            }).appendTo(t.navigation);\n\n            // next\n            t.nextButton = $('<div/>', {\n                'class': 'cbp-popup-next',\n                'title': 'Next (Right arrow key)',\n                'data-action': 'next'\n            }).appendTo(t.navigation);\n\n            // prev\n            t.prevButton = $('<div/>', {\n                'class': 'cbp-popup-prev',\n                'title': 'Previous (Left arrow key)',\n                'data-action': 'prev'\n            }).appendTo(t.navigation);\n\n            if (t.type === 'singlePage') {\n\n                if (t.options.singlePageCounter) {\n                    // counter for singlePage\n                    t.counter = $(t.options.singlePageCounter).appendTo(t.navigation);\n                    t.counter.text('');\n                }\n\n                t.content.on('click.cbp', t.options.singlePageDelegate, function (e) {\n                    e.preventDefault();\n                    var i,\n                        len = t.dataArray.length,\n                        href = this.getAttribute('href');\n\n                    for (i = 0; i < len; i++) {\n\n                        if (t.dataArray[i].url === href) {\n                            break;\n                        }\n                    }\n\n                    t.singlePageJumpTo(i - t.current);\n                });\n\n                // if there are some events than overrides the default scroll behaviour don't go to them\n                t.wrap.on('mousewheel.cbp' + ' DOMMouseScroll.cbp', function (e) {\n                    e.stopImmediatePropagation();\n                });\n            }\n\n            $(document).on('keydown.cbp', function (e) {\n\n                // if is not open => return\n                if (!t.isOpen) {\n                    return;\n                }\n\n                // if all events are stopped => return\n                if (t.stopEvents) {\n                    return;\n                }\n\n                if (e.keyCode === 37) {\n                    // prev key\n                    t.prev();\n                } else if (e.keyCode === 39) {\n                    // next key\n                    t.next();\n                } else if (e.keyCode === 27) {\n                    //esc key\n                    t.close();\n                }\n            });\n        },\n\n        _createMarkupSinglePageInline: function () {\n            var t = this;\n\n            // wrap element\n            t.wrap = $('<div/>', {\n                'class': 'cbp-popup-singlePageInline'\n            }).on('click.cbp', function (e) {\n                if (t.stopEvents) {\n                    return;\n                }\n\n                var action = $(e.target).attr('data-action');\n\n                if (action && t[action]) {\n                    t[action]();\n                    e.preventDefault();\n                }\n            });\n\n            // content element\n            t.content = $('<div/>', {\n                'class': 'cbp-popup-content'\n            }).appendTo(t.wrap);\n\n            // append loading div\n            // $('<div/>', {\n            //     'class': 'cbp-popup-loadingBox'\n            // }).appendTo(t.wrap);\n\n            // create navigation block\n            t.navigation = $('<div/>', {\n                'class': 'cbp-popup-navigation'\n            }).appendTo(t.wrap);\n\n            // close\n            t.closeButton = $('<div/>', {\n                'class': 'cbp-popup-close',\n                'title': 'Close (Esc arrow key)',\n                'data-action': 'close'\n            }).appendTo(t.navigation);\n        },\n\n        destroy: function () {\n            var t = this,\n                body = $('body');\n\n            // remove off key down\n            $(document).off('keydown.cbp');\n\n            // external lightbox and singlePageInline\n            body.off('click.cbp', t.options.lightboxDelegate);\n            body.off('click.cbp', t.options.singlePageDelegate);\n\n            t.content.off('click.cbp', t.options.singlePageDelegate);\n\n            t.cubeportfolio.$obj.off('click.cbp', t.options.singlePageInlineDelegate);\n            t.cubeportfolio.$obj.off('click.cbp', t.options.lightboxDelegate);\n            t.cubeportfolio.$obj.off('click.cbp', t.options.singlePageDelegate);\n\n            t.cubeportfolio.$obj.removeClass('cbp-popup-isOpening');\n\n            t.cubeportfolio.$obj.find('.cbp-item').removeClass('cbp-singlePageInline-active');\n\n            t.wrap.remove();\n        },\n\n        openLightbox: function (blocks, currentBlock) {\n            var t = this,\n                i = 0,\n                currentBlockHref,\n                tempHref = [],\n                element;\n\n            if (t.isOpen) {\n                return;\n            }\n\n            // remember that the lightbox is open now\n            t.isOpen = true;\n\n            // remember to stop all events after the lightbox has been shown\n            t.stopEvents = false;\n\n            // array with elements\n            t.dataArray = [];\n\n            // reset current\n            t.current = null;\n\n            currentBlockHref = currentBlock.getAttribute('href');\n            if (currentBlockHref === null) {\n                throw new Error('HEI! Your clicked element doesn\\'t have a href attribute.');\n            }\n\n            $.each(blocks, function (index, item) {\n                var href = item.getAttribute('href'),\n                    src = href,\n                    // default if element is image\n                type = 'isImage',\n                    // default if element is image\n                videoLink;\n\n                if ($.inArray(href, tempHref) === -1) {\n\n                    if (currentBlockHref === href) {\n                        t.current = i;\n                    } else if (!t.options.lightboxGallery) {\n                        return;\n                    }\n\n                    if (/youtube/i.test(href)) {\n\n                        videoLink = href.substring(href.lastIndexOf('v=') + 2);\n\n                        if (!/autoplay=/i.test(videoLink)) {\n                            videoLink += '&autoplay=1';\n                        }\n\n                        videoLink = videoLink.replace(/\\?|&/, '?');\n\n                        // create new href\n                        src = '//www.youtube.com/embed/' + videoLink;\n\n                        type = 'isYoutube';\n                    } else if (/vimeo/i.test(href)) {\n\n                        videoLink = href.substring(href.lastIndexOf('/') + 1);\n\n                        if (!/autoplay=/i.test(videoLink)) {\n                            videoLink += '&autoplay=1';\n                        }\n\n                        videoLink = videoLink.replace(/\\?|&/, '?');\n\n                        // create new href\n                        src = '//player.vimeo.com/video/' + videoLink;\n\n                        type = 'isVimeo';\n                    } else if (/ted\\.com/i.test(href)) {\n\n                        // create new href\n                        src = 'http://embed.ted.com/talks/' + href.substring(href.lastIndexOf('/') + 1) + '.html';\n\n                        type = 'isTed';\n                    } else if (/soundcloud\\.com/i.test(href)) {\n\n                        // create new href\n                        src = href;\n\n                        type = 'isSoundCloud';\n                    } else if (/(\\.mp4)|(\\.ogg)|(\\.ogv)|(\\.webm)/i.test(href)) {\n\n                        if (href.indexOf('|') !== -1) {\n                            // create new href\n                            src = href.split('|');\n                        } else {\n                            // create new href\n                            src = href.split('%7C');\n                        }\n\n                        type = 'isSelfHostedVideo';\n                    } else if (/\\.mp3$/i.test(href)) {\n                        src = href;\n                        type = 'isSelfHostedAudio';\n                    }\n\n                    t.dataArray.push({\n                        src: src,\n                        title: item.getAttribute(t.options.lightboxTitleSrc),\n                        type: type\n                    });\n\n                    i++;\n                }\n\n                tempHref.push(href);\n            });\n\n            // total numbers of elements\n            t.counterTotal = t.dataArray.length;\n\n            if (t.counterTotal === 1) {\n                t.nextButton.hide();\n                t.prevButton.hide();\n                t.dataActionImg = '';\n            } else {\n                t.nextButton.show();\n                t.prevButton.show();\n                t.dataActionImg = 'data-action=\"next\"';\n            }\n\n            // append to body\n            t.wrap.appendTo(document.body);\n\n            t.scrollTop = $(window).scrollTop();\n\n            t.originalStyle = $('html').attr('style');\n\n            $('html').css({\n                overflow: 'hidden',\n                paddingRight: window.innerWidth - $(document).width()\n            });\n\n            // show the wrapper (lightbox box)\n            t.wrap.show();\n\n            // get the current element\n            element = t.dataArray[t.current];\n\n            // call function if current element is image or video (iframe)\n            t[element.type](element);\n        },\n\n        openSinglePage: function (blocks, currentBlock) {\n            var t = this,\n                i = 0,\n                currentBlockHref,\n                tempHref = [];\n\n            if (t.isOpen) {\n                return;\n            }\n\n            // check singlePageInline and close it\n            if (t.cubeportfolio.singlePageInline && t.cubeportfolio.singlePageInline.isOpen) {\n                t.cubeportfolio.singlePageInline.close();\n            }\n\n            // remember that the lightbox is open now\n            t.isOpen = true;\n\n            // remember to stop all events after the popup has been showing\n            t.stopEvents = false;\n\n            // array with elements\n            t.dataArray = [];\n\n            // reset current\n            t.current = null;\n\n            currentBlockHref = currentBlock.getAttribute('href');\n            if (currentBlockHref === null) {\n                throw new Error('HEI! Your clicked element doesn\\'t have a href attribute.');\n            }\n\n            $.each(blocks, function (index, item) {\n                var href = item.getAttribute('href');\n\n                if ($.inArray(href, tempHref) === -1) {\n\n                    if (currentBlockHref === href) {\n                        t.current = i;\n                    }\n\n                    t.dataArray.push({\n                        url: href,\n                        element: item\n                    });\n\n                    i++;\n                }\n\n                tempHref.push(href);\n            });\n\n            // total numbers of elements\n            t.counterTotal = t.dataArray.length;\n\n            if (t.counterTotal === 1) {\n                t.nextButton.hide();\n                t.prevButton.hide();\n            } else {\n                t.nextButton.show();\n                t.prevButton.show();\n            }\n\n            // append to body\n            t.wrap.appendTo(document.body);\n\n            t.scrollTop = $(window).scrollTop();\n\n            $('html').css({\n                overflow: 'hidden',\n                paddingRight: window.innerWidth - $(document).width()\n            });\n\n            // go to top of the page (reset scroll)\n            t.wrap.scrollTop(0);\n\n            // show the wrapper\n            t.wrap.show();\n\n            // finish the open animation\n            t.finishOpen = 2;\n\n            // if transitionend is not fulfilled\n            t.navigationMobile = $();\n            t.wrap.one(CubePortfolio.Private.transitionend, function () {\n                var width;\n\n                // make the navigation sticky\n                if (t.options.singlePageStickyNavigation) {\n\n                    t.wrap.addClass('cbp-popup-singlePage-sticky');\n\n                    width = t.wrap[0].clientWidth;\n                    t.navigationWrap.width(width);\n\n                    if (CubePortfolio.Private.browser === 'android' || CubePortfolio.Private.browser === 'ios') {\n                        // wrap element\n                        t.navigationMobile = $('<div/>', {\n                            'class': 'cbp-popup-singlePage cbp-popup-singlePage-sticky',\n                            'id': t.wrap.attr('id')\n                        }).on('click.cbp', function (e) {\n                            if (t.stopEvents) {\n                                return;\n                            }\n\n                            var action = $(e.target).attr('data-action');\n\n                            if (t[action]) {\n                                t[action]();\n                                e.preventDefault();\n                            }\n                        });\n\n                        t.navigationMobile.appendTo(document.body).append(t.navigationWrap);\n                    }\n                }\n\n                t.finishOpen--;\n                if (t.finishOpen <= 0) {\n                    t.updateSinglePageIsOpen.call(t);\n                }\n            });\n\n            if (CubePortfolio.Private.browser === 'ie8' || CubePortfolio.Private.browser === 'ie9') {\n\n                // make the navigation sticky\n                if (t.options.singlePageStickyNavigation) {\n                    var width = t.wrap[0].clientWidth;\n\n                    t.navigationWrap.width(width);\n\n                    setTimeout(function () {\n                        t.wrap.addClass('cbp-popup-singlePage-sticky');\n                    }, 1000);\n                }\n\n                t.finishOpen--;\n            }\n\n            t.wrap.addClass('cbp-popup-loading');\n\n            // force reflow and then add class\n            t.wrap.offset();\n            t.wrap.addClass('cbp-popup-singlePage-open');\n\n            // change link\n            if (t.options.singlePageDeeplinking) {\n                // ignore old #cbp from href\n                t.url = t.url.split('#cbp=')[0];\n                location.href = t.url + '#cbp=' + t.dataArray[t.current].url;\n            }\n\n            // run callback function\n            if ($.isFunction(t.options.singlePageCallback)) {\n                t.options.singlePageCallback.call(t, t.dataArray[t.current].url, t.dataArray[t.current].element);\n            }\n        },\n\n        openSinglePageInline: function (blocks, currentBlock, fromOpen) {\n            var t = this,\n                start = 0,\n                currentBlockHref,\n                tempCurrent,\n                cbpitem,\n                parentElement;\n\n            fromOpen = fromOpen || false;\n\n            t.fromOpen = fromOpen;\n\n            t.storeBlocks = blocks;\n            t.storeCurrentBlock = currentBlock;\n\n            // check singlePageInline and close it\n            if (t.isOpen) {\n\n                tempCurrent = $(currentBlock).closest('.cbp-item').index();\n\n                if (t.dataArray[t.current].url !== currentBlock.getAttribute('href') || t.current !== tempCurrent) {\n                    t.cubeportfolio.singlePageInline.close('open', {\n                        blocks: blocks,\n                        currentBlock: currentBlock,\n                        fromOpen: true\n                    });\n                } else {\n                    t.close();\n                }\n\n                return;\n            }\n\n            // remember that the lightbox is open now\n            t.isOpen = true;\n\n            // remember to stop all events after the popup has been showing\n            t.stopEvents = false;\n\n            // array with elements\n            t.dataArray = [];\n\n            // reset current\n            t.current = null;\n\n            currentBlockHref = currentBlock.getAttribute('href');\n            if (currentBlockHref === null) {\n                throw new Error('HEI! Your clicked element doesn\\'t have a href attribute.');\n            }\n\n            cbpitem = $(currentBlock).closest('.cbp-item')[0];\n\n            blocks.each(function (index, el) {\n                if (cbpitem === el) {\n                    t.current = index;\n                }\n            });\n\n            t.dataArray[t.current] = {\n                url: currentBlockHref,\n                element: currentBlock\n            };\n\n            parentElement = $(t.dataArray[t.current].element).parents('.cbp-item').addClass('cbp-singlePageInline-active');\n\n            // total numbers of elements\n            t.counterTotal = blocks.length;\n\n            t.wrap.insertBefore(t.cubeportfolio.wrapper);\n\n            if (t.options.singlePageInlinePosition === 'top') {\n                t.startInline = 0;\n                t.top = 0;\n\n                t.firstRow = true;\n                t.lastRow = false;\n            } else if (t.options.singlePageInlinePosition === 'bottom') {\n                t.startInline = t.counterTotal;\n                t.top = t.cubeportfolio.height;\n\n                t.firstRow = false;\n                t.lastRow = true;\n            } else if (t.options.singlePageInlinePosition === 'above') {\n                t.startInline = t.cubeportfolio.cols * Math.floor(t.current / t.cubeportfolio.cols);\n                t.top = $(blocks[t.current]).data('cbp').top;\n\n                if (t.startInline === 0) {\n                    t.firstRow = true;\n                } else {\n                    t.top -= t.options.gapHorizontal;\n                    t.firstRow = false;\n                }\n\n                t.lastRow = false;\n            } else {\n                // below\n                t.top = $(blocks[t.current]).data('cbp').top + $(blocks[t.current]).data('cbp').height;\n                t.startInline = Math.min(t.cubeportfolio.cols * (Math.floor(t.current / t.cubeportfolio.cols) + 1), t.counterTotal);\n\n                t.firstRow = false;\n                t.lastRow = t.startInline === t.counterTotal ? true : false;\n            }\n\n            t.wrap[0].style.height = t.wrap.outerHeight(true) + 'px';\n\n            // debouncer for inline content\n            t.deferredInline = $.Deferred();\n\n            if (t.options.singlePageInlineInFocus) {\n\n                t.scrollTop = $(window).scrollTop();\n\n                var goToScroll = t.cubeportfolio.$obj.offset().top + t.top - 100;\n\n                if (t.scrollTop !== goToScroll) {\n                    $('html,body').animate({\n                        scrollTop: goToScroll\n                    }, 350).promise().then(function () {\n                        t._resizeSinglePageInline();\n                        t.deferredInline.resolve();\n                    });\n                } else {\n                    t._resizeSinglePageInline();\n                    t.deferredInline.resolve();\n                }\n            } else {\n                t._resizeSinglePageInline();\n                t.deferredInline.resolve();\n            }\n\n            t.cubeportfolio.$obj.addClass('cbp-popup-singlePageInline-open');\n\n            t.wrap.css({\n                top: t.top\n            });\n\n            // register callback function\n            if ($.isFunction(t.options.singlePageInlineCallback)) {\n                t.options.singlePageInlineCallback.call(t, t.dataArray[t.current].url, t.dataArray[t.current].element);\n            }\n        },\n\n        _resizeSinglePageInline: function () {\n            var t = this;\n\n            t.height = t.firstRow || t.lastRow ? t.wrap.outerHeight(true) : t.wrap.outerHeight(true) - t.options.gapHorizontal;\n\n            t.storeBlocks.each(function (index, el) {\n                if (index < t.startInline) {\n                    if (CubePortfolio.Private.modernBrowser) {\n                        el.style[CubePortfolio.Private.transform] = '';\n                    } else {\n                        el.style.marginTop = '';\n                    }\n                } else {\n                    if (CubePortfolio.Private.modernBrowser) {\n                        el.style[CubePortfolio.Private.transform] = 'translate3d(0px, ' + t.height + 'px, 0)';\n                    } else {\n                        el.style.marginTop = t.height + 'px';\n                    }\n                }\n            });\n\n            t.cubeportfolio.obj.style.height = t.cubeportfolio.height + t.height + 'px';\n        },\n\n        _revertResizeSinglePageInline: function () {\n            var t = this;\n\n            // reset deferred object\n            t.deferredInline = $.Deferred();\n\n            t.storeBlocks.each(function (index, el) {\n                if (CubePortfolio.Private.modernBrowser) {\n                    el.style[CubePortfolio.Private.transform] = '';\n                } else {\n                    el.style.marginTop = '';\n                }\n            });\n\n            t.cubeportfolio.obj.style.height = t.cubeportfolio.height + 'px';\n        },\n\n        appendScriptsToWrap: function (scripts) {\n            var t = this,\n                index = 0,\n                loadScripts = function (item) {\n                var script = document.createElement('script'),\n                    src = item.src;\n\n                script.type = 'text/javascript';\n\n                if (script.readyState) {\n                    // ie\n                    script.onreadystatechange = function () {\n                        if (script.readyState == 'loaded' || script.readyState == 'complete') {\n                            script.onreadystatechange = null;\n                            index++;\n                            if (scripts[index]) {\n                                loadScripts(scripts[index]);\n                            }\n                        }\n                    };\n                } else {\n                    script.onload = function () {\n                        index++;\n                        if (scripts[index]) {\n                            loadScripts(scripts[index]);\n                        }\n                    };\n                }\n\n                if (src) {\n                    script.src = src;\n                } else {\n                    script.text = item.text;\n                }\n\n                t.content[0].appendChild(script);\n            };\n\n            loadScripts(scripts[0]);\n        },\n\n        updateSinglePage: function (html, scripts, isWrap) {\n            var t = this,\n                counterMarkup,\n                animationFinish;\n\n            t.content.addClass('cbp-popup-content').removeClass('cbp-popup-content-basic');\n\n            if (isWrap === false) {\n                t.content.removeClass('cbp-popup-content').addClass('cbp-popup-content-basic');\n            }\n\n            // update counter navigation\n            if (t.counter) {\n                counterMarkup = $(t._getCounterMarkup(t.options.singlePageCounter, t.current + 1, t.counterTotal));\n                t.counter.text(counterMarkup.text());\n            }\n\n            t.content.html(html);\n\n            if (scripts) {\n                t.appendScriptsToWrap(scripts);\n            }\n\n            // trigger public event\n            t.cubeportfolio.$obj.trigger('updateSinglePageStart.cbp');\n\n            t.finishOpen--;\n\n            if (t.finishOpen <= 0) {\n                t.updateSinglePageIsOpen.call(t);\n            }\n        },\n\n        updateSinglePageIsOpen: function () {\n            var t = this,\n                selectorSlider;\n\n            t.wrap.addClass('cbp-popup-ready');\n            t.wrap.removeClass('cbp-popup-loading');\n\n            // instantiate slider if exists\n            selectorSlider = t.content.find('.cbp-slider');\n            if (selectorSlider) {\n                selectorSlider.find('.cbp-slider-item').addClass('cbp-item');\n                t.slider = selectorSlider.cubeportfolio({\n                    layoutMode: 'slider',\n                    mediaQueries: [{\n                        width: 1,\n                        cols: 1\n                    }],\n                    gapHorizontal: 0,\n                    gapVertical: 0,\n                    caption: '',\n                    coverRatio: '' });\n            } else // wp version only\n                {\n                    t.slider = null;\n                }\n\n            // scroll bug on android and ios\n            if (CubePortfolio.Private.browser === 'android' || CubePortfolio.Private.browser === 'ios') {\n                $('html').css({\n                    position: 'fixed'\n                });\n            }\n\n            // trigger public event\n            t.cubeportfolio.$obj.trigger('updateSinglePageComplete.cbp');\n        },\n\n        updateSinglePageInline: function (html, scripts) {\n            var t = this;\n\n            t.content.html(html);\n\n            if (scripts) {\n                t.appendScriptsToWrap(scripts);\n            }\n            // trigger public event\n            t.cubeportfolio.$obj.trigger('updateSinglePageInlineStart.cbp');\n\n            t.singlePageInlineIsOpen.call(t);\n        },\n\n        singlePageInlineIsOpen: function () {\n            var t = this;\n\n            function finishLoading() {\n                t.wrap.addClass('cbp-popup-singlePageInline-ready');\n                t.wrap[0].style.height = '';\n\n                t._resizeSinglePageInline();\n\n                // trigger public event\n                t.cubeportfolio.$obj.trigger('updateSinglePageInlineComplete.cbp');\n            }\n\n            // wait to load all images\n            t.cubeportfolio._load(t.wrap, function () {\n\n                // instantiate slider if exists\n                var selectorSlider = t.content.find('.cbp-slider');\n\n                if (selectorSlider.length) {\n                    selectorSlider.find('.cbp-slider-item').addClass('cbp-item');\n\n                    selectorSlider.one('initComplete.cbp', function () {\n                        t.deferredInline.done(finishLoading);\n                    });\n\n                    selectorSlider.on('pluginResize.cbp', function () {\n                        t.deferredInline.done(finishLoading);\n                    });\n\n                    t.slider = selectorSlider.cubeportfolio({\n                        layoutMode: 'slider',\n                        displayType: 'default',\n                        mediaQueries: [{\n                            width: 1,\n                            cols: 1\n                        }],\n                        gapHorizontal: 0,\n                        gapVertical: 0,\n                        caption: '',\n                        coverRatio: '' });\n                } else // wp version only\n                    {\n                        t.slider = null;\n                        t.deferredInline.done(finishLoading);\n                    }\n            });\n        },\n\n        isImage: function (el) {\n            var t = this,\n                img = new Image();\n\n            t.tooggleLoading(true);\n\n            if ($('<img src=\"' + el.src + '\">').is('img:uncached')) {\n\n                $(img).on('load.cbp' + ' error.cbp', function () {\n\n                    t.updateImagesMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n\n                    t.tooggleLoading(false);\n                });\n                img.src = el.src;\n            } else {\n\n                t.updateImagesMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n\n                t.tooggleLoading(false);\n            }\n        },\n\n        isVimeo: function (el) {\n            var t = this;\n\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n        },\n\n        isYoutube: function (el) {\n            var t = this;\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n        },\n\n        isTed: function (el) {\n            var t = this;\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n        },\n\n        isSoundCloud: function (el) {\n            var t = this;\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n        },\n\n        isSelfHostedVideo: function (el) {\n            var t = this;\n            t.updateSelfHostedVideo(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n        },\n\n        isSelfHostedAudio: function (el) {\n            var t = this;\n            t.updateSelfHostedAudio(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\n        },\n\n        _getCounterMarkup: function (markup, current, total) {\n            if (!markup.length) {\n                return '';\n            }\n\n            var mapObj = {\n                current: current,\n                total: total\n            };\n\n            return markup.replace(/\\{\\{current}}|\\{\\{total}}/gi, function (matched) {\n                return mapObj[matched.slice(2, -2)];\n            });\n        },\n\n        updateSelfHostedVideo: function (src, title, counter) {\n            var t = this,\n                i;\n\n            t.wrap.addClass('cbp-popup-lightbox-isIframe');\n\n            var markup = '<div class=\"cbp-popup-lightbox-iframe\">' + '<video controls=\"controls\" height=\"auto\" style=\"width: 100%\">';\n\n            for (i = 0; i < src.length; i++) {\n                if (/(\\.mp4)/i.test(src[i])) {\n                    markup += '<source src=\"' + src[i] + '\" type=\"video/mp4\">';\n                } else if (/(\\.ogg)|(\\.ogv)/i.test(src[i])) {\n                    markup += '<source src=\"' + src[i] + '\" type=\"video/ogg\">';\n                } else if (/(\\.webm)/i.test(src[i])) {\n                    markup += '<source src=\"' + src[i] + '\" type=\"video/webm\">';\n                }\n            }\n\n            markup += 'Your browser does not support the video tag.' + '</video>' + '<div class=\"cbp-popup-lightbox-bottom\">' + (title ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') + counter + '</div>' + '</div>';\n\n            t.content.html(markup);\n\n            t.wrap.addClass('cbp-popup-ready');\n\n            t.preloadNearbyImages();\n        },\n\n        updateSelfHostedAudio: function (src, title, counter) {\n            var t = this,\n                i;\n\n            t.wrap.addClass('cbp-popup-lightbox-isIframe');\n\n            var markup = '<div class=\"cbp-popup-lightbox-iframe\">' + '<audio controls=\"controls\" height=\"auto\" style=\"width: 100%\">' + '<source src=\"' + src + '\" type=\"audio/mpeg\">' + 'Your browser does not support the audio tag.' + '</audio>' + '<div class=\"cbp-popup-lightbox-bottom\">' + (title ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') + counter + '</div>' + '</div>';\n\n            t.content.html(markup);\n\n            t.wrap.addClass('cbp-popup-ready');\n\n            t.preloadNearbyImages();\n        },\n\n        updateVideoMarkup: function (src, title, counter) {\n            var t = this;\n            t.wrap.addClass('cbp-popup-lightbox-isIframe');\n\n            var markup = '<div class=\"cbp-popup-lightbox-iframe\">' + '<iframe src=\"' + src + '\" frameborder=\"0\" allowfullscreen scrolling=\"no\"></iframe>' + '<div class=\"cbp-popup-lightbox-bottom\">' + (title ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') + counter + '</div>' + '</div>';\n\n            t.content.html(markup);\n            t.wrap.addClass('cbp-popup-ready');\n            t.preloadNearbyImages();\n        },\n\n        updateImagesMarkup: function (src, title, counter) {\n            var t = this;\n\n            t.wrap.removeClass('cbp-popup-lightbox-isIframe');\n\n            var markup = '<div class=\"cbp-popup-lightbox-figure\">' + '<img src=\"' + src + '\" class=\"cbp-popup-lightbox-img\" ' + t.dataActionImg + ' />' + '<div class=\"cbp-popup-lightbox-bottom\">' + (title ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') + counter + '</div>' + '</div>';\n\n            t.content.html(markup);\n\n            t.wrap.addClass('cbp-popup-ready');\n\n            t.resizeImage();\n\n            t.preloadNearbyImages();\n        },\n\n        next: function () {\n            var t = this;\n            t[t.type + 'JumpTo'](1);\n        },\n\n        prev: function () {\n            var t = this;\n            t[t.type + 'JumpTo'](-1);\n        },\n\n        lightboxJumpTo: function (index) {\n            var t = this,\n                el;\n\n            t.current = t.getIndex(t.current + index);\n\n            // get the current element\n            el = t.dataArray[t.current];\n\n            // call function if current element is image or video (iframe)\n            t[el.type](el);\n        },\n\n        singlePageJumpTo: function (index) {\n            var t = this;\n\n            t.current = t.getIndex(t.current + index);\n\n            // register singlePageCallback function\n            if ($.isFunction(t.options.singlePageCallback)) {\n                t.resetWrap();\n\n                // go to top of the page (reset scroll)\n                t.wrap.scrollTop(0);\n\n                t.wrap.addClass('cbp-popup-loading');\n                t.options.singlePageCallback.call(t, t.dataArray[t.current].url, t.dataArray[t.current].element);\n\n                if (t.options.singlePageDeeplinking) {\n                    location.href = t.url + '#cbp=' + t.dataArray[t.current].url;\n                }\n            }\n        },\n\n        resetWrap: function () {\n            var t = this;\n\n            if (t.type === 'singlePage' && t.options.singlePageDeeplinking) {\n                location.href = t.url + '#';\n            }\n        },\n\n        getIndex: function (index) {\n            var t = this;\n\n            // go to interval [0, (+ or -)this.counterTotal.length - 1]\n            index = index % t.counterTotal;\n\n            // if index is less then 0 then go to interval (0, this.counterTotal - 1]\n            if (index < 0) {\n                index = t.counterTotal + index;\n            }\n\n            return index;\n        },\n\n        close: function (method, data) {\n            var t = this;\n\n            function finishClose() {\n                // reset content\n                t.content.html('');\n\n                // hide the wrap\n                t.wrap.detach();\n\n                t.cubeportfolio.$obj.removeClass('cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close');\n\n                if (method === 'promise') {\n                    if ($.isFunction(data.callback)) {\n                        data.callback.call(t.cubeportfolio);\n                    }\n                }\n            }\n\n            function checkFocusInline() {\n                if (t.options.singlePageInlineInFocus && method !== 'promise') {\n                    $('html,body').animate({\n                        scrollTop: t.scrollTop\n                    }, 350).promise().then(function () {\n                        finishClose();\n                    });\n                } else {\n                    finishClose();\n                }\n            }\n\n            // now the popup is closed\n            t.isOpen = false;\n\n            if (t.type === 'singlePageInline') {\n\n                if (method === 'open') {\n\n                    t.wrap.removeClass('cbp-popup-singlePageInline-ready');\n\n                    $(t.dataArray[t.current].element).closest('.cbp-item').removeClass('cbp-singlePageInline-active');\n\n                    t.openSinglePageInline(data.blocks, data.currentBlock, data.fromOpen);\n                } else {\n\n                    t.height = 0;\n\n                    t._revertResizeSinglePageInline();\n\n                    t.wrap.removeClass('cbp-popup-singlePageInline-ready');\n\n                    t.cubeportfolio.$obj.addClass('cbp-popup-singlePageInline-close');\n\n                    t.startInline = -1;\n\n                    t.cubeportfolio.$obj.find('.cbp-item').removeClass('cbp-singlePageInline-active');\n\n                    if (CubePortfolio.Private.modernBrowser) {\n                        t.wrap.one(CubePortfolio.Private.transitionend, function () {\n                            checkFocusInline();\n                        });\n                    } else {\n                        checkFocusInline();\n                    }\n                }\n            } else if (t.type === 'singlePage') {\n\n                t.resetWrap();\n\n                t.wrap.removeClass('cbp-popup-ready');\n\n                // scroll bug on android and ios\n                if (CubePortfolio.Private.browser === 'android' || CubePortfolio.Private.browser === 'ios') {\n                    $('html').css({\n                        position: ''\n                    });\n\n                    t.navigationWrap.appendTo(t.wrap);\n                    t.navigationMobile.remove();\n                }\n\n                $(window).scrollTop(t.scrollTop);\n\n                // weird bug on mozilla. fixed with setTimeout\n                setTimeout(function () {\n                    t.stopScroll = true;\n\n                    t.navigationWrap.css({\n                        top: t.wrap.scrollTop()\n                    });\n\n                    t.wrap.removeClass('cbp-popup-singlePage-open cbp-popup-singlePage-sticky');\n\n                    if (CubePortfolio.Private.browser === 'ie8' || CubePortfolio.Private.browser === 'ie9') {\n                        // reset content\n                        t.content.html('');\n\n                        // hide the wrap\n                        t.wrap.detach();\n\n                        $('html').css({\n                            overflow: '',\n                            paddingRight: '',\n                            position: ''\n                        });\n\n                        t.navigationWrap.removeAttr('style');\n                    }\n                }, 0);\n\n                t.wrap.one(CubePortfolio.Private.transitionend, function () {\n\n                    // reset content\n                    t.content.html('');\n\n                    // hide the wrap\n                    t.wrap.detach();\n\n                    $('html').css({\n                        overflow: '',\n                        paddingRight: '',\n                        position: ''\n                    });\n\n                    t.navigationWrap.removeAttr('style');\n                });\n            } else {\n\n                if (t.originalStyle) {\n                    $('html').attr('style', t.originalStyle);\n                } else {\n                    $('html').css({\n                        overflow: '',\n                        paddingRight: ''\n                    });\n                }\n\n                $(window).scrollTop(t.scrollTop);\n\n                // reset content\n                t.content.html('');\n\n                // hide the wrap\n                t.wrap.detach();\n            }\n        },\n\n        tooggleLoading: function (state) {\n            var t = this;\n\n            t.stopEvents = state;\n            t.wrap[state ? 'addClass' : 'removeClass']('cbp-popup-loading');\n        },\n\n        resizeImage: function () {\n            // if lightbox is not open go out\n            if (!this.isOpen) {\n                return;\n            }\n\n            var height = $(window).height(),\n                img = this.content.find('img'),\n                padding = parseInt(img.css('margin-top'), 10) + parseInt(img.css('margin-bottom'), 10);\n\n            img.css('max-height', height - padding + 'px');\n        },\n\n        preloadNearbyImages: function () {\n            var arr = [],\n                img,\n                t = this,\n                src;\n\n            arr.push(t.getIndex(t.current + 1));\n            arr.push(t.getIndex(t.current + 2));\n            arr.push(t.getIndex(t.current + 3));\n            arr.push(t.getIndex(t.current - 1));\n            arr.push(t.getIndex(t.current - 2));\n            arr.push(t.getIndex(t.current - 3));\n\n            for (var i = arr.length - 1; i >= 0; i--) {\n                if (t.dataArray[arr[i]].type === 'isImage') {\n                    src = t.dataArray[arr[i]].src;\n                    img = new Image();\n\n                    if ($('<img src=\"' + src + '\">').is('img:uncached')) {\n                        img.src = src;\n                    }\n                }\n            }\n        }\n\n    };\n\n    function PopUp(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        // if lightboxShowCounter is false, put lightboxCounter to ''\n        if (parent.options.lightboxShowCounter === false) {\n            parent.options.lightboxCounter = '';\n        }\n\n        // if singlePageShowCounter is false, put singlePageCounter to ''\n        if (parent.options.singlePageShowCounter === false) {\n            parent.options.singlePageCounter = '';\n        }\n\n        // @todo - schedule this in  future\n        t.run();\n    }\n\n    var lightboxInit = false,\n        singlePageInit = false;\n\n    PopUp.prototype.run = function () {\n        var t = this,\n            p = t.parent,\n            body = $(document.body);\n\n        // default value for lightbox\n        p.lightbox = null;\n\n        // LIGHTBOX\n        if (p.options.lightboxDelegate && !lightboxInit) {\n\n            // init only one time @todo\n            lightboxInit = true;\n\n            p.lightbox = Object.create(popup);\n\n            p.lightbox.init(p, 'lightbox');\n\n            body.on('click.cbp', p.options.lightboxDelegate, function (e) {\n                e.preventDefault();\n\n                var self = $(this),\n                    gallery = self.attr('data-cbp-lightbox'),\n                    scope = t.detectScope(self),\n                    cbp = scope.data('cubeportfolio'),\n                    blocks = [];\n\n                // is inside a cbp\n                if (cbp) {\n\n                    cbp.blocksOn.each(function (index, el) {\n                        var item = $(el);\n\n                        if (item.not('.cbp-item-off')) {\n                            item.find(p.options.lightboxDelegate).each(function (index2, el2) {\n                                if (gallery) {\n                                    if ($(el2).attr('data-cbp-lightbox') === gallery) {\n                                        blocks.push(el2);\n                                    }\n                                } else {\n                                    blocks.push(el2);\n                                }\n                            });\n                        }\n                    });\n                } else {\n\n                    if (gallery) {\n                        blocks = scope.find(p.options.lightboxDelegate + '[data-cbp-lightbox=' + gallery + ']');\n                    } else {\n                        blocks = scope.find(p.options.lightboxDelegate);\n                    }\n                }\n\n                p.lightbox.openLightbox(blocks, self[0]);\n            });\n        }\n\n        // default value for singlePage\n        p.singlePage = null;\n\n        // SINGLEPAGE\n        if (p.options.singlePageDelegate && !singlePageInit) {\n\n            // init only one time @todo\n            singlePageInit = true;\n\n            p.singlePage = Object.create(popup);\n\n            p.singlePage.init(p, 'singlePage');\n\n            body.on('click.cbp', p.options.singlePageDelegate, function (e) {\n                e.preventDefault();\n\n                var self = $(this),\n                    gallery = self.attr('data-cbp-singlePage'),\n                    scope = t.detectScope(self),\n                    cbp = scope.data('cubeportfolio'),\n                    blocks = [];\n\n                // is inside a cbp\n                if (cbp) {\n                    cbp.blocksOn.each(function (index, el) {\n                        var item = $(el);\n\n                        if (item.not('.cbp-item-off')) {\n                            item.find(p.options.singlePageDelegate).each(function (index2, el2) {\n                                if (gallery) {\n                                    if ($(el2).attr('data-cbp-singlePage') === gallery) {\n                                        blocks.push(el2);\n                                    }\n                                } else {\n                                    blocks.push(el2);\n                                }\n                            });\n                        }\n                    });\n                } else {\n\n                    if (gallery) {\n                        blocks = scope.find(p.options.singlePageDelegate + '[data-cbp-singlePage=' + gallery + ']');\n                    } else {\n                        blocks = scope.find(p.options.singlePageDelegate);\n                    }\n                }\n\n                p.singlePage.openSinglePage(blocks, self[0]);\n            });\n        }\n\n        // default value for singlePageInline\n        p.singlePageInline = null;\n\n        // SINGLEPAGEINLINE\n        if (p.options.singlePageDelegate) {\n\n            p.singlePageInline = Object.create(popup);\n\n            p.singlePageInline.init(p, 'singlePageInline');\n\n            p.$obj.on('click.cbp', p.options.singlePageInlineDelegate, function (e) {\n                e.preventDefault();\n                p.singlePageInline.openSinglePageInline(p.blocksOn, this);\n            });\n        }\n    };\n\n    PopUp.prototype.detectScope = function (item) {\n        var singlePageInline, singlePage, cbp;\n\n        singlePageInline = item.closest('.cbp-popup-singlePageInline');\n        if (singlePageInline.length) {\n            cbp = item.closest('.cbp', singlePageInline[0]);\n            return cbp.length ? cbp : singlePageInline;\n        }\n\n        singlePage = item.closest('.cbp-popup-singlePage');\n        if (singlePage.length) {\n            cbp = item.closest('.cbp', singlePage[0]);\n            return cbp.length ? cbp : singlePage;\n        }\n\n        cbp = item.closest('.cbp');\n        return cbp.length ? cbp : $(document.body);\n    };\n\n    PopUp.prototype.destroy = function () {\n        var p = this.parent;\n\n        $(document.body).off('click.cbp');\n\n        // @todo - remove these from here\n        lightboxInit = false;\n        singlePageInit = false;\n\n        // destroy lightbox if enabled\n        if (p.lightbox) {\n            p.lightbox.destroy();\n        }\n\n        // destroy singlePage if enabled\n        if (p.singlePage) {\n            p.singlePage.destroy();\n        }\n\n        // destroy singlePage inline if enabled\n        if (p.singlePageInline) {\n            p.singlePageInline.destroy();\n        }\n    };\n\n    CubePortfolio.Plugins.PopUp = function (parent) {\n        return new PopUp(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    CubePortfolio.Private = {\n        /**\r\n         * Check if cubeportfolio instance exists on current element\r\n         */\n        checkInstance: function (method) {\n            var t = $.data(this, 'cubeportfolio');\n\n            if (!t) {\n                throw new Error('cubeportfolio is not initialized. Initialize it before calling ' + method + ' method!');\n            }\n\n            return t;\n        },\n\n        /**\r\n         * Get info about client browser\r\n         */\n        browserInfo: function () {\n            var t = CubePortfolio.Private,\n                appVersion = navigator.appVersion,\n                transition,\n                animation,\n                perspective;\n\n            if (appVersion.indexOf('MSIE 8.') !== -1) {\n                // ie8\n                t.browser = 'ie8';\n            } else if (appVersion.indexOf('MSIE 9.') !== -1) {\n                // ie9\n                t.browser = 'ie9';\n            } else if (appVersion.indexOf('MSIE 10.') !== -1) {\n                // ie10\n                t.browser = 'ie10';\n            } else if (window.ActiveXObject || 'ActiveXObject' in window) {\n                // ie11\n                t.browser = 'ie11';\n            } else if (/android/gi.test(appVersion)) {\n                // android\n                t.browser = 'android';\n            } else if (/iphone|ipad|ipod/gi.test(appVersion)) {\n                // ios\n                t.browser = 'ios';\n            } else if (/chrome/gi.test(appVersion)) {\n                t.browser = 'chrome';\n            } else {\n                t.browser = '';\n            }\n\n            // check if perspective is available\n            perspective = t.styleSupport('perspective');\n\n            // if perspective is not available => no modern browser\n            if (typeof perspective === undefined) {\n                return;\n            }\n\n            transition = t.styleSupport('transition');\n\n            t.transitionend = ({\n                WebkitTransition: 'webkitTransitionEnd',\n                transition: 'transitionend'\n            })[transition];\n\n            animation = t.styleSupport('animation');\n\n            t.animationend = ({\n                WebkitAnimation: 'webkitAnimationEnd',\n                animation: 'animationend'\n            })[animation];\n\n            t.animationDuration = ({\n                WebkitAnimation: 'webkitAnimationDuration',\n                animation: 'animationDuration'\n            })[animation];\n\n            t.animationDelay = ({\n                WebkitAnimation: 'webkitAnimationDelay',\n                animation: 'animationDelay'\n            })[animation];\n\n            t.transform = t.styleSupport('transform');\n\n            if (transition && animation && t.transform) {\n                t.modernBrowser = true;\n            }\n        },\n\n        /**\r\n         * Feature testing for css3\r\n         */\n        styleSupport: function (prop) {\n            var supportedProp,\n\n            // capitalize first character of the prop to test vendor prefix\n            webkitProp = 'Webkit' + prop.charAt(0).toUpperCase() + prop.slice(1),\n                div = document.createElement('div');\n\n            // browser supports standard CSS property name\n            if (prop in div.style) {\n                supportedProp = prop;\n            } else if (webkitProp in div.style) {\n                supportedProp = webkitProp;\n            }\n\n            // avoid memory leak in IE\n            div = null;\n\n            return supportedProp;\n        }\n\n    };\n\n    CubePortfolio.Private.browserInfo();\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    CubePortfolio.Public = {\n\n        /*\r\n         * Init the plugin\r\n         */\n        init: function (options, callback) {\n            new CubePortfolio(this, options, callback);\n        },\n\n        /*\r\n         * Destroy the plugin\r\n         */\n        destroy: function (callback) {\n            var t = CubePortfolio.Private.checkInstance.call(this, 'destroy');\n\n            t._triggerEvent('beforeDestroy');\n\n            // remove data\n            $.removeData(this, 'cubeportfolio');\n\n            // remove data from blocks\n            t.blocks.each(function () {\n                $.removeData(this, 'cbp-wxh'); // wp only\n            });\n\n            // remove loading class and .cbp on container\n            t.$obj.removeClass('cbp-ready cbp-addItems' + 'cbp-cols-' + t.cols).removeAttr('style');\n\n            // remove class from ul\n            t.$ul.removeClass('cbp-wrapper');\n\n            // remove off resize event\n            $(window).off('resize.cbp');\n\n            t.$obj.off('.cbp');\n            $(document).off('.cbp');\n\n            // reset blocks\n            t.blocks.removeClass('cbp-item-off').removeAttr('style');\n\n            t.blocks.find('.cbp-item-wrapper').children().unwrap();\n\n            if (t.options.caption) {\n                t._captionDestroy();\n            }\n\n            t._destroySlider();\n\n            // remove .cbp-wrapper-outer\n            t.$ul.unwrap();\n\n            // remove .cbp-wrapper\n            if (t.addedWrapp) {\n                t.blocks.unwrap();\n            }\n\n            $.each(t._plugins, function (i, item) {\n                if (typeof item.destroy === 'function') {\n                    item.destroy();\n                }\n            });\n\n            if ($.isFunction(callback)) {\n                callback.call(t);\n            }\n\n            t._triggerEvent('afterDestroy');\n        },\n\n        /*\r\n         * Filter the plugin by filterName\r\n         */\n        filter: function (filterName, callback) {\n            var t = CubePortfolio.Private.checkInstance.call(this, 'filter'),\n                off2onBlocks,\n                on2offBlocks,\n                url;\n\n            // register callback function\n            if ($.isFunction(callback)) {\n                t._registerEvent('filterFinish', callback, true);\n            }\n\n            if (t.isAnimating || t.defaultFilter === filterName) {\n                return;\n            }\n\n            t.isAnimating = true;\n            t.defaultFilter = filterName;\n\n            if (t.singlePageInline && t.singlePageInline.isOpen) {\n                t.singlePageInline.close('promise', {\n                    callback: function () {\n                        t._filter(filterName);\n                    }\n                });\n            } else {\n                t._filter(filterName);\n            }\n\n            if (t.options.filterDeeplinking) {\n\n                url = location.href.replace(/#cbpf=(.*?)([#|?&]|$)/gi, '');\n\n                location.href = url + '#cbpf=' + filterName;\n\n                if (t.singlePage && t.singlePage.url) {\n                    t.singlePage.url = location.href;\n                }\n            }\n        },\n\n        /*\r\n         * Show counter for filters\r\n         */\n        showCounter: function (elems, callback) {\n            var t = CubePortfolio.Private.checkInstance.call(this, 'showCounter');\n\n            t.elems = elems;\n\n            $.each(elems, function () {\n                var el = $(this),\n                    filterName = el.data('filter'),\n                    count;\n\n                count = t.blocks.filter(filterName).length;\n                el.find('.cbp-filter-counter').text(count);\n            });\n\n            if ($.isFunction(callback)) {\n                callback.call(t);\n            }\n        },\n\n        /*\r\n         * ApendItems elements\r\n         */\n        appendItems: function (items, callback) {\n            var t = CubePortfolio.Private.checkInstance.call(this, 'appendItems');\n\n            if (t.isAnimating) {\n                return;\n            }\n\n            t.isAnimating = true;\n\n            if (t.singlePageInline && t.singlePageInline.isOpen) {\n                t.singlePageInline.close('promise', {\n                    callback: function () {\n                        t._addItems(items, callback);\n                    }\n                });\n            } else {\n                t._addItems(items, callback);\n            }\n        }\n\n    };\n})(jQuery, window, document);\n\n// Utility\nif (typeof Object.create !== 'function') {\n    Object.create = function (obj) {\n        function F() {}\n        F.prototype = obj;\n        return new F();\n    };\n}\n\n// jquery new filter for images uncached\njQuery.expr[':'].uncached = function (obj) {\n    // Ensure we are dealing with an `img` element with a valid `src` attribute.\n    if (!jQuery(obj).is('img[src][src!=\"\"]')) {\n        return false;\n    }\n\n    // Firefox's `complete` property will always be `true` even if the image has not been downloaded.\n    // Doing it this way works in Firefox.\n    var img = new Image();\n    img.src = obj.src;\n\n    // http://stackoverflow.com/questions/1977871/check-if-an-image-is-loaded-no-errors-in-javascript\n    // During the onload event, IE correctly identifies any images that\n    // werent downloaded as not complete. Others should too. Gecko-based\n    // browsers act like NS4 in that they report this incorrectly.\n    if (!img.complete) {\n        return true;\n    }\n\n    // However, they do have two very useful properties: naturalWidth and\n    // naturalHeight. These give the true size of the image. If it failed\n    // to load, either of these should be zero.\n    if (img.naturalWidth !== undefined && img.naturalWidth === 0) {\n        return true;\n    }\n\n    // No other way of checking: assume its ok.\n    return false;\n};\n\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\n// requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\n\n// MIT license\n\n(function () {\n    var lastTime = 0;\n    var vendors = ['moz', 'webkit'];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback, element) {\n        var currTime = new Date().getTime();\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        var id = window.setTimeout(function () {\n            callback(currTime + timeToCall);\n        }, timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n    };\n\n    if (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n        clearTimeout(id);\n    };\n})();\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function AnimationClassic(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        parent.filterLayout = t.filterLayout;\n    }\n\n    // here this value point to parent grid\n    AnimationClassic.prototype.filterLayout = function (filterName) {\n        var t = this;\n\n        t.$obj.addClass('cbp-animation-' + t.options.animationType);\n\n        // [1] - blocks that are only moving with translate\n        t.blocksOnInitial.filter(filterName).addClass('cbp-item-on2on').each(function (index, el) {\n            var data = $(el).data('cbp');\n            el.style[CubePortfolio.Private.transform] = 'translate3d(' + (data.leftNew - data.left) + 'px, ' + (data.topNew - data.top) + 'px, 0)';\n        });\n\n        // [2] - blocks than intialy are on but after applying the filter are off\n        t.blocksOn2Off = t.blocksOnInitial.not(filterName).addClass('cbp-item-on2off');\n\n        // [3] - blocks that are off and it will be on\n        t.blocksOff2On = t.blocksOn.filter('.cbp-item-off').removeClass('cbp-item-off').addClass('cbp-item-off2on').each(function (index, el) {\n            var data = $(el).data('cbp');\n\n            data.left = data.leftNew;\n            data.top = data.topNew;\n\n            el.style.left = data.left + 'px';\n            el.style.top = data.top + 'px';\n        });\n\n        if (t.blocksOn2Off.length) {\n            t.blocksOn2Off.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\n        } else if (t.blocksOff2On.length) {\n            t.blocksOff2On.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\n        } else {\n            animationend();\n        }\n\n        // resize main container height\n        t._resizeMainContainer();\n\n        function animationend() {\n            t.blocks.removeClass('cbp-item-on2off cbp-item-off2on cbp-item-on2on').each(function (index, el) {\n                var data = $(el).data('cbp');\n\n                data.left = data.leftNew;\n                data.top = data.topNew;\n\n                el.style.left = data.left + 'px';\n                el.style.top = data.top + 'px';\n\n                el.style[CubePortfolio.Private.transform] = '';\n            });\n\n            t.blocksOff.addClass('cbp-item-off');\n\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\n\n            t.filterFinish();\n        }\n    };\n\n    AnimationClassic.prototype.destroy = function () {\n        var parent = this.parent;\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\n    };\n\n    CubePortfolio.Plugins.AnimationClassic = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['boxShadow', 'fadeOut', 'flipBottom', 'flipOut', 'quicksand', 'scaleSides', 'skew']) < 0) {\n            return null;\n        }\n\n        return new AnimationClassic(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function AnimationClone(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        parent.filterLayout = t.filterLayout;\n    }\n\n    // here this value point to parent grid\n    AnimationClone.prototype.filterLayout = function (filterName) {\n        var t = this,\n            ulClone = t.$ul[0].cloneNode(true);\n\n        ulClone.setAttribute('class', 'cbp-wrapper-helper');\n        t.wrapper[0].insertBefore(ulClone, t.$ul[0]);\n\n        requestAnimationFrame(function () {\n            t.$obj.addClass('cbp-animation-' + t.options.animationType);\n\n            t.blocksOff.addClass('cbp-item-off');\n\n            t.blocksOn.removeClass('cbp-item-off').each(function (index, el) {\n                var data = $(el).data('cbp');\n\n                data.left = data.leftNew;\n                data.top = data.topNew;\n\n                el.style.left = data.left + 'px';\n                el.style.top = data.top + 'px';\n\n                if (t.options.animationType === 'sequentially') {\n                    data.wrapper[0].style[CubePortfolio.Private.animationDelay] = index * 60 + 'ms';\n                }\n            });\n\n            if (t.blocksOn.length) {\n                t.blocksOn.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\n            } else if (t.blocksOnInitial.length) {\n                t.blocksOnInitial.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\n            } else {\n                animationend();\n            }\n\n            // resize main container height\n            t._resizeMainContainer();\n        });\n\n        function animationend() {\n            t.wrapper[0].removeChild(ulClone);\n\n            if (t.options.animationType === 'sequentially') {\n                t.blocksOn.each(function (index, el) {\n                    $(el).data('cbp').wrapper[0].style[CubePortfolio.Private.animationDelay] = '';\n                });\n            }\n\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\n\n            t.filterFinish();\n        }\n    };\n\n    AnimationClone.prototype.destroy = function () {\n        var parent = this.parent;\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\n    };\n\n    CubePortfolio.Plugins.AnimationClone = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['fadeOutTop', 'slideLeft', 'sequentially']) < 0) {\n            return null;\n        }\n\n        return new AnimationClone(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function AnimationCloneDelay(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        parent.filterLayout = t.filterLayout;\n    }\n\n    // here this value point to parent grid\n    AnimationCloneDelay.prototype.filterLayout = function (filterName) {\n        var t = this,\n            ulClone;\n\n        // t.blocksOnInitial.each(function(index, el) {\n        //     $(el).data('cbp').wrapper[0].style[CubePortfolio.Private.animationDelay] = (index * 50) + 'ms';\n        // });\n\n        ulClone = t.$ul[0].cloneNode(true);\n\n        ulClone.setAttribute('class', 'cbp-wrapper-helper');\n        t.wrapper[0].insertBefore(ulClone, t.$ul[0]);\n\n        // hack for safari osx because it doesn't want to work if I set animationDelay\n        // on cbp-item-wrapper before I clone the t.$ul\n        $(ulClone).find('.cbp-item').not('.cbp-item-off').children('.cbp-item-wrapper').each(function (index, el) {\n            el.style[CubePortfolio.Private.animationDelay] = index * 50 + 'ms';\n        });\n\n        requestAnimationFrame(function () {\n            t.$obj.addClass('cbp-animation-' + t.options.animationType);\n\n            t.blocksOff.addClass('cbp-item-off');\n\n            t.blocksOn.removeClass('cbp-item-off').each(function (index, el) {\n                var data = $(el).data('cbp');\n\n                data.left = data.leftNew;\n                data.top = data.topNew;\n\n                el.style.left = data.left + 'px';\n                el.style.top = data.top + 'px';\n\n                data.wrapper[0].style[CubePortfolio.Private.animationDelay] = index * 50 + 'ms';\n            });\n\n            if (t.blocksOn.length) {\n                t.blocksOn.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\n            } else if (t.blocksOnInitial.length) {\n                t.blocksOnInitial.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\n            } else {\n                animationend();\n            }\n\n            // resize main container height\n            t._resizeMainContainer();\n        });\n\n        function animationend() {\n            t.wrapper[0].removeChild(ulClone);\n\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\n\n            t.blocks.each(function (index, el) {\n                $(el).data('cbp').wrapper[0].style[CubePortfolio.Private.animationDelay] = '';\n            });\n\n            t.filterFinish();\n        }\n    };\n\n    AnimationCloneDelay.prototype.destroy = function () {\n        var parent = this.parent;\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\n    };\n\n    CubePortfolio.Plugins.AnimationCloneDelay = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['3dflip', 'flipOutDelay', 'foldLeft', 'frontRow', 'rotateRoom', 'rotateSides', 'scaleDown', 'slideDelay', 'unfold']) < 0) {\n            return null;\n        }\n\n        return new AnimationCloneDelay(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function AnimationWrapper(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        parent.filterLayout = t.filterLayout;\n    }\n\n    // here this value point to parent grid\n    AnimationWrapper.prototype.filterLayout = function (filterName) {\n        var t = this,\n            ulClone = t.$ul[0].cloneNode(true);\n\n        ulClone.setAttribute('class', 'cbp-wrapper-helper');\n        t.wrapper[0].insertBefore(ulClone, t.$ul[0]);\n\n        requestAnimationFrame(function () {\n            t.$obj.addClass('cbp-animation-' + t.options.animationType);\n\n            t.blocksOff.addClass('cbp-item-off');\n\n            t.blocksOn.removeClass('cbp-item-off').each(function (index, el) {\n                var data = $(el).data('cbp');\n\n                data.left = data.leftNew;\n                data.top = data.topNew;\n\n                el.style.left = data.left + 'px';\n                el.style.top = data.top + 'px';\n            });\n\n            if (t.blocksOn.length) {\n                t.$ul.one(CubePortfolio.Private.animationend, animationend);\n            } else if (t.blocksOnInitial.length) {\n                $(ulClone).one(CubePortfolio.Private.animationend, animationend);\n            } else {\n                animationend();\n            }\n\n            // resize main container height\n            t._resizeMainContainer();\n        });\n\n        function animationend() {\n            t.wrapper[0].removeChild(ulClone);\n\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\n\n            t.filterFinish();\n        }\n    };\n\n    AnimationWrapper.prototype.destroy = function () {\n        var parent = this.parent;\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\n    };\n\n    CubePortfolio.Plugins.AnimationWrapper = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['bounceBottom', 'bounceLeft', 'bounceTop', 'moveLeft']) < 0) {\n            return null;\n        }\n\n        return new AnimationWrapper(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function CaptionExpand(parent) {\n        var t = this;\n\n        t.parent = parent;\n\n        parent._registerEvent('initFinish', function () {\n\n            parent.$obj.on('click.cbp', '.cbp-caption-defaultWrap', function (e) {\n                e.preventDefault();\n\n                if (parent.isAnimating) {\n                    return;\n                }\n\n                parent.isAnimating = true;\n\n                var defaultWrap = $(this),\n                    activeWrap = defaultWrap.next(),\n                    caption = defaultWrap.parent(),\n                    endStyle = {\n                    position: 'relative',\n                    height: activeWrap.outerHeight(true)\n                },\n                    startStyle = {\n                    position: 'relative',\n                    height: 0\n                };\n\n                parent.$obj.addClass('cbp-caption-expand-active');\n\n                // swap endStyle & startStyle\n                if (caption.hasClass('cbp-caption-expand-open')) {\n                    var temp = startStyle;\n                    startStyle = endStyle;\n                    endStyle = temp;\n                    caption.removeClass('cbp-caption-expand-open');\n                }\n\n                activeWrap.css(endStyle);\n\n                parent._gridAdjust();\n\n                // reposition the blocks\n                parent._layout();\n\n                // repositionate the blocks with the best transition available\n                parent.positionateItems();\n\n                // resize main container height\n                parent._resizeMainContainer();\n\n                // set activeWrap to 0 so I can start animation in the next frame\n                activeWrap.css(startStyle);\n\n                // delay animation\n                requestAnimationFrame(function () {\n\n                    caption.addClass('cbp-caption-expand-open');\n\n                    activeWrap.one(CubePortfolio.Private.transitionend, function () {\n                        parent.isAnimating = false;\n                        parent.$obj.removeClass('cbp-caption-expand-active');\n\n                        if (endStyle.height === 0) {\n                            caption.removeClass('cbp-caption-expand-open');\n                            activeWrap.attr('style', '');\n                        }\n                    });\n\n                    activeWrap.css(endStyle);\n\n                    if (parent.options.layoutMode === 'slider') {\n                        parent._updateSlider();\n                    }\n\n                    parent._triggerEvent('resizeGrid');\n                });\n            });\n        }, true);\n    }\n\n    CaptionExpand.prototype.destroy = function () {\n        this.parent.$obj.find('.cbp-caption-defaultWrap').off('click.cbp').parent().removeClass('cbp-caption-expand-active');\n    };\n\n    CubePortfolio.Plugins.CaptionExpand = function (parent) {\n\n        if (parent.options.caption !== 'expand') {\n            return null;\n        }\n\n        return new CaptionExpand(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function BottomToTop(parent) {\n\n        // skip next event from core\n        parent._skipNextEvent('delayFrame');\n\n        parent._registerEvent('initEndWrite', function () {\n\n            parent.blocksOn.each(function (index, item) {\n                item.style[CubePortfolio.Private.animationDelay] = index * parent.options.displayTypeSpeed + 'ms';\n            });\n\n            parent.$obj.addClass('cbp-displayType-bottomToTop');\n\n            // get last element\n            parent.blocksOn.last().one(CubePortfolio.Private.animationend, function () {\n                parent.$obj.removeClass('cbp-displayType-bottomToTop');\n\n                parent.blocksOn.each(function (index, item) {\n                    item.style[CubePortfolio.Private.animationDelay] = '';\n                });\n\n                // trigger event after the animation is finished\n                parent._triggerEvent('delayFrame');\n            });\n        }, true);\n    }\n\n    CubePortfolio.Plugins.BottomToTop = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || parent.options.displayType !== 'bottomToTop' || parent.blocks.length === 0) {\n            return null;\n        }\n\n        return new BottomToTop(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function FadeInToTop(parent) {\n\n        // skip next event from core\n        parent._skipNextEvent('delayFrame');\n\n        parent._registerEvent('initEndWrite', function () {\n            parent.obj.style[CubePortfolio.Private.animationDuration] = parent.options.displayTypeSpeed + 'ms';\n\n            parent.$obj.addClass('cbp-displayType-fadeInToTop');\n\n            parent.$obj.one(CubePortfolio.Private.animationend, function () {\n                parent.$obj.removeClass('cbp-displayType-fadeInToTop');\n\n                parent.obj.style[CubePortfolio.Private.animationDuration] = '';\n\n                // trigger event after the animation is finished\n                parent._triggerEvent('delayFrame');\n            });\n        }, true);\n    }\n\n    CubePortfolio.Plugins.FadeInToTop = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || parent.options.displayType !== 'fadeInToTop' || parent.blocks.length === 0) {\n            return null;\n        }\n\n        return new FadeInToTop(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function LazyLoading(parent) {\n\n        // skip next event from core\n        parent._skipNextEvent('delayFrame');\n\n        parent._registerEvent('initEndWrite', function () {\n            parent.obj.style[CubePortfolio.Private.animationDuration] = parent.options.displayTypeSpeed + 'ms';\n\n            parent.$obj.addClass('cbp-displayType-lazyLoading');\n\n            parent.$obj.one(CubePortfolio.Private.animationend, function () {\n                parent.$obj.removeClass('cbp-displayType-lazyLoading');\n\n                parent.obj.style[CubePortfolio.Private.animationDuration] = '';\n\n                // trigger event after the animation is finished\n                parent._triggerEvent('delayFrame');\n            });\n        }, true);\n    }\n\n    CubePortfolio.Plugins.LazyLoading = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || parent.options.displayType !== 'lazyLoading' && parent.options.displayType !== 'fadeIn' || parent.blocks.length === 0) {\n            return null;\n        }\n\n        return new LazyLoading(parent);\n    };\n})(jQuery, window, document);\n\n(function ($, window, document, undefined) {\n    'use strict';\n\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\n\n    function DisplaySequentially(parent) {\n\n        // skip next event from core\n        parent._skipNextEvent('delayFrame');\n\n        parent._registerEvent('initEndWrite', function () {\n\n            parent.blocksOn.each(function (index, item) {\n                item.style[CubePortfolio.Private.animationDelay] = index * parent.options.displayTypeSpeed + 'ms';\n            });\n\n            parent.$obj.addClass('cbp-displayType-sequentially');\n\n            // get last element\n            parent.blocksOn.last().one(CubePortfolio.Private.animationend, function () {\n                parent.$obj.removeClass('cbp-displayType-sequentially');\n\n                parent.blocksOn.each(function (index, item) {\n                    item.style[CubePortfolio.Private.animationDelay] = '';\n                });\n\n                // trigger event after the animation is finished\n                parent._triggerEvent('delayFrame');\n            });\n        }, true);\n    }\n\n    CubePortfolio.Plugins.DisplaySequentially = function (parent) {\n\n        if (!CubePortfolio.Private.modernBrowser || parent.options.displayType !== 'sequentially' || parent.blocks.length === 0) {\n            return null;\n        }\n\n        return new DisplaySequentially(parent);\n    };\n})(jQuery, window, document);","ast":null,"map":{"version":3,"sources":["/plugins/cube-portfolio/cubeportfolio/js/jquery.cubeportfolio.js"],"names":[],"mappings":"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","file":"/plugins/cube-portfolio/cubeportfolio/js/jquery.cubeportfolio.js.map","sourcesContent":["/*!\r\n * Cube Portfolio - Responsive jQuery Grid Plugin\r\n *\r\n * version: 2.3.3 (16 June, 2015)\r\n * require: jQuery v1.7+\r\n *\r\n * Copyright 2013-2015, Mihai Buricea (http://scriptpie.com/cubeportfolio/live-preview/)\r\n * Licensed under CodeCanyon License (http://codecanyon.net/licenses)\r\n *\r\n */\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    function CubePortfolio(obj, options, callback) {\r\n        /*jshint validthis: true */\r\n        var t = this,\r\n            initialCls = 'cbp',\r\n            children;\r\n\r\n        if ($.data(obj, 'cubeportfolio')) {\r\n            throw new Error('cubeportfolio is already initialized. Destroy it before initialize again!');\r\n        }\r\n\r\n        // attached this instance to obj\r\n        $.data(obj, 'cubeportfolio', t);\r\n\r\n        // extend options\r\n        t.options = $.extend({}, $.fn.cubeportfolio.options, options);\r\n\r\n        // store the state of the animation used for filters\r\n        t.isAnimating = true;\r\n\r\n        // default filter for plugin\r\n        t.defaultFilter = t.options.defaultFilter;\r\n\r\n        // registered events (observator & publisher pattern)\r\n        t.registeredEvents = [];\r\n\r\n        // skip events (observator & publisher pattern)\r\n        t.skipEvents = [];\r\n\r\n        // has wrapper\r\n        t.addedWrapp = false;\r\n\r\n        // register callback function\r\n        if ($.isFunction(callback)) {\r\n            t._registerEvent('initFinish', callback, true);\r\n        }\r\n\r\n        // js element\r\n        t.obj = obj;\r\n\r\n        // jquery element\r\n        t.$obj = $(obj);\r\n\r\n        // when there are no .cbp-item\r\n        children = t.$obj.children();\r\n\r\n        // if caption is active\r\n        if (t.options.caption) {\r\n            if (!CubePortfolio.Private.modernBrowser) {\r\n                t.options.caption = 'minimal';\r\n            }\r\n\r\n            // .cbp-caption-active is used only for css\r\n            // so it will not generate a big css from sass if a caption is set\r\n            initialCls += ' cbp-caption-active cbp-caption-' + t.options.caption;\r\n        }\r\n\r\n        t.$obj.addClass(initialCls);\r\n\r\n        if (children.length === 0 || children.first().hasClass('cbp-item')) {\r\n            t.wrapInner(t.obj, 'cbp-wrapper');\r\n            t.addedWrapp = true;\r\n        }\r\n\r\n        // jquery wrapper element\r\n        t.$ul = t.$obj.children().addClass('cbp-wrapper');\r\n\r\n        // wrap the $ul in a outside wrapper\r\n        t.wrapInner(t.obj, 'cbp-wrapper-outer');\r\n\r\n        t.wrapper = t.$obj.children('.cbp-wrapper-outer');\r\n\r\n        t.blocks = t.$ul.children('.cbp-item');\r\n\r\n        // wrap .cbp-item-wrap div inside .cbp-item\r\n        t.wrapInner(t.blocks, 'cbp-item-wrapper');\r\n\r\n        // store main container width\r\n        t.width = t.$obj.outerWidth();\r\n\r\n        // wait to load all images and then go further\r\n        t._load(t.$obj, t._display);\r\n    }\r\n\r\n    $.extend(CubePortfolio.prototype, {\r\n\r\n        storeData: function(blocks) {\r\n            blocks.each(function(index, el) {\r\n                var block = $(el);\r\n\r\n                block.data('cbp', {\r\n                    wrapper: block.children('.cbp-item-wrapper'),\r\n\r\n                    widthInitial: block.outerWidth(),\r\n                    heightInitial: block.outerHeight(),\r\n                    width: null,\r\n                    height: null,\r\n\r\n                    left: null,\r\n                    leftNew: null,\r\n                    top: null,\r\n                    topNew: null\r\n                });\r\n            });\r\n        },\r\n\r\n        // http://bit.ly/pure-js-wrap\r\n        wrapInner: function(items, classAttr) {\r\n            var t = this,\r\n                item,\r\n                i,\r\n                div;\r\n\r\n            classAttr = classAttr || '';\r\n\r\n            if (items.length && items.length < 1) {\r\n                return; // there are no .cbp-item\r\n            } else if (items.length === undefined) {\r\n                items = [items];\r\n            }\r\n\r\n            for (i = items.length - 1; i >= 0; i--) {\r\n                item = items[i];\r\n\r\n                div = document.createElement('div');\r\n\r\n                div.setAttribute('class', classAttr);\r\n\r\n                while (item.childNodes.length) {\r\n                    div.appendChild(item.childNodes[0]);\r\n                }\r\n\r\n                item.appendChild(div);\r\n\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Destroy function for all captions\r\n         */\r\n        _captionDestroy: function() {\r\n            var t = this;\r\n            t.$obj.removeClass('cbp-caption-active cbp-caption-' + t.options.caption);\r\n        },\r\n\r\n\r\n        /**\r\n         * Add resize event when browser width changes\r\n         */\r\n        resizeEvent: function() {\r\n            var t = this,\r\n                timeout, gridWidth;\r\n\r\n            // resize\r\n            $(window).on('resize.cbp', function() {\r\n                clearTimeout(timeout);\r\n\r\n                timeout = setTimeout(function() {\r\n\r\n                    if (window.innerHeight == screen.height) {\r\n                        // this is fulll screen mode. don't need to trigger a resize\r\n                        return;\r\n                    }\r\n\r\n                    if (t.options.gridAdjustment === 'alignCenter') {\r\n                        t.obj.style.maxWidth = '';\r\n                    }\r\n\r\n                    gridWidth = t.$obj.outerWidth();\r\n\r\n                    if (t.width !== gridWidth) {\r\n\r\n                        // update the current width\r\n                        t.width = gridWidth;\r\n\r\n                        t._gridAdjust();\r\n\r\n                        // reposition the blocks\r\n                        t._layout();\r\n\r\n                        // repositionate the blocks with the best transition available\r\n                        t.positionateItems();\r\n\r\n                        // resize main container height\r\n                        t._resizeMainContainer();\r\n\r\n                        if (t.options.layoutMode === 'slider') {\r\n                            t._updateSlider();\r\n                        }\r\n\r\n                        t._triggerEvent('resizeGrid');\r\n                    }\r\n\r\n                    t._triggerEvent('resizeWindow');\r\n\r\n                }, 80);\r\n            });\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * Wait to load all images\r\n         */\r\n        _load: function(obj, callback, args) {\r\n            var t = this,\r\n                imgs,\r\n                imgsLength,\r\n                imgsLoaded = 0;\r\n\r\n            args = args || [];\r\n\r\n            imgs = obj.find('img:uncached').map(function() {\r\n                return this.src;\r\n            });\r\n\r\n            imgsLength = imgs.length;\r\n\r\n            if (imgsLength === 0) {\r\n                callback.apply(t, args);\r\n            }\r\n\r\n            $.each(imgs, function(i, src) {\r\n                var img = new Image();\r\n\r\n                $(img).one('load.cbp error.cbp', function() {\r\n                    $(this).off('load.cbp error.cbp');\r\n\r\n                    imgsLoaded++;\r\n                    if (imgsLoaded === imgsLength) {\r\n                        callback.apply(t, args);\r\n                        return false;\r\n                    }\r\n\r\n                });\r\n\r\n                img.src = src;\r\n            });\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * Check if filters is present in url\r\n         */\r\n        _filterFromUrl: function() {\r\n            var t = this,\r\n                match = /#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);\r\n\r\n            if (match !== null) {\r\n                t.defaultFilter = match[1];\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Show the plugin\r\n         */\r\n        _display: function() {\r\n            var t = this;\r\n\r\n            // store to data some values of t.blocks\r\n            t.storeData(t.blocks);\r\n\r\n            if (t.options.layoutMode === 'grid') {\r\n                // set default filter if is present in url\r\n                t._filterFromUrl();\r\n            }\r\n\r\n            if (t.defaultFilter !== '*') {\r\n                t.blocksOn = t.blocks.filter(t.defaultFilter);\r\n                t.blocks.not(t.defaultFilter).addClass('cbp-item-off');\r\n            } else {\r\n                t.blocksOn = t.blocks;\r\n            }\r\n\r\n            // plugins\r\n            t._plugins = $.map(CubePortfolio.Plugins, function(pluginName) {\r\n                return pluginName(t);\r\n            });\r\n\r\n            t._triggerEvent('initStartRead');\r\n            t._triggerEvent('initStartWrite');\r\n\r\n            t.localColumnWidth = t.options.gapVertical;\r\n\r\n            if (t.blocks.length) {\r\n                t.localColumnWidth += t.blocks.first().data('cbp').widthInitial;\r\n            }\r\n\r\n            t.getColumnsType = ($.isArray(t.options.mediaQueries)) ? '_getColumnsBreakpoints' : '_getColumnsAuto';\r\n\r\n            t._gridAdjust();\r\n\r\n            // create mark-up for layout mode\r\n            t['_' + t.options.layoutMode + 'Markup']();\r\n\r\n            // make layout\r\n            t._layout();\r\n\r\n            // positionate the blocks\r\n            t.positionateItems();\r\n\r\n            // resize main container height\r\n            t._resizeMainContainer();\r\n\r\n            t._triggerEvent('initEndRead');\r\n            t._triggerEvent('initEndWrite');\r\n\r\n            // plugin is ready to show and interact\r\n            t.$obj.addClass('cbp-ready');\r\n\r\n            t._registerEvent('delayFrame', t.delayFrame);\r\n\r\n            //  the reason is to skip this event when you want from a plugin\r\n            t._triggerEvent('delayFrame');\r\n\r\n        },\r\n\r\n        positionateItems: function() {\r\n            var t = this,\r\n                data;\r\n\r\n            t.blocksOn.each(function(index, el) {\r\n                data = $(el).data('cbp');\r\n\r\n                data.left = data.leftNew;\r\n                data.top = data.topNew;\r\n\r\n                el.style.left = data.left + 'px';\r\n                el.style.top = data.top + 'px';\r\n            });\r\n        },\r\n\r\n        delayFrame: function() {\r\n            var t = this;\r\n\r\n            requestAnimationFrame(function() {\r\n                t.resizeEvent();\r\n\r\n                t._triggerEvent('initFinish');\r\n\r\n                // animating is now false\r\n                t.isAnimating = false;\r\n\r\n                // trigger public event initComplete\r\n                t.$obj.trigger('initComplete.cbp');\r\n            });\r\n\r\n        },\r\n\r\n        _gridAdjust: function() {\r\n            var t = this;\r\n\r\n            // if responsive\r\n            if (t.options.gridAdjustment === 'responsive') {\r\n                t._responsiveLayout();\r\n            } else {\r\n                t.blocks.each(function(index, el) {\r\n                    var data = $(el).data('cbp');\r\n\r\n                    data.width = data.widthInitial;\r\n                    data.height = data.heightInitial;\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Build the layout\r\n         */\r\n        _layout: function() {\r\n            var t = this;\r\n\r\n            t['_' + t.options.layoutMode + 'LayoutReset']();\r\n\r\n            t['_' + t.options.layoutMode + 'Layout']();\r\n\r\n            t.$obj.removeClass(function(index, css) {\r\n                return (css.match(/\\bcbp-cols-\\d+/gi) || []).join(' ');\r\n            });\r\n\r\n            t.$obj.addClass('cbp-cols-' + t.cols);\r\n\r\n        },\r\n\r\n        // create mark\r\n        _sliderMarkup: function() {\r\n            var t = this;\r\n\r\n            t.sliderStopEvents = false;\r\n\r\n            t.sliderActive = 0;\r\n\r\n            t._registerEvent('updateSliderPosition', function() {\r\n                t.$obj.addClass('cbp-mode-slider');\r\n            }, true);\r\n\r\n            t.nav = $('<div/>', {\r\n                'class': 'cbp-nav'\r\n            });\r\n\r\n            t.nav.on('click.cbp', '[data-slider-action]', function(e) {\r\n                e.preventDefault();\r\n                e.stopImmediatePropagation();\r\n                e.stopPropagation();\r\n\r\n                if (t.sliderStopEvents) {\r\n                    return;\r\n                }\r\n\r\n                var el = $(this),\r\n                    action = el.attr('data-slider-action');\r\n\r\n                if (t['_' + action + 'Slider']) {\r\n                    t['_' + action + 'Slider'](el);\r\n                }\r\n\r\n            });\r\n\r\n            if (t.options.showNavigation) {\r\n                t.controls = $('<div/>', {\r\n                    'class': 'cbp-nav-controls'\r\n                });\r\n\r\n                t.navPrev = $('<div/>', {\r\n                    'class': 'cbp-nav-prev',\r\n                    'data-slider-action': 'prev'\r\n                }).appendTo(t.controls);\r\n\r\n                t.navNext = $('<div/>', {\r\n                    'class': 'cbp-nav-next',\r\n                    'data-slider-action': 'next'\r\n                }).appendTo(t.controls);\r\n\r\n\r\n                t.controls.appendTo(t.nav);\r\n            }\r\n\r\n            if (t.options.showPagination) {\r\n                t.navPagination = $('<div/>', {\r\n                    'class': 'cbp-nav-pagination'\r\n                }).appendTo(t.nav);\r\n            }\r\n\r\n            if (t.controls || t.navPagination) {\r\n                t.nav.appendTo(t.$obj);\r\n            }\r\n\r\n            t._updateSliderPagination();\r\n\r\n            if (t.options.auto) {\r\n                if (t.options.autoPauseOnHover) {\r\n                    t.mouseIsEntered = false;\r\n                    t.$obj.on('mouseenter.cbp', function(e) {\r\n                        t.mouseIsEntered = true;\r\n                        t._stopSliderAuto();\r\n                    }).on('mouseleave.cbp', function(e) {\r\n                        t.mouseIsEntered = false;\r\n                        t._startSliderAuto();\r\n                    });\r\n                }\r\n\r\n                t._startSliderAuto();\r\n            }\r\n\r\n            if (t.options.drag && CubePortfolio.Private.modernBrowser) {\r\n                t._dragSlider();\r\n            }\r\n\r\n        },\r\n\r\n        _updateSlider: function() {\r\n            var t = this;\r\n\r\n            t._updateSliderPosition();\r\n\r\n            t._updateSliderPagination();\r\n\r\n        },\r\n\r\n        _updateSliderPagination: function() {\r\n            var t = this,\r\n                pages,\r\n                i;\r\n\r\n            if (t.options.showPagination) {\r\n\r\n                // get number of pages\r\n                pages = Math.ceil(t.blocksOn.length / t.cols);\r\n                t.navPagination.empty();\r\n\r\n                for (i = pages - 1; i >= 0; i--) {\r\n                    $('<div/>', {\r\n                        'class': 'cbp-nav-pagination-item',\r\n                        'data-slider-action': 'jumpTo'\r\n                    }).appendTo(t.navPagination);\r\n                }\r\n\r\n                t.navPaginationItems = t.navPagination.children();\r\n            }\r\n\r\n            // enable disable the nav\r\n            t._enableDisableNavSlider();\r\n        },\r\n\r\n        _destroySlider: function() {\r\n            var t = this;\r\n\r\n            if (t.options.layoutMode !== 'slider') {\r\n                return;\r\n            }\r\n\r\n            t.$obj.off('click.cbp');\r\n\r\n            t.$obj.removeClass('cbp-mode-slider');\r\n\r\n            if (t.options.showNavigation) {\r\n                t.nav.remove();\r\n            }\r\n\r\n            if (t.navPagination) {\r\n                t.navPagination.remove();\r\n            }\r\n\r\n        },\r\n\r\n        _nextSlider: function(el) {\r\n            var t = this;\r\n\r\n            if (t._isEndSlider()) {\r\n                if (t.isRewindNav()) {\r\n                    t.sliderActive = 0;\r\n                } else {\r\n                    return;\r\n                }\r\n            } else {\r\n                if (t.options.scrollByPage) {\r\n                    t.sliderActive = Math.min(t.sliderActive + t.cols, t.blocksOn.length - t.cols);\r\n                } else {\r\n                    t.sliderActive += 1;\r\n                }\r\n            }\r\n\r\n            t._goToSlider();\r\n        },\r\n\r\n        _prevSlider: function(el) {\r\n            var t = this;\r\n\r\n            if (t._isStartSlider()) {\r\n                if (t.isRewindNav()) {\r\n                    t.sliderActive = t.blocksOn.length - t.cols;\r\n                } else {\r\n                    return;\r\n                }\r\n            } else {\r\n                if (t.options.scrollByPage) {\r\n                    t.sliderActive = Math.max(0, t.sliderActive - t.cols);\r\n                } else {\r\n                    t.sliderActive -= 1;\r\n                }\r\n            }\r\n\r\n            t._goToSlider();\r\n        },\r\n\r\n        _jumpToSlider: function(el) {\r\n            var t = this,\r\n                index = Math.min(el.index() * t.cols, t.blocksOn.length - t.cols);\r\n\r\n            if (index === t.sliderActive) {\r\n                return;\r\n            }\r\n\r\n            t.sliderActive = index;\r\n\r\n            t._goToSlider();\r\n        },\r\n\r\n        _jumpDragToSlider: function(pos) {\r\n            var t = this,\r\n                jumpWidth,\r\n                offset,\r\n                condition,\r\n                index,\r\n                dragLeft = (pos > 0) ? true : false;\r\n\r\n            if (t.options.scrollByPage) {\r\n                jumpWidth = t.cols * t.localColumnWidth;\r\n                offset = t.cols;\r\n            } else {\r\n                jumpWidth = t.localColumnWidth;\r\n                offset = 1;\r\n            }\r\n\r\n            pos = Math.abs(pos);\r\n            index = Math.floor(pos / jumpWidth) * offset;\r\n            if (pos % jumpWidth > 20) {\r\n                index += offset;\r\n            }\r\n\r\n            if (dragLeft) { // drag to left\r\n                t.sliderActive = Math.min(t.sliderActive + index, t.blocksOn.length - t.cols);\r\n            } else { // drag to right\r\n                t.sliderActive = Math.max(0, t.sliderActive - index);\r\n            }\r\n\r\n            t._goToSlider();\r\n        },\r\n\r\n        _isStartSlider: function() {\r\n            return this.sliderActive === 0;\r\n        },\r\n\r\n        _isEndSlider: function() {\r\n            var t = this;\r\n            return (t.sliderActive + t.cols) > t.blocksOn.length - 1;\r\n        },\r\n\r\n        _goToSlider: function() {\r\n            var t = this;\r\n\r\n            // enable disable the nav\r\n            t._enableDisableNavSlider();\r\n\r\n            t._updateSliderPosition();\r\n\r\n        },\r\n\r\n        _startSliderAuto: function() {\r\n            var t = this;\r\n\r\n            if (t.isDrag) {\r\n                t._stopSliderAuto();\r\n                return;\r\n            }\r\n\r\n            t.timeout = setTimeout(function() {\r\n\r\n                // go to next slide\r\n                t._nextSlider();\r\n\r\n                // start auto\r\n                t._startSliderAuto();\r\n\r\n            }, t.options.autoTimeout);\r\n        },\r\n\r\n        _stopSliderAuto: function() {\r\n            clearTimeout(this.timeout);\r\n        },\r\n\r\n        _enableDisableNavSlider: function() {\r\n            var t = this,\r\n                page,\r\n                method;\r\n\r\n            if (!t.isRewindNav()) {\r\n                method = (t._isStartSlider()) ? 'addClass' : 'removeClass';\r\n                t.navPrev[method]('cbp-nav-stop');\r\n\r\n                method = (t._isEndSlider()) ? 'addClass' : 'removeClass';\r\n                t.navNext[method]('cbp-nav-stop');\r\n            }\r\n\r\n            if (t.options.showPagination) {\r\n\r\n                if (t.options.scrollByPage) {\r\n                    page = Math.ceil(t.sliderActive / t.cols);\r\n                } else {\r\n                    if (t._isEndSlider()) {\r\n                        page = t.navPaginationItems.length - 1;\r\n                    } else {\r\n                        page = Math.floor(t.sliderActive / t.cols);\r\n                    }\r\n                }\r\n\r\n                // add class active on pagination's items\r\n                t.navPaginationItems.removeClass('cbp-nav-pagination-active')\r\n                    .eq(page)\r\n                    .addClass('cbp-nav-pagination-active');\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * If slider loop is enabled don't add classes to `next` and `prev` buttons\r\n         */\r\n        isRewindNav: function() {\r\n            var t = this;\r\n\r\n            if (!t.options.showNavigation) {\r\n                return true;\r\n            }\r\n\r\n            if (t.blocksOn.length <= t.cols) {\r\n                return false;\r\n            }\r\n\r\n            if (t.options.rewindNav) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        sliderItemsLength: function() {\r\n            return this.blocksOn.length <= this.cols;\r\n        },\r\n\r\n\r\n        /**\r\n         * Arrange the items in a slider layout\r\n         */\r\n        _sliderLayout: function() {\r\n            var t = this;\r\n\r\n            t.blocksOn.each(function(index, el) {\r\n                var data = $(el).data('cbp');\r\n\r\n                // update the values with the new ones\r\n                data.leftNew = Math.round(t.localColumnWidth * index);\r\n                data.topNew = 0;\r\n\r\n                t.colVert.push(data.height + t.options.gapHorizontal);\r\n            });\r\n\r\n            t.sliderColVert = t.colVert.slice(t.sliderActive, t.sliderActive + t.cols);\r\n\r\n            t.ulWidth = t.localColumnWidth * t.blocksOn.length - t.options.gapVertical;\r\n            t.$ul.width(t.ulWidth);\r\n\r\n        },\r\n\r\n        _updateSliderPosition: function() {\r\n            var t = this,\r\n                value = -t.sliderActive * t.localColumnWidth;\r\n\r\n            t._triggerEvent('updateSliderPosition');\r\n\r\n            if (CubePortfolio.Private.modernBrowser) {\r\n                t.$ul[0].style[CubePortfolio.Private.transform] = 'translate3d(' + value + 'px, 0px, 0)';\r\n            } else {\r\n                t.$ul[0].style.left = value + 'px';\r\n            }\r\n\r\n            t.sliderColVert = t.colVert.slice(t.sliderActive, t.sliderActive + t.cols);\r\n\r\n            t._resizeMainContainer();\r\n\r\n        },\r\n\r\n        _dragSlider: function() {\r\n            var t = this,\r\n                $document = $(document),\r\n                posInitial,\r\n                pos,\r\n                target,\r\n                ulPosition,\r\n                ulMaxWidth,\r\n                isAnimating = false,\r\n                events = {},\r\n                isTouch = false,\r\n                touchStartEvent,\r\n                isHover = false;\r\n\r\n            t.isDrag = false;\r\n\r\n            if (('ontouchstart' in window) ||\r\n                (navigator.maxTouchPoints > 0) ||\r\n                (navigator.msMaxTouchPoints > 0)) {\r\n\r\n                events = {\r\n                    start: 'touchstart.cbp',\r\n                    move: 'touchmove.cbp',\r\n                    end: 'touchend.cbp'\r\n                };\r\n\r\n                isTouch = true;\r\n            } else {\r\n                events = {\r\n                    start: 'mousedown.cbp',\r\n                    move: 'mousemove.cbp',\r\n                    end: 'mouseup.cbp'\r\n                };\r\n            }\r\n\r\n            function dragStart(e) {\r\n                if (t.sliderItemsLength()) {\r\n                    return;\r\n                }\r\n\r\n                if (!isTouch) {\r\n                    e.preventDefault();\r\n                } else {\r\n                    touchStartEvent = e;\r\n                }\r\n\r\n                if (t.options.auto) {\r\n                    t._stopSliderAuto();\r\n                }\r\n\r\n                if (isAnimating) {\r\n                    $(target).one('click.cbp', function() {\r\n                        return false;\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                target = $(e.target);\r\n                posInitial = pointerEventToXY(e).x;\r\n                pos = 0;\r\n                ulPosition = -t.sliderActive * t.localColumnWidth;\r\n                ulMaxWidth = t.localColumnWidth * (t.blocksOn.length - t.cols);\r\n\r\n                $document.on(events.move, dragMove);\r\n                $document.on(events.end, dragEnd);\r\n\r\n                t.$obj.addClass('cbp-mode-slider-dragStart');\r\n            }\r\n\r\n            function dragEnd(e) {\r\n                t.$obj.removeClass('cbp-mode-slider-dragStart');\r\n\r\n                // put the state to animate\r\n                isAnimating = true;\r\n\r\n                if (pos !== 0) {\r\n                    target.one('click.cbp', function() {\r\n                        return false;\r\n                    });\r\n\r\n                    t._jumpDragToSlider(pos);\r\n\r\n                    t.$ul.one(CubePortfolio.Private.transitionend, afterDragEnd);\r\n                } else {\r\n                    afterDragEnd.call(t);\r\n                }\r\n\r\n                $document.off(events.move);\r\n                $document.off(events.end);\r\n            }\r\n\r\n            function dragMove(e) {\r\n                pos = posInitial - pointerEventToXY(e).x;\r\n\r\n                if (pos > 8 || pos < -8) {\r\n                    e.preventDefault();\r\n                }\r\n\r\n                t.isDrag = true;\r\n\r\n                var value = ulPosition - pos;\r\n\r\n                if (pos < 0 && pos < ulPosition) { // to right\r\n                    value = (ulPosition - pos) / 5;\r\n                } else if (pos > 0 && (ulPosition - pos) < -ulMaxWidth) { // to left\r\n                    value = -ulMaxWidth + (ulMaxWidth + ulPosition - pos) / 5;\r\n                }\r\n\r\n                if (CubePortfolio.Private.modernBrowser) {\r\n                    t.$ul[0].style[CubePortfolio.Private.transform] = 'translate3d(' + value + 'px, 0px, 0)';\r\n                } else {\r\n                    t.$ul[0].style.left = value + 'px';\r\n                }\r\n\r\n            }\r\n\r\n            function afterDragEnd() {\r\n                isAnimating = false;\r\n                t.isDrag = false;\r\n\r\n                if (t.options.auto) {\r\n\r\n                    if (t.mouseIsEntered) {\r\n                        return;\r\n                    }\r\n\r\n                    t._startSliderAuto();\r\n\r\n                }\r\n            }\r\n\r\n            function pointerEventToXY(e) {\r\n\r\n                if (e.originalEvent !== undefined && e.originalEvent.touches !== undefined) {\r\n                    e = e.originalEvent.touches[0];\r\n                }\r\n\r\n                return {\r\n                    x: e.pageX,\r\n                    y: e.pageY\r\n                };\r\n            }\r\n\r\n            t.$ul.on(events.start, dragStart);\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset the slider layout\r\n         */\r\n        _sliderLayoutReset: function() {\r\n            var t = this;\r\n            t.colVert = [];\r\n        },\r\n\r\n        // create mark\r\n        _gridMarkup: function() {\r\n\r\n        },\r\n\r\n        /**\r\n         * Arrange the items in a grid layout\r\n         */\r\n        _gridLayout: function() {\r\n            var t = this;\r\n\r\n            t.blocksOn.each(function(index, el) {\r\n                var minVert = Math.min.apply(Math, t.colVert),\r\n                    column = 0,\r\n                    data = $(el).data('cbp'),\r\n                    setHeight,\r\n                    colsLen,\r\n                    i,\r\n                    len;\r\n\r\n                for (i = 0, len = t.colVert.length; i < len; i++) {\r\n                    if (t.colVert[i] === minVert) {\r\n                        column = i;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                // update the values with the new ones\r\n                data.leftNew = Math.round(t.localColumnWidth * column);\r\n                data.topNew = Math.round(minVert);\r\n\r\n                setHeight = minVert + data.height + t.options.gapHorizontal;\r\n                colsLen = t.cols + 1 - len;\r\n\r\n                for (i = 0; i < colsLen; i++) {\r\n                    t.colVert[column + i] = setHeight;\r\n                }\r\n            });\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset the grid layout\r\n         */\r\n        _gridLayoutReset: function() {\r\n            var c, t = this;\r\n\r\n            // @options gridAdjustment = alignCenter\r\n            if (t.options.gridAdjustment === 'alignCenter') {\r\n\r\n                // calculate numbers of columns\r\n                t.cols = Math.max(Math.floor((t.width + t.options.gapVertical) / t.localColumnWidth), 1);\r\n\r\n                t.width = t.cols * t.localColumnWidth - t.options.gapVertical;\r\n                t.$obj.css('max-width', t.width);\r\n\r\n            } else {\r\n\r\n                // calculate numbers of columns\r\n                t.cols = Math.max(Math.floor((t.width + t.options.gapVertical) / t.localColumnWidth), 1);\r\n\r\n            }\r\n\r\n            t.colVert = [];\r\n            c = t.cols;\r\n\r\n            while (c--) {\r\n                t.colVert.push(0);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Make this plugin responsive\r\n         */\r\n        _responsiveLayout: function() {\r\n            var t = this,\r\n                widthWithoutGap,\r\n                itemWidth;\r\n\r\n            if (!t.columnWidthCache) {\r\n                t.columnWidthCache = t.localColumnWidth;\r\n            } else {\r\n                t.localColumnWidth = t.columnWidthCache;\r\n            }\r\n\r\n            // calculate numbers of cols\r\n            t.cols = t[t.getColumnsType]();\r\n\r\n            // calculate the with of items without the gaps between them\r\n            widthWithoutGap = t.width - t.options.gapVertical * (t.cols - 1);\r\n\r\n            // calculate column with based on widthWithoutGap plus the gap\r\n            t.localColumnWidth = parseInt(widthWithoutGap / t.cols, 10) + t.options.gapVertical;\r\n\r\n            itemWidth = (t.localColumnWidth - t.options.gapVertical);\r\n\r\n            t.blocks.each(function(index, item) {\r\n                item.style.width = itemWidth + 'px';\r\n\r\n                $(item).data('cbp').width = itemWidth;\r\n            });\r\n\r\n            t.blocks.each(function(index, el) {\r\n                var item = $(el);\r\n\r\n                item.data('cbp').height = item.outerHeight();\r\n            });\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * Get numbers of columns when t.options.mediaQueries is not an array\r\n         */\r\n        _getColumnsAuto: function() {\r\n            var t = this;\r\n            return Math.max(Math.round(t.width / t.localColumnWidth), 1);\r\n        },\r\n\r\n        /**\r\n         * Get numbers of columns where t.options.mediaQueries is an array\r\n         */\r\n        _getColumnsBreakpoints: function() {\r\n            var t = this,\r\n                gridWidth = t.width - t.options.gapVertical,\r\n                cols;\r\n\r\n            $.each(t.options.mediaQueries, function(index, val) {\r\n                if (gridWidth >= val.width) {\r\n                    cols = val.cols;\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            if (cols === undefined) {\r\n                cols = t.options.mediaQueries[t.options.mediaQueries.length - 1].cols;\r\n            }\r\n\r\n            return cols;\r\n        },\r\n\r\n\r\n        /**\r\n         * Resize main container vertically\r\n         */\r\n        _resizeMainContainer: function() {\r\n            var t = this,\r\n                cols = t.sliderColVert || t.colVert,\r\n                height;\r\n\r\n            // set container height for `overflow: hidden` to be applied\r\n            height = Math.max(Math.max.apply(Math, cols) - t.options.gapHorizontal, 0);\r\n\r\n            if (height === t.height) {\r\n                return;\r\n            }\r\n\r\n            t.obj.style.height = height + 'px';\r\n\r\n            // if _resizeMainContainer is called for the first time skip this event trigger\r\n            if (t.height !== undefined) {\r\n                if (CubePortfolio.Private.modernBrowser) {\r\n                    t.$obj.one(CubePortfolio.Private.transitionend, function() {\r\n                        t.$obj.trigger('pluginResize.cbp');\r\n                    });\r\n                } else {\r\n                    t.$obj.trigger('pluginResize.cbp');\r\n                }\r\n            }\r\n\r\n            t.height = height;\r\n        },\r\n\r\n        _filter: function(filterName) {\r\n            var t = this;\r\n\r\n            // blocks that are visible before applying the filter\r\n            t.blocksOnInitial = t.blocksOn;\r\n\r\n            // blocks visible after applying the filter\r\n            t.blocksOn = t.blocks.filter(filterName);\r\n\r\n            // blocks off after applying the filter\r\n            t.blocksOff = t.blocks.not(filterName);\r\n\r\n            // call layout\r\n            t._layout();\r\n\r\n            // filter call layout\r\n            t.filterLayout(filterName);\r\n        },\r\n\r\n\r\n        /**\r\n         *  Default filter layout if nothing overrides\r\n         */\r\n        filterLayout: function(filterName) {\r\n            var t = this;\r\n\r\n            t.blocksOff.addClass('cbp-item-off');\r\n\r\n            t.blocksOn.removeClass('cbp-item-off')\r\n                .each(function(index, el) {\r\n                    var data = $(el).data('cbp');\r\n\r\n                    data.left = data.leftNew;\r\n                    data.top = data.topNew;\r\n\r\n                    el.style.left = data.left + 'px';\r\n                    el.style.top = data.top + 'px';\r\n                });\r\n\r\n            // resize main container height\r\n            t._resizeMainContainer();\r\n\r\n            t.filterFinish();\r\n        },\r\n\r\n\r\n        /**\r\n         *  Trigger when a filter is finished\r\n         */\r\n        filterFinish: function() {\r\n            var t = this;\r\n\r\n            t.isAnimating = false;\r\n\r\n            t.$obj.trigger('filterComplete.cbp');\r\n            t._triggerEvent('filterFinish');\r\n        },\r\n\r\n\r\n        /**\r\n         *  Register event\r\n         */\r\n        _registerEvent: function(name, callbackFunction, oneTime) {\r\n            var t = this;\r\n\r\n            if (!t.registeredEvents[name]) {\r\n                t.registeredEvents[name] = [];\r\n            }\r\n\r\n            t.registeredEvents[name].push({\r\n                func: callbackFunction,\r\n                oneTime: oneTime || false\r\n            });\r\n        },\r\n\r\n\r\n        /**\r\n         *  Trigger event\r\n         */\r\n        _triggerEvent: function(name, param) {\r\n            var t = this,\r\n                i, len;\r\n\r\n            if (t.skipEvents[name]) {\r\n                delete t.skipEvents[name];\r\n                return;\r\n            }\r\n\r\n            if (t.registeredEvents[name]) {\r\n                for (i = 0, len = t.registeredEvents[name].length; i < len; i++) {\r\n\r\n                    t.registeredEvents[name][i].func.call(t, param);\r\n\r\n                    if (t.registeredEvents[name][i].oneTime) {\r\n                        t.registeredEvents[name].splice(i, 1);\r\n                        // function splice change the t.registeredEvents[name] array\r\n                        // if event is one time you must set the i to the same value\r\n                        // next time and set the length lower\r\n                        i--;\r\n                        len--;\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         *  Delay trigger event\r\n         */\r\n        _skipNextEvent: function(name) {\r\n            var t = this;\r\n            t.skipEvents[name] = true;\r\n        },\r\n\r\n        _addItems: function(els, callback) {\r\n            var t = this,\r\n                items = $(els)\r\n                .filter('.cbp-item')\r\n                .addClass('cbp-loading-fadeIn')\r\n                .css('top', '1000%')\r\n                .wrapInner('<div class=\"cbp-item-wrapper\"></div>');\r\n\r\n            if (!items.length) {\r\n                t.isAnimating = false;\r\n\r\n                if ($.isFunction(callback)) {\r\n                    callback.call(t);\r\n                }\r\n                return;\r\n            }\r\n\r\n            t._load(items, function() {\r\n\r\n                t.$obj.addClass('cbp-addItems');\r\n\r\n                items.appendTo(t.$ul);\r\n\r\n                // cache the new items to t.blocks\r\n                $.merge(t.blocks, items);\r\n\r\n                // push to data some values of items\r\n                t.storeData(items);\r\n\r\n                if (t.defaultFilter !== '*') {\r\n                    t.blocksOn = t.blocks.filter(t.defaultFilter);\r\n                    t.blocks.not(t.defaultFilter).addClass('cbp-item-off');\r\n                } else {\r\n                    t.blocksOn = t.blocks;\r\n                }\r\n\r\n                items.on(CubePortfolio.Private.animationend, function() {\r\n                    t.$obj.find('.cbp-loading-fadeIn').removeClass('cbp-loading-fadeIn');\r\n                    t.$obj.removeClass('cbp-addItems');\r\n                });\r\n\r\n                t._triggerEvent('addItemsToDOM', items);\r\n\r\n                t._gridAdjust();\r\n\r\n                t._layout();\r\n\r\n                t.positionateItems();\r\n\r\n                // resize main container height\r\n                t._resizeMainContainer();\r\n\r\n                if (t.options.layoutMode === 'slider') {\r\n                    t._updateSlider();\r\n                }\r\n\r\n                // if show count was actived, call show count function again\r\n                if (t.elems) {\r\n                    CubePortfolio.Public.showCounter.call(t.obj, t.elems);\r\n                }\r\n\r\n                if (CubePortfolio.Private.modernBrowser) {\r\n                    items.last().one(CubePortfolio.Private.animationend, function() {\r\n                        t.isAnimating = false;\r\n\r\n                        if ($.isFunction(callback)) {\r\n                            callback.call(t);\r\n                        }\r\n                    });\r\n                } else {\r\n                    t.isAnimating = false;\r\n\r\n                    if ($.isFunction(callback)) {\r\n                        callback.call(t);\r\n                    }\r\n                }\r\n\r\n\r\n            });\r\n\r\n        }\r\n\r\n    });\r\n\r\n\r\n    /**\r\n     * jQuery plugin initializer\r\n     */\r\n    $.fn.cubeportfolio = function(method, options, callback) {\r\n\r\n        return this.each(function() {\r\n\r\n            if (typeof method === 'object' || !method) {\r\n                return CubePortfolio.Public.init.call(this, method, callback);\r\n            } else if (CubePortfolio.Public[method]) {\r\n                return CubePortfolio.Public[method].call(this, options, callback);\r\n            }\r\n\r\n            throw new Error('Method ' + method + ' does not exist on jquery.cubeportfolio.js');\r\n\r\n        });\r\n\r\n    };\r\n\r\n    // Plugin default options\r\n    $.fn.cubeportfolio.options = {\r\n        /**\r\n         *  Is used to define the wrapper for filters\r\n         *  Values: strings that represent the elements in the document (DOM selector).\r\n         */\r\n        filters: '',\r\n\r\n        /**\r\n         *  Is used to define the wrapper for loadMore\r\n         *  Values: strings that represent the elements in the document (DOM selector).\r\n         */\r\n        loadMore: '',\r\n\r\n        /**\r\n         *  How the loadMore functionality should behave. Load on click on the button or\r\n         *  automatically when you scroll the page\r\n         *  Values: - click\r\n         *          - auto\r\n         */\r\n        loadMoreAction: 'click',\r\n\r\n        /**\r\n         *  Layout Mode for this instance\r\n         *  Values: 'grid' or 'slider'\r\n         */\r\n        layoutMode: 'grid',\r\n\r\n        /**\r\n         *  Mouse and touch drag support\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\r\n        drag: true,\r\n\r\n        /**\r\n         *  Autoplay the slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\r\n        auto: false,\r\n\r\n        /**\r\n         *  Autoplay interval timeout. Time is set in milisecconds\r\n         *  1000 milliseconds equals 1 second.\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: only integers (ex: 1000, 2000, 5000)\r\n         */\r\n        autoTimeout: 5000,\r\n\r\n        /**\r\n         *  Stops autoplay when user hover the slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\r\n        autoPauseOnHover: true,\r\n\r\n        /**\r\n         *  Show `next` and `prev` buttons for slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\r\n        showNavigation: true,\r\n\r\n        /**\r\n         *  Show pagination for slider\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\r\n        showPagination: true,\r\n\r\n        /**\r\n         *  Enable slide to first item (last item)\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\r\n        rewindNav: true,\r\n\r\n        /**\r\n         *  Scroll by page and not by item. This option affect next/prev buttons and drag support\r\n         *  Option available only for `layoutMode: 'slider'`\r\n         *  Values: true or false\r\n         */\r\n        scrollByPage: false,\r\n\r\n        /**\r\n         *  Default filter for plugin\r\n         *  Option available only for `layoutMode: 'grid'`\r\n         *  Values: strings that represent the filter name(ex: *, .logo, .web-design, .design)\r\n         */\r\n        defaultFilter: '*',\r\n\r\n        /**\r\n         *  Enable / disable the deeplinking feature when you click on filters\r\n         *  Option available only for `layoutMode: 'grid'`\r\n         *  Values: true or false\r\n         */\r\n        filterDeeplinking: false,\r\n\r\n        /**\r\n         *  Defines which animation to use for items that will be shown or hidden after a filter has been activated.\r\n         *  Option available only for `layoutMode: 'grid'`\r\n         *  The plugin use the best browser features available (css3 transitions and transform, GPU acceleration).\r\n         *  Values: - fadeOut\r\n         *          - quicksand\r\n         *          - bounceLeft\r\n         *          - bounceTop\r\n         *          - bounceBottom\r\n         *          - moveLeft\r\n         *          - slideLeft\r\n         *          - fadeOutTop\r\n         *          - sequentially\r\n         *          - skew\r\n         *          - slideDelay\r\n         *          - rotateSides\r\n         *          - flipOutDelay\r\n         *          - flipOut\r\n         *          - unfold\r\n         *          - foldLeft\r\n         *          - scaleDown\r\n         *          - scaleSides\r\n         *          - frontRow\r\n         *          - flipBottom\r\n         *          - rotateRoom\r\n         */\r\n        animationType: 'fadeOut',\r\n\r\n        /**\r\n         *  Adjust the layout grid\r\n         *  Values: - default (no adjustment applied)\r\n         *          - alignCenter (align the grid on center of the page)\r\n         *          - responsive (use a fluid grid to resize the grid)\r\n         */\r\n        gridAdjustment: 'responsive',\r\n\r\n        /**\r\n         * Define `media queries` for columns layout.\r\n         * Format: [{width: a, cols: d}, {width: b, cols: e}, {width: c, cols: f}],\r\n         * where a, b, c are the grid width and d, e, f are the columns displayed.\r\n         * e.g. [{width: 1100, cols: 4}, {width: 800, cols: 3}, {width: 480, cols: 2}] means\r\n         * if (gridWidth >= 1100) => show 4 columns,\r\n         * if (gridWidth >= 800 && gridWidth < 1100) => show 3 columns,\r\n         * if (gridWidth >= 480 && gridWidth < 800) => show 2 columns,\r\n         * if (gridWidth < 480) => show 2 columns\r\n         * Keep in mind that a > b > c\r\n         * This option is available only when `gridAdjustment: 'responsive'`\r\n         * Values:  - array of objects of format: [{width: a, cols: d}, {width: b, cols: e}]\r\n         *          - you can define as many objects as you want\r\n         *          - if this option is `false` Cube Portfolio will adjust the items\r\n         *            width automatically (default option for backward compatibility)\r\n         */\r\n        mediaQueries: false,\r\n\r\n        /**\r\n         *  Horizontal gap between items\r\n         *  Values: only integers (ex: 1, 5, 10)\r\n         */\r\n        gapHorizontal: 10,\r\n\r\n        /**\r\n         *  Vertical gap between items\r\n         *  Values: only integers (ex: 1, 5, 10)\r\n         */\r\n        gapVertical: 10,\r\n\r\n        /**\r\n         *  Caption - the overlay that is shown when you put the mouse over an item\r\n         *  NOTE: If you don't want to have captions set this option to an empty string ( caption: '')\r\n         *  Values: - pushTop\r\n         *          - pushDown\r\n         *          - revealBottom\r\n         *          - revealTop\r\n         *          - moveRight\r\n         *          - moveLeft\r\n         *          - overlayBottomPush\r\n         *          - overlayBottom\r\n         *          - overlayBottomReveal\r\n         *          - overlayBottomAlong\r\n         *          - overlayRightAlong\r\n         *          - minimal\r\n         *          - fadeIn\r\n         *          - zoom\r\n         *          - opacity\r\n         */\r\n        caption: 'pushTop',\r\n\r\n        /**\r\n         *  The plugin will display his content based on the following values.\r\n         *  Values: - default (the content will be displayed as soon as possible)\r\n         *          - lazyLoading (the plugin will fully preload the images before displaying the items with a fadeIn effect)\r\n         *          - fadeInToTop (the plugin will fully preload the images before displaying the items with a fadeIn effect from bottom to top)\r\n         *          - sequentially (the plugin will fully preload the images before displaying the items with a sequentially effect)\r\n         *          - bottomToTop (the plugin will fully preload the images before displaying the items with an animation from bottom to top)\r\n         */\r\n        displayType: 'lazyLoading',\r\n\r\n        /**\r\n         *  Defines the speed of displaying the items (when `displayType == default` this option will have no effect)\r\n         *  Values: only integers, values in ms (ex: 200, 300, 500)\r\n         */\r\n        displayTypeSpeed: 400,\r\n\r\n        /**\r\n         *  This is used to define any clickable elements you wish to use to trigger lightbox popup on click.\r\n         *  Values: strings that represent the elements in the document (DOM selector)\r\n         */\r\n        lightboxDelegate: '.cbp-lightbox',\r\n\r\n        /**\r\n         *  Enable / disable gallery mode\r\n         *  Values: true or false\r\n         */\r\n        lightboxGallery: true,\r\n\r\n        /**\r\n         *  Attribute of the delegate item that contains caption for lightbox\r\n         *  Values: html atributte\r\n         */\r\n        lightboxTitleSrc: 'data-title',\r\n\r\n        /**\r\n         *  Markup of the lightbox counter\r\n         *  Values: html markup\r\n         */\r\n        lightboxCounter: '<div class=\"cbp-popup-lightbox-counter\">{{current}} of {{total}}</div>',\r\n\r\n        /**\r\n         *  This is used to define any clickable elements you wish to use to trigger singlePage popup on click.\r\n         *  Values: strings that represent the elements in the document (DOM selector)\r\n         */\r\n        singlePageDelegate: '.cbp-singlePage',\r\n\r\n        /**\r\n         *  Enable / disable the deeplinking feature for singlePage popup\r\n         *  Values: true or false\r\n         */\r\n        singlePageDeeplinking: true,\r\n\r\n        /**\r\n         *  Enable / disable the sticky navigation for singlePage popup\r\n         *  Values: true or false\r\n         */\r\n        singlePageStickyNavigation: true,\r\n\r\n        /**\r\n         *  Markup of the singlePage counter\r\n         *  Values: html markup\r\n         */\r\n        singlePageCounter: '<div class=\"cbp-popup-singlePage-counter\">{{current}} of {{total}}</div>',\r\n\r\n        /**\r\n         *  Defines which animation to use when singlePage appear\r\n         *  Values: - left\r\n         *          - fade\r\n         *          - right\r\n         */\r\n        singlePageAnimation: 'left',\r\n\r\n        /**\r\n         *  Use this callback to update singlePage content.\r\n         *  The callback will trigger after the singlePage popup will open.\r\n         *  @param url = the href attribute of the item clicked\r\n         *  @param element = the item clicked\r\n         *  Values: function\r\n         */\r\n        singlePageCallback: function(url, element) {\r\n            // to update singlePage content use the following method: this.updateSinglePage(yourContent)\r\n        },\r\n\r\n        /**\r\n         *  This is used to define any clickable elements you wish to use to trigger singlePage Inline on click.\r\n         *  Values: strings that represent the elements in the document (DOM selector)\r\n         */\r\n        singlePageInlineDelegate: '.cbp-singlePageInline',\r\n\r\n        /**\r\n         *  This is used to define the position of singlePage Inline block\r\n         *  Values: - above ( above current element )\r\n         *          - below ( below current elemnet)\r\n         *          - top ( positon top )\r\n         *          - bottom ( positon bottom )\r\n         */\r\n        singlePageInlinePosition: 'top',\r\n\r\n        /**\r\n         *  Push the open panel in focus and at close go back to the former stage\r\n         *  Values: true or false\r\n         */\r\n        singlePageInlineInFocus: true,\r\n\r\n        /**\r\n         *  Use this callback to update singlePage Inline content.\r\n         *  The callback will trigger after the singlePage Inline will open.\r\n         *  @param url = the href attribute of the item clicked\r\n         *  @param element = the item clicked\r\n         *  Values: function\r\n         */\r\n        singlePageInlineCallback: function(url, element) {\r\n            // to update singlePage Inline content use the following method: this.updateSinglePageInline(yourContent)\r\n        }\r\n\r\n    };\r\n\r\n    CubePortfolio.Plugins = {};\r\n    $.fn.cubeportfolio.Constructor = CubePortfolio;\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function Filters(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        t.filters = $(parent.options.filters);\r\n\r\n        t.wrap = $();\r\n\r\n        t.registerFilter();\r\n\r\n    }\r\n\r\n    Filters.prototype.registerFilter = function() {\r\n        var t = this,\r\n            parent = t.parent,\r\n            filtersCallback;\r\n\r\n        t.filters.each(function(index, el) {\r\n            var filter = $(el),\r\n                wrap;\r\n\r\n            if (filter.hasClass('cbp-l-filters-dropdown')) {\r\n                wrap = filter.find('.cbp-l-filters-dropdownWrap');\r\n\r\n                wrap.on({\r\n                    'mouseover.cbp': function() {\r\n                        wrap.addClass('cbp-l-filters-dropdownWrap-open');\r\n                    },\r\n                    'mouseleave.cbp': function() {\r\n                        wrap.removeClass('cbp-l-filters-dropdownWrap-open');\r\n                    }\r\n                });\r\n\r\n                filtersCallback = function(me) {\r\n                    wrap.find('.cbp-filter-item').removeClass('cbp-filter-item-active');\r\n                    wrap.find('.cbp-l-filters-dropdownHeader').text(me.text());\r\n                    me.addClass('cbp-filter-item-active');\r\n                    wrap.trigger('mouseleave.cbp');\r\n                };\r\n\r\n                t.wrap.add(wrap);\r\n\r\n            } else {\r\n                filtersCallback = function(me) {\r\n                    me.addClass('cbp-filter-item-active').siblings().removeClass('cbp-filter-item-active');\r\n                };\r\n            }\r\n\r\n            filtersCallback(\r\n                filter\r\n                .find('.cbp-filter-item')\r\n                .filter('[data-filter=\"' + parent.defaultFilter + '\"]')\r\n            );\r\n\r\n            filter.on('click.cbp', '.cbp-filter-item', function() {\r\n                var me = $(this);\r\n\r\n                if (me.hasClass('cbp-filter-item-active')) {\r\n                    return;\r\n                }\r\n\r\n                // get cubeportfolio data and check if is still animating (reposition) the items.\r\n                if (!parent.isAnimating) {\r\n                    filtersCallback.call(null, me);\r\n                }\r\n\r\n                // filter the items\r\n                parent.$obj.cubeportfolio('filter', me.data('filter'));\r\n            });\r\n\r\n            // activate counter for filters\r\n            parent.$obj.cubeportfolio('showCounter', filter.find('.cbp-filter-item'), function() {\r\n                // read from url and change filter active\r\n                var match = /#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href),\r\n                    item;\r\n                if (match !== null) {\r\n                    item = filter.find('.cbp-filter-item').filter('[data-filter=\"' + match[1] + '\"]');\r\n                    if (item.length) {\r\n                        filtersCallback.call(null, item);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    Filters.prototype.destroy = function() {\r\n        var t = this;\r\n\r\n        t.filters.off('.cbp');\r\n        if (t.wrap) {\r\n            t.wrap.off('.cbp');\r\n        }\r\n    };\r\n\r\n    CubePortfolio.Plugins.Filters = function(parent) {\r\n\r\n        if (parent.options.filters === '') {\r\n            return null;\r\n        }\r\n\r\n        return new Filters(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function LoadMore(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        t.loadMore = $(parent.options.loadMore).find('.cbp-l-loadMore-link');\r\n\r\n        // load click or auto action\r\n        if (parent.options.loadMoreAction.length) {\r\n            t[parent.options.loadMoreAction]();\r\n        }\r\n\r\n    }\r\n\r\n    LoadMore.prototype.click = function() {\r\n        var t = this,\r\n            numberOfClicks = 0;\r\n\r\n        t.loadMore.on('click.cbp', function(e) {\r\n            var item = $(this);\r\n\r\n            e.preventDefault();\r\n\r\n            if (item.hasClass('cbp-l-loadMore-stop')) {\r\n                return;\r\n            }\r\n\r\n            // set loading status\r\n            item.addClass('cbp-l-loadMore-loading');\r\n\r\n            numberOfClicks++;\r\n\r\n            // perform ajax request\r\n            $.ajax({\r\n                url: t.loadMore.attr('href'),\r\n                type: 'GET',\r\n                dataType: 'HTML'\r\n            }).done(function(result) {\r\n                var items, itemsNext;\r\n\r\n                // find current container\r\n                items = $(result).filter(function() {\r\n                    return $(this).is('div' + '.cbp-loadMore-block' + numberOfClicks);\r\n                });\r\n\r\n                t.parent.$obj.cubeportfolio('appendItems', items.html(), function() {\r\n\r\n                    // put the original message back\r\n                    item.removeClass('cbp-l-loadMore-loading');\r\n\r\n                    // check if we have more works\r\n                    itemsNext = $(result).filter(function() {\r\n                        return $(this).is('div' + '.cbp-loadMore-block' + (numberOfClicks + 1));\r\n                    });\r\n\r\n                    if (itemsNext.length === 0) {\r\n                        item.addClass('cbp-l-loadMore-stop');\r\n                    }\r\n                });\r\n\r\n            }).fail(function() {\r\n                // error\r\n            });\r\n\r\n        });\r\n    };\r\n\r\n\r\n    LoadMore.prototype.auto = function() {\r\n        var t = this;\r\n\r\n        t.parent.$obj.on('initComplete.cbp', function() {\r\n            Object.create({\r\n                init: function() {\r\n                    var self = this;\r\n\r\n                    // the job inactive\r\n                    self.isActive = false;\r\n\r\n                    self.numberOfClicks = 0;\r\n\r\n                    // set loading status\r\n                    t.loadMore.addClass('cbp-l-loadMore-loading');\r\n\r\n                    // cache window selector\r\n                    self.window = $(window);\r\n\r\n                    // add events for scroll\r\n                    self.addEvents();\r\n\r\n                    // trigger method on init\r\n                    self.getNewItems();\r\n                },\r\n\r\n                addEvents: function() {\r\n                    var self = this,\r\n                        timeout;\r\n\r\n                    t.loadMore.on('click.cbp', function(e) {\r\n                        e.preventDefault();\r\n                    });\r\n\r\n                    self.window.on('scroll.loadMoreObject', function() {\r\n\r\n                        clearTimeout(timeout);\r\n\r\n                        timeout = setTimeout(function() {\r\n                            if (!t.parent.isAnimating) {\r\n                                // get new items on scroll\r\n                                self.getNewItems();\r\n                            }\r\n                        }, 80);\r\n\r\n                    });\r\n\r\n                    // when the filter is completed\r\n                    t.parent.$obj.on('filterComplete.cbp', function() {\r\n                        self.getNewItems();\r\n                    });\r\n                },\r\n\r\n                getNewItems: function() {\r\n                    var self = this,\r\n                        topLoadMore, topWindow;\r\n\r\n                    if (self.isActive || t.loadMore.hasClass('cbp-l-loadMore-stop')) {\r\n                        return;\r\n                    }\r\n\r\n                    topLoadMore = t.loadMore.offset().top;\r\n                    topWindow = self.window.scrollTop() + self.window.height();\r\n\r\n                    if (topLoadMore > topWindow) {\r\n                        return;\r\n                    }\r\n\r\n                    // this job is now busy\r\n                    self.isActive = true;\r\n\r\n                    // increment number of clicks\r\n                    self.numberOfClicks++;\r\n\r\n                    // perform ajax request\r\n                    $.ajax({\r\n                            url: t.loadMore.attr('href'),\r\n                            type: 'GET',\r\n                            dataType: 'HTML',\r\n                            cache: true\r\n                        })\r\n                        .done(function(result) {\r\n                            var items, itemsNext;\r\n\r\n                            // find current container\r\n                            items = $(result).filter(function() {\r\n                                return $(this).is('div' + '.cbp-loadMore-block' + self.numberOfClicks);\r\n                            });\r\n\r\n                            t.parent.$obj.cubeportfolio('appendItems', items.html(), function() {\r\n                                // check if we have more works\r\n                                itemsNext = $(result).filter(function() {\r\n                                    return $(this).is('div' + '.cbp-loadMore-block' + (self.numberOfClicks + 1));\r\n                                });\r\n\r\n                                if (itemsNext.length === 0) {\r\n                                    t.loadMore.addClass('cbp-l-loadMore-stop');\r\n\r\n                                    // remove events\r\n                                    self.window.off('scroll.loadMoreObject');\r\n                                    t.parent.$obj.off('filterComplete.cbp');\r\n                                } else {\r\n                                    // make the job inactive\r\n                                    self.isActive = false;\r\n\r\n                                    self.window.trigger('scroll.loadMoreObject');\r\n                                }\r\n                            });\r\n                        })\r\n                        .fail(function() {\r\n                            // make the job inactive\r\n                            self.isActive = false;\r\n                        });\r\n                }\r\n            }).init();\r\n        });\r\n\r\n    };\r\n\r\n\r\n    LoadMore.prototype.destroy = function() {\r\n        var t = this;\r\n\r\n        t.loadMore.off('.cbp');\r\n\r\n        $(window).off('scroll.loadMoreObject');\r\n    };\r\n\r\n    CubePortfolio.Plugins.LoadMore = function(parent) {\r\n\r\n        if (parent.options.loadMore === '') {\r\n            return null;\r\n        }\r\n\r\n        return new LoadMore(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    var popup = {\r\n\r\n        /**\r\n         * init function for popup\r\n         * @param cubeportfolio = cubeportfolio instance\r\n         * @param type =  'lightbox' or 'singlePage'\r\n         */\r\n        init: function(cubeportfolio, type) {\r\n            var t = this,\r\n                currentBlock;\r\n\r\n            // remember cubeportfolio instance\r\n            t.cubeportfolio = cubeportfolio;\r\n\r\n            // remember if this instance is for lightbox or for singlePage\r\n            t.type = type;\r\n\r\n            // remember if the popup is open or not\r\n            t.isOpen = false;\r\n\r\n            t.options = t.cubeportfolio.options;\r\n\r\n            if (type === 'lightbox') {\r\n                t.cubeportfolio._registerEvent('resizeWindow', function() {\r\n                    t.resizeImage();\r\n                });\r\n            }\r\n\r\n            if (type === 'singlePageInline') {\r\n\r\n                t.startInline = -1;\r\n\r\n                t.height = 0;\r\n\r\n                // create markup, css and add events for SinglePageInline\r\n                t._createMarkupSinglePageInline();\r\n\r\n                t.cubeportfolio._registerEvent('resizeGrid', function() {\r\n                    if (t.isOpen) {\r\n                        // @todo must add support for this features in the future\r\n                        t.close(); // workaround\r\n                    }\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            // create markup, css and add events for lightbox and singlePage\r\n            t._createMarkup();\r\n\r\n            if (type === 'singlePage') {\r\n\r\n                t.cubeportfolio._registerEvent('resizeWindow', function() {\r\n                    if (t.options.singlePageStickyNavigation) {\r\n\r\n                        var width = t.wrap[0].clientWidth;\r\n\r\n                        if (width > 0) {\r\n                            t.navigationWrap.width(width);\r\n\r\n                            // set navigation width='window width' to center the divs\r\n                            t.navigation.width(width);\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n                if (t.options.singlePageDeeplinking) {\r\n                    t.url = location.href;\r\n\r\n                    if (t.url.slice(-1) === '#') {\r\n                        t.url = t.url.slice(0, -1);\r\n                    }\r\n\r\n                    var links = t.url.split('#cbp=');\r\n                    var url = links.shift(); // remove first item\r\n\r\n                    $.each(links, function(index, link) {\r\n\r\n                        t.cubeportfolio.blocksOn.each(function(index1, el) {\r\n                            var singlePage = $(el).find(t.options.singlePageDelegate + '[href=\"' + link + '\"]');\r\n\r\n                            if (singlePage.length) {\r\n                                currentBlock = singlePage;\r\n                                return false;\r\n                            }\r\n\r\n                        });\r\n\r\n                        if (currentBlock) {\r\n                            return false;\r\n                        }\r\n\r\n                    });\r\n\r\n                    if (currentBlock) {\r\n\r\n                        t.url = url;\r\n\r\n                        var self = currentBlock,\r\n                            gallery = self.attr('data-cbp-singlePage'),\r\n                            blocks = [];\r\n\r\n                        if (gallery) {\r\n                            blocks = self.closest($('.cbp-item')).find('[data-cbp-singlePage=\"' + gallery + '\"]');\r\n                        } else {\r\n                            t.cubeportfolio.blocksOn.each(function(index, el) {\r\n                                var item = $(el);\r\n\r\n                                if (item.not('.cbp-item-off')) {\r\n                                    item.find(t.options.singlePageDelegate).each(function(index2, el2) {\r\n                                        if (!$(el2).attr('data-cbp-singlePage')) {\r\n                                            blocks.push(el2);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        t.openSinglePage(blocks, currentBlock[0]);\r\n\r\n                    } else if (links.length) { // @todo - hack to load items from loadMore\r\n                        var fakeLink = document.createElement('a');\r\n                        fakeLink.setAttribute('href', links[0]);\r\n                        t.openSinglePage([fakeLink], fakeLink);\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * Create markup, css and add events\r\n         */\r\n        _createMarkup: function() {\r\n            var t = this,\r\n                animationCls = '';\r\n\r\n            if (t.type === 'singlePage') {\r\n                if (t.options.singlePageAnimation !== 'left') {\r\n                    animationCls = ' cbp-popup-singlePage-' + t.options.singlePageAnimation;\r\n                }\r\n            }\r\n\r\n            // wrap element\r\n            t.wrap = $('<div/>', {\r\n                'class': 'cbp-popup-wrap cbp-popup-' + t.type + animationCls,\r\n                'data-action': (t.type === 'lightbox') ? 'close' : ''\r\n            }).on('click.cbp', function(e) {\r\n                if (t.stopEvents) {\r\n                    return;\r\n                }\r\n\r\n                var action = $(e.target).attr('data-action');\r\n\r\n                if (t[action]) {\r\n                    t[action]();\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            // content element\r\n            t.content = $('<div/>', {\r\n                'class': 'cbp-popup-content'\r\n            }).appendTo(t.wrap);\r\n\r\n            // append loading div\r\n            $('<div/>', {\r\n                'class': 'cbp-popup-loadingBox'\r\n            }).appendTo(t.wrap);\r\n\r\n            // add background only for ie8\r\n            if (CubePortfolio.Private.browser === 'ie8') {\r\n                t.bg = $('<div/>', {\r\n                    'class': 'cbp-popup-ie8bg',\r\n                    'data-action': (t.type === 'lightbox') ? 'close' : ''\r\n                }).appendTo(t.wrap);\r\n            }\r\n\r\n            // create navigation wrap\r\n            t.navigationWrap = $('<div/>', {\r\n                'class': 'cbp-popup-navigation-wrap'\r\n            }).appendTo(t.wrap);\r\n\r\n            // create navigation block\r\n            t.navigation = $('<div/>', {\r\n                'class': 'cbp-popup-navigation'\r\n            }).appendTo(t.navigationWrap);\r\n\r\n            // close\r\n            t.closeButton = $('<div/>', {\r\n                'class': 'cbp-popup-close',\r\n                'title': 'Close (Esc arrow key)',\r\n                'data-action': 'close'\r\n            }).appendTo(t.navigation);\r\n\r\n            // next\r\n            t.nextButton = $('<div/>', {\r\n                'class': 'cbp-popup-next',\r\n                'title': 'Next (Right arrow key)',\r\n                'data-action': 'next'\r\n            }).appendTo(t.navigation);\r\n\r\n\r\n            // prev\r\n            t.prevButton = $('<div/>', {\r\n                'class': 'cbp-popup-prev',\r\n                'title': 'Previous (Left arrow key)',\r\n                'data-action': 'prev'\r\n            }).appendTo(t.navigation);\r\n\r\n\r\n            if (t.type === 'singlePage') {\r\n\r\n                if (t.options.singlePageCounter) {\r\n                    // counter for singlePage\r\n                    t.counter = $(t.options.singlePageCounter).appendTo(t.navigation);\r\n                    t.counter.text('');\r\n                }\r\n\r\n                t.content.on('click.cbp', t.options.singlePageDelegate, function(e) {\r\n                    e.preventDefault();\r\n                    var i,\r\n                        len = t.dataArray.length,\r\n                        href = this.getAttribute('href');\r\n\r\n                    for (i = 0; i < len; i++) {\r\n\r\n                        if (t.dataArray[i].url === href) {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    t.singlePageJumpTo(i - t.current);\r\n\r\n                });\r\n\r\n                // if there are some events than overrides the default scroll behaviour don't go to them\r\n                t.wrap.on('mousewheel.cbp' + ' DOMMouseScroll.cbp', function(e) {\r\n                    e.stopImmediatePropagation();\r\n                });\r\n\r\n            }\r\n\r\n            $(document).on('keydown.cbp', function(e) {\r\n\r\n                // if is not open => return\r\n                if (!t.isOpen) {\r\n                    return;\r\n                }\r\n\r\n                // if all events are stopped => return\r\n                if (t.stopEvents) {\r\n                    return;\r\n                }\r\n\r\n                if (e.keyCode === 37) { // prev key\r\n                    t.prev();\r\n                } else if (e.keyCode === 39) { // next key\r\n                    t.next();\r\n                } else if (e.keyCode === 27) { //esc key\r\n                    t.close();\r\n                }\r\n            });\r\n\r\n        },\r\n\r\n        _createMarkupSinglePageInline: function() {\r\n            var t = this;\r\n\r\n            // wrap element\r\n            t.wrap = $('<div/>', {\r\n                'class': 'cbp-popup-singlePageInline'\r\n            }).on('click.cbp', function(e) {\r\n                if (t.stopEvents) {\r\n                    return;\r\n                }\r\n\r\n                var action = $(e.target).attr('data-action');\r\n\r\n                if (action && t[action]) {\r\n                    t[action]();\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n\r\n            // content element\r\n            t.content = $('<div/>', {\r\n                'class': 'cbp-popup-content'\r\n            }).appendTo(t.wrap);\r\n\r\n            // append loading div\r\n            // $('<div/>', {\r\n            //     'class': 'cbp-popup-loadingBox'\r\n            // }).appendTo(t.wrap);\r\n\r\n            // create navigation block\r\n            t.navigation = $('<div/>', {\r\n                'class': 'cbp-popup-navigation'\r\n            }).appendTo(t.wrap);\r\n\r\n            // close\r\n            t.closeButton = $('<div/>', {\r\n                'class': 'cbp-popup-close',\r\n                'title': 'Close (Esc arrow key)',\r\n                'data-action': 'close'\r\n            }).appendTo(t.navigation);\r\n\r\n        },\r\n\r\n        destroy: function() {\r\n            var t = this,\r\n                body = $('body');\r\n\r\n            // remove off key down\r\n            $(document).off('keydown.cbp');\r\n\r\n            // external lightbox and singlePageInline\r\n            body.off('click.cbp', t.options.lightboxDelegate);\r\n            body.off('click.cbp', t.options.singlePageDelegate);\r\n\r\n            t.content.off('click.cbp', t.options.singlePageDelegate);\r\n\r\n            t.cubeportfolio.$obj.off('click.cbp', t.options.singlePageInlineDelegate);\r\n            t.cubeportfolio.$obj.off('click.cbp', t.options.lightboxDelegate);\r\n            t.cubeportfolio.$obj.off('click.cbp', t.options.singlePageDelegate);\r\n\r\n            t.cubeportfolio.$obj.removeClass('cbp-popup-isOpening');\r\n\r\n            t.cubeportfolio.$obj.find('.cbp-item').removeClass('cbp-singlePageInline-active');\r\n\r\n            t.wrap.remove();\r\n        },\r\n\r\n        openLightbox: function(blocks, currentBlock) {\r\n            var t = this,\r\n                i = 0,\r\n                currentBlockHref, tempHref = [],\r\n                element;\r\n\r\n            if (t.isOpen) {\r\n                return;\r\n            }\r\n\r\n            // remember that the lightbox is open now\r\n            t.isOpen = true;\r\n\r\n            // remember to stop all events after the lightbox has been shown\r\n            t.stopEvents = false;\r\n\r\n            // array with elements\r\n            t.dataArray = [];\r\n\r\n            // reset current\r\n            t.current = null;\r\n\r\n            currentBlockHref = currentBlock.getAttribute('href');\r\n            if (currentBlockHref === null) {\r\n                throw new Error('HEI! Your clicked element doesn\\'t have a href attribute.');\r\n            }\r\n\r\n            $.each(blocks, function(index, item) {\r\n                var href = item.getAttribute('href'),\r\n                    src = href, // default if element is image\r\n                    type = 'isImage', // default if element is image\r\n                    videoLink;\r\n\r\n                if ($.inArray(href, tempHref) === -1) {\r\n\r\n                    if (currentBlockHref === href) {\r\n                        t.current = i;\r\n                    } else if (!t.options.lightboxGallery) {\r\n                        return;\r\n                    }\r\n\r\n                    if (/youtube/i.test(href)) {\r\n\r\n                        videoLink = href.substring(href.lastIndexOf('v=') + 2);\r\n\r\n                        if (!(/autoplay=/i.test(videoLink))) {\r\n                            videoLink += '&autoplay=1';\r\n                        }\r\n\r\n                        videoLink = videoLink.replace(/\\?|&/, '?');\r\n\r\n                        // create new href\r\n                        src = '//www.youtube.com/embed/' + videoLink;\r\n\r\n                        type = 'isYoutube';\r\n\r\n                    } else if (/vimeo/i.test(href)) {\r\n\r\n                        videoLink = href.substring(href.lastIndexOf('/') + 1);\r\n\r\n                        if (!(/autoplay=/i.test(videoLink))) {\r\n                            videoLink += '&autoplay=1';\r\n                        }\r\n\r\n                        videoLink = videoLink.replace(/\\?|&/, '?');\r\n\r\n                        // create new href\r\n                        src = '//player.vimeo.com/video/' + videoLink;\r\n\r\n                        type = 'isVimeo';\r\n\r\n                    } else if (/ted\\.com/i.test(href)) {\r\n\r\n                        // create new href\r\n                        src = 'http://embed.ted.com/talks/' + href.substring(href.lastIndexOf('/') + 1) + '.html';\r\n\r\n                        type = 'isTed';\r\n\r\n                    } else if (/soundcloud\\.com/i.test(href)) {\r\n\r\n                        // create new href\r\n                        src = href;\r\n\r\n                        type = 'isSoundCloud';\r\n\r\n                    } else if (/(\\.mp4)|(\\.ogg)|(\\.ogv)|(\\.webm)/i.test(href)) {\r\n\r\n                        if (href.indexOf('|') !== -1) {\r\n                            // create new href\r\n                            src = href.split('|');\r\n                        } else {\r\n                            // create new href\r\n                            src = href.split('%7C');\r\n                        }\r\n\r\n                        type = 'isSelfHostedVideo';\r\n\r\n                    } else if (/\\.mp3$/i.test(href)) {\r\n                        src = href;\r\n                        type = 'isSelfHostedAudio';\r\n                    }\r\n\r\n                    t.dataArray.push({\r\n                        src: src,\r\n                        title: item.getAttribute(t.options.lightboxTitleSrc),\r\n                        type: type\r\n                    });\r\n\r\n                    i++;\r\n                }\r\n\r\n                tempHref.push(href);\r\n            });\r\n\r\n\r\n            // total numbers of elements\r\n            t.counterTotal = t.dataArray.length;\r\n\r\n            if (t.counterTotal === 1) {\r\n                t.nextButton.hide();\r\n                t.prevButton.hide();\r\n                t.dataActionImg = '';\r\n            } else {\r\n                t.nextButton.show();\r\n                t.prevButton.show();\r\n                t.dataActionImg = 'data-action=\"next\"';\r\n            }\r\n\r\n            // append to body\r\n            t.wrap.appendTo(document.body);\r\n\r\n            t.scrollTop = $(window).scrollTop();\r\n\r\n            t.originalStyle = $('html').attr('style');\r\n\r\n            $('html').css({\r\n                overflow: 'hidden',\r\n                paddingRight: window.innerWidth - $(document).width()\r\n            });\r\n\r\n            // show the wrapper (lightbox box)\r\n            t.wrap.show();\r\n\r\n            // get the current element\r\n            element = t.dataArray[t.current];\r\n\r\n            // call function if current element is image or video (iframe)\r\n            t[element.type](element);\r\n\r\n        },\r\n\r\n        openSinglePage: function(blocks, currentBlock) {\r\n            var t = this,\r\n                i = 0,\r\n                currentBlockHref, tempHref = [];\r\n\r\n            if (t.isOpen) {\r\n                return;\r\n            }\r\n\r\n            // check singlePageInline and close it\r\n            if (t.cubeportfolio.singlePageInline && t.cubeportfolio.singlePageInline.isOpen) {\r\n                t.cubeportfolio.singlePageInline.close();\r\n            }\r\n\r\n            // remember that the lightbox is open now\r\n            t.isOpen = true;\r\n\r\n            // remember to stop all events after the popup has been showing\r\n            t.stopEvents = false;\r\n\r\n            // array with elements\r\n            t.dataArray = [];\r\n\r\n            // reset current\r\n            t.current = null;\r\n\r\n            currentBlockHref = currentBlock.getAttribute('href');\r\n            if (currentBlockHref === null) {\r\n                throw new Error('HEI! Your clicked element doesn\\'t have a href attribute.');\r\n            }\r\n\r\n\r\n            $.each(blocks, function(index, item) {\r\n                var href = item.getAttribute('href');\r\n\r\n                if ($.inArray(href, tempHref) === -1) {\r\n\r\n                    if (currentBlockHref === href) {\r\n                        t.current = i;\r\n                    }\r\n\r\n                    t.dataArray.push({\r\n                        url: href,\r\n                        element: item\r\n                    });\r\n\r\n                    i++;\r\n                }\r\n\r\n                tempHref.push(href);\r\n            });\r\n\r\n            // total numbers of elements\r\n            t.counterTotal = t.dataArray.length;\r\n\r\n            if (t.counterTotal === 1) {\r\n                t.nextButton.hide();\r\n                t.prevButton.hide();\r\n            } else {\r\n                t.nextButton.show();\r\n                t.prevButton.show();\r\n            }\r\n\r\n            // append to body\r\n            t.wrap.appendTo(document.body);\r\n\r\n            t.scrollTop = $(window).scrollTop();\r\n\r\n            $('html').css({\r\n                overflow: 'hidden',\r\n                paddingRight: window.innerWidth - $(document).width()\r\n            });\r\n\r\n            // go to top of the page (reset scroll)\r\n            t.wrap.scrollTop(0);\r\n\r\n            // show the wrapper\r\n            t.wrap.show();\r\n\r\n            // finish the open animation\r\n            t.finishOpen = 2;\r\n\r\n            // if transitionend is not fulfilled\r\n            t.navigationMobile = $();\r\n            t.wrap.one(CubePortfolio.Private.transitionend, function() {\r\n                var width;\r\n\r\n                // make the navigation sticky\r\n                if (t.options.singlePageStickyNavigation) {\r\n\r\n                    t.wrap.addClass('cbp-popup-singlePage-sticky');\r\n\r\n                    width = t.wrap[0].clientWidth;\r\n                    t.navigationWrap.width(width);\r\n\r\n                    if (CubePortfolio.Private.browser === 'android' || CubePortfolio.Private.browser === 'ios') {\r\n                        // wrap element\r\n                        t.navigationMobile = $('<div/>', {\r\n                            'class': 'cbp-popup-singlePage cbp-popup-singlePage-sticky',\r\n                            'id': t.wrap.attr('id')\r\n                        }).on('click.cbp', function(e) {\r\n                            if (t.stopEvents) {\r\n                                return;\r\n                            }\r\n\r\n                            var action = $(e.target).attr('data-action');\r\n\r\n                            if (t[action]) {\r\n                                t[action]();\r\n                                e.preventDefault();\r\n                            }\r\n                        });\r\n\r\n                        t.navigationMobile.appendTo(document.body).append(t.navigationWrap);\r\n                    }\r\n\r\n                }\r\n\r\n                t.finishOpen--;\r\n                if (t.finishOpen <= 0) {\r\n                    t.updateSinglePageIsOpen.call(t);\r\n                }\r\n\r\n            });\r\n\r\n            if (CubePortfolio.Private.browser === 'ie8' || CubePortfolio.Private.browser === 'ie9') {\r\n\r\n                // make the navigation sticky\r\n                if (t.options.singlePageStickyNavigation) {\r\n                    var width = t.wrap[0].clientWidth;\r\n\r\n                    t.navigationWrap.width(width);\r\n\r\n                    setTimeout(function() {\r\n                        t.wrap.addClass('cbp-popup-singlePage-sticky');\r\n                    }, 1000);\r\n\r\n                }\r\n\r\n                t.finishOpen--;\r\n            }\r\n\r\n            t.wrap.addClass('cbp-popup-loading');\r\n\r\n            // force reflow and then add class\r\n            t.wrap.offset();\r\n            t.wrap.addClass('cbp-popup-singlePage-open');\r\n\r\n            // change link\r\n            if (t.options.singlePageDeeplinking) {\r\n                // ignore old #cbp from href\r\n                t.url = t.url.split('#cbp=')[0];\r\n                location.href = t.url + '#cbp=' + t.dataArray[t.current].url;\r\n            }\r\n\r\n            // run callback function\r\n            if ($.isFunction(t.options.singlePageCallback)) {\r\n                t.options.singlePageCallback.call(t, t.dataArray[t.current].url, t.dataArray[t.current].element);\r\n            }\r\n\r\n        },\r\n\r\n\r\n        openSinglePageInline: function(blocks, currentBlock, fromOpen) {\r\n            var t = this,\r\n                start = 0,\r\n                currentBlockHref,\r\n                tempCurrent,\r\n                cbpitem,\r\n                parentElement;\r\n\r\n            fromOpen = fromOpen || false;\r\n\r\n            t.fromOpen = fromOpen;\r\n\r\n            t.storeBlocks = blocks;\r\n            t.storeCurrentBlock = currentBlock;\r\n\r\n            // check singlePageInline and close it\r\n            if (t.isOpen) {\r\n\r\n                tempCurrent = $(currentBlock).closest('.cbp-item').index();\r\n\r\n                if ((t.dataArray[t.current].url !== currentBlock.getAttribute('href')) || (t.current !== tempCurrent)) {\r\n                    t.cubeportfolio.singlePageInline.close('open', {\r\n                        blocks: blocks,\r\n                        currentBlock: currentBlock,\r\n                        fromOpen: true\r\n                    });\r\n\r\n                } else {\r\n                    t.close();\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            // remember that the lightbox is open now\r\n            t.isOpen = true;\r\n\r\n            // remember to stop all events after the popup has been showing\r\n            t.stopEvents = false;\r\n\r\n            // array with elements\r\n            t.dataArray = [];\r\n\r\n            // reset current\r\n            t.current = null;\r\n\r\n            currentBlockHref = currentBlock.getAttribute('href');\r\n            if (currentBlockHref === null) {\r\n                throw new Error('HEI! Your clicked element doesn\\'t have a href attribute.');\r\n            }\r\n\r\n            cbpitem = $(currentBlock).closest('.cbp-item')[0];\r\n\r\n            blocks.each(function(index, el) {\r\n                if (cbpitem === el) {\r\n                    t.current = index;\r\n                }\r\n            });\r\n\r\n            t.dataArray[t.current] = {\r\n                url: currentBlockHref,\r\n                element: currentBlock\r\n            };\r\n\r\n            parentElement = $(t.dataArray[t.current].element).parents('.cbp-item').addClass('cbp-singlePageInline-active');\r\n\r\n            // total numbers of elements\r\n            t.counterTotal = blocks.length;\r\n\r\n            t.wrap.insertBefore(t.cubeportfolio.wrapper);\r\n\r\n            if (t.options.singlePageInlinePosition === 'top') {\r\n                t.startInline = 0;\r\n                t.top = 0;\r\n\r\n                t.firstRow = true;\r\n                t.lastRow = false;\r\n            } else if (t.options.singlePageInlinePosition === 'bottom') {\r\n                t.startInline = t.counterTotal;\r\n                t.top = t.cubeportfolio.height;\r\n\r\n                t.firstRow = false;\r\n                t.lastRow = true;\r\n            } else if (t.options.singlePageInlinePosition === 'above') {\r\n                t.startInline = t.cubeportfolio.cols * Math.floor(t.current / t.cubeportfolio.cols);\r\n                t.top = $(blocks[t.current]).data('cbp').top;\r\n\r\n                if (t.startInline === 0) {\r\n                    t.firstRow = true;\r\n                } else {\r\n                    t.top -= t.options.gapHorizontal;\r\n                    t.firstRow = false;\r\n                }\r\n\r\n                t.lastRow = false;\r\n            } else { // below\r\n                t.top = $(blocks[t.current]).data('cbp').top + $(blocks[t.current]).data('cbp').height;\r\n                t.startInline = Math.min(t.cubeportfolio.cols *\r\n                    (Math.floor(t.current / t.cubeportfolio.cols) + 1),\r\n                    t.counterTotal);\r\n\r\n                t.firstRow = false;\r\n                t.lastRow = (t.startInline === t.counterTotal) ? true : false;\r\n            }\r\n\r\n            t.wrap[0].style.height = t.wrap.outerHeight(true) + 'px';\r\n\r\n            // debouncer for inline content\r\n            t.deferredInline = $.Deferred();\r\n\r\n            if (t.options.singlePageInlineInFocus) {\r\n\r\n                t.scrollTop = $(window).scrollTop();\r\n\r\n                var goToScroll = t.cubeportfolio.$obj.offset().top + t.top - 100;\r\n\r\n                if (t.scrollTop !== goToScroll) {\r\n                    $('html,body').animate({\r\n                            scrollTop: goToScroll\r\n                        }, 350)\r\n                        .promise()\r\n                        .then(function() {\r\n                            t._resizeSinglePageInline();\r\n                            t.deferredInline.resolve();\r\n                        });\r\n                } else {\r\n                    t._resizeSinglePageInline();\r\n                    t.deferredInline.resolve();\r\n                }\r\n            } else {\r\n                t._resizeSinglePageInline();\r\n                t.deferredInline.resolve();\r\n            }\r\n\r\n            t.cubeportfolio.$obj.addClass('cbp-popup-singlePageInline-open');\r\n\r\n            t.wrap.css({\r\n                top: t.top\r\n            });\r\n\r\n            // register callback function\r\n            if ($.isFunction(t.options.singlePageInlineCallback)) {\r\n                t.options.singlePageInlineCallback.call(t, t.dataArray[t.current].url, t.dataArray[t.current].element);\r\n            }\r\n        },\r\n\r\n        _resizeSinglePageInline: function() {\r\n            var t = this;\r\n\r\n            t.height = (t.firstRow || t.lastRow) ? t.wrap.outerHeight(true) : t.wrap.outerHeight(true) - t.options.gapHorizontal;\r\n\r\n            t.storeBlocks.each(function(index, el) {\r\n                if (index < t.startInline) {\r\n                    if (CubePortfolio.Private.modernBrowser) {\r\n                        el.style[CubePortfolio.Private.transform] = '';\r\n                    } else {\r\n                        el.style.marginTop = '';\r\n                    }\r\n                } else {\r\n                    if (CubePortfolio.Private.modernBrowser) {\r\n                        el.style[CubePortfolio.Private.transform] = 'translate3d(0px, ' + t.height + 'px, 0)';\r\n                    } else {\r\n                        el.style.marginTop = t.height + 'px';\r\n                    }\r\n                }\r\n            });\r\n\r\n            t.cubeportfolio.obj.style.height = t.cubeportfolio.height + t.height + 'px';\r\n        },\r\n\r\n        _revertResizeSinglePageInline: function() {\r\n            var t = this;\r\n\r\n            // reset deferred object\r\n            t.deferredInline = $.Deferred();\r\n\r\n            t.storeBlocks.each(function(index, el) {\r\n                if (CubePortfolio.Private.modernBrowser) {\r\n                    el.style[CubePortfolio.Private.transform] = '';\r\n                } else {\r\n                    el.style.marginTop = '';\r\n                }\r\n            });\r\n\r\n            t.cubeportfolio.obj.style.height = t.cubeportfolio.height + 'px';\r\n        },\r\n\r\n        appendScriptsToWrap: function(scripts) {\r\n            var t = this,\r\n                index = 0,\r\n                loadScripts = function(item) {\r\n                    var script = document.createElement('script'),\r\n                        src = item.src;\r\n\r\n                    script.type = 'text/javascript';\r\n\r\n                    if (script.readyState) { // ie\r\n                        script.onreadystatechange = function() {\r\n                            if (script.readyState == 'loaded' || script.readyState == 'complete') {\r\n                                script.onreadystatechange = null;\r\n                                index++;\r\n                                if (scripts[index]) {\r\n                                    loadScripts(scripts[index]);\r\n                                }\r\n                            }\r\n                        };\r\n                    } else {\r\n                        script.onload = function() {\r\n                            index++;\r\n                            if (scripts[index]) {\r\n                                loadScripts(scripts[index]);\r\n                            }\r\n                        };\r\n                    }\r\n\r\n                    if (src) {\r\n                        script.src = src;\r\n                    } else {\r\n                        script.text = item.text;\r\n                    }\r\n\r\n                    t.content[0].appendChild(script);\r\n\r\n                };\r\n\r\n            loadScripts(scripts[0]);\r\n        },\r\n\r\n        updateSinglePage: function(html, scripts, isWrap) {\r\n            var t = this,\r\n                counterMarkup,\r\n                animationFinish;\r\n\r\n            t.content.addClass('cbp-popup-content').removeClass('cbp-popup-content-basic');\r\n\r\n            if (isWrap === false) {\r\n                t.content.removeClass('cbp-popup-content').addClass('cbp-popup-content-basic');\r\n            }\r\n\r\n            // update counter navigation\r\n            if (t.counter) {\r\n                counterMarkup = $(t._getCounterMarkup(t.options.singlePageCounter, t.current + 1, t.counterTotal));\r\n                t.counter.text(counterMarkup.text());\r\n            }\r\n\r\n            t.content.html(html);\r\n\r\n            if (scripts) {\r\n                t.appendScriptsToWrap(scripts);\r\n            }\r\n\r\n            // trigger public event\r\n            t.cubeportfolio.$obj.trigger('updateSinglePageStart.cbp');\r\n\r\n            t.finishOpen--;\r\n\r\n            if (t.finishOpen <= 0) {\r\n                t.updateSinglePageIsOpen.call(t);\r\n            }\r\n        },\r\n\r\n        updateSinglePageIsOpen: function() {\r\n            var t = this,\r\n                selectorSlider;\r\n\r\n            t.wrap.addClass('cbp-popup-ready');\r\n            t.wrap.removeClass('cbp-popup-loading');\r\n\r\n            // instantiate slider if exists\r\n            selectorSlider = t.content.find('.cbp-slider');\r\n            if (selectorSlider) {\r\n                selectorSlider.find('.cbp-slider-item').addClass('cbp-item');\r\n                t.slider = selectorSlider.cubeportfolio({\r\n                    layoutMode: 'slider',\r\n                    mediaQueries: [{\r\n                        width: 1,\r\n                        cols: 1\r\n                    }],\r\n                    gapHorizontal: 0,\r\n                    gapVertical: 0,\r\n                    caption: '',\r\n                    coverRatio: '', // wp version only\r\n                });\r\n            } else {\r\n                t.slider = null;\r\n            }\r\n\r\n            // scroll bug on android and ios\r\n            if (CubePortfolio.Private.browser === 'android' || CubePortfolio.Private.browser === 'ios') {\r\n                $('html').css({\r\n                    position: 'fixed'\r\n                });\r\n            }\r\n\r\n            // trigger public event\r\n            t.cubeportfolio.$obj.trigger('updateSinglePageComplete.cbp');\r\n\r\n        },\r\n\r\n\r\n        updateSinglePageInline: function(html, scripts) {\r\n            var t = this;\r\n\r\n            t.content.html(html);\r\n\r\n            if (scripts) {\r\n                t.appendScriptsToWrap(scripts);\r\n            }\r\n            // trigger public event\r\n            t.cubeportfolio.$obj.trigger('updateSinglePageInlineStart.cbp');\r\n\r\n            t.singlePageInlineIsOpen.call(t);\r\n\r\n        },\r\n\r\n        singlePageInlineIsOpen: function() {\r\n            var t = this;\r\n\r\n            function finishLoading() {\r\n                t.wrap.addClass('cbp-popup-singlePageInline-ready');\r\n                t.wrap[0].style.height = '';\r\n\r\n                t._resizeSinglePageInline();\r\n\r\n                // trigger public event\r\n                t.cubeportfolio.$obj.trigger('updateSinglePageInlineComplete.cbp');\r\n            }\r\n\r\n            // wait to load all images\r\n            t.cubeportfolio._load(t.wrap, function() {\r\n\r\n\r\n                // instantiate slider if exists\r\n                var selectorSlider = t.content.find('.cbp-slider');\r\n\r\n                if (selectorSlider.length) {\r\n                    selectorSlider.find('.cbp-slider-item').addClass('cbp-item');\r\n\r\n                    selectorSlider.one('initComplete.cbp', function() {\r\n                        t.deferredInline.done(finishLoading);\r\n                    });\r\n\r\n                    selectorSlider.on('pluginResize.cbp', function() {\r\n                        t.deferredInline.done(finishLoading);\r\n                    });\r\n\r\n                    t.slider = selectorSlider.cubeportfolio({\r\n                        layoutMode: 'slider',\r\n                        displayType: 'default',\r\n                        mediaQueries: [{\r\n                            width: 1,\r\n                            cols: 1\r\n                        }],\r\n                        gapHorizontal: 0,\r\n                        gapVertical: 0,\r\n                        caption: '',\r\n                        coverRatio: '', // wp version only\r\n                    });\r\n                } else {\r\n                    t.slider = null;\r\n                    t.deferredInline.done(finishLoading);\r\n                }\r\n\r\n            });\r\n\r\n        },\r\n\r\n\r\n        isImage: function(el) {\r\n            var t = this,\r\n                img = new Image();\r\n\r\n            t.tooggleLoading(true);\r\n\r\n            if ($('<img src=\"' + el.src + '\">').is('img:uncached')) {\r\n\r\n                $(img).on('load.cbp' + ' error.cbp', function() {\r\n\r\n                    t.updateImagesMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n\r\n                    t.tooggleLoading(false);\r\n\r\n                });\r\n                img.src = el.src;\r\n\r\n            } else {\r\n\r\n                t.updateImagesMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n\r\n                t.tooggleLoading(false);\r\n            }\r\n        },\r\n\r\n        isVimeo: function(el) {\r\n            var t = this;\r\n\r\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n        },\r\n\r\n        isYoutube: function(el) {\r\n            var t = this;\r\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n\r\n        },\r\n\r\n        isTed: function(el) {\r\n            var t = this;\r\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n        },\r\n\r\n        isSoundCloud: function(el) {\r\n            var t = this;\r\n            t.updateVideoMarkup(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n        },\r\n\r\n        isSelfHostedVideo: function(el) {\r\n            var t = this;\r\n            t.updateSelfHostedVideo(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n        },\r\n\r\n        isSelfHostedAudio: function(el) {\r\n            var t = this;\r\n            t.updateSelfHostedAudio(el.src, el.title, t._getCounterMarkup(t.options.lightboxCounter, t.current + 1, t.counterTotal));\r\n        },\r\n\r\n        _getCounterMarkup: function(markup, current, total) {\r\n            if (!markup.length) {\r\n                return '';\r\n            }\r\n\r\n            var mapObj = {\r\n                current: current,\r\n                total: total\r\n            };\r\n\r\n            return markup.replace(/\\{\\{current}}|\\{\\{total}}/gi, function(matched) {\r\n                return mapObj[matched.slice(2, -2)];\r\n            });\r\n        },\r\n\r\n        updateSelfHostedVideo: function(src, title, counter) {\r\n            var t = this,\r\n                i;\r\n\r\n            t.wrap.addClass('cbp-popup-lightbox-isIframe');\r\n\r\n            var markup = '<div class=\"cbp-popup-lightbox-iframe\">' +\r\n                '<video controls=\"controls\" height=\"auto\" style=\"width: 100%\">';\r\n\r\n            for (i = 0; i < src.length; i++) {\r\n                if (/(\\.mp4)/i.test(src[i])) {\r\n                    markup += '<source src=\"' + src[i] + '\" type=\"video/mp4\">';\r\n                } else if (/(\\.ogg)|(\\.ogv)/i.test(src[i])) {\r\n                    markup += '<source src=\"' + src[i] + '\" type=\"video/ogg\">';\r\n                } else if (/(\\.webm)/i.test(src[i])) {\r\n                    markup += '<source src=\"' + src[i] + '\" type=\"video/webm\">';\r\n                }\r\n            }\r\n\r\n            markup += 'Your browser does not support the video tag.' +\r\n                '</video>' +\r\n                '<div class=\"cbp-popup-lightbox-bottom\">' +\r\n                ((title) ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') +\r\n                counter +\r\n                '</div>' +\r\n                '</div>';\r\n\r\n            t.content.html(markup);\r\n\r\n            t.wrap.addClass('cbp-popup-ready');\r\n\r\n            t.preloadNearbyImages();\r\n        },\r\n\r\n        updateSelfHostedAudio: function(src, title, counter) {\r\n            var t = this,\r\n                i;\r\n\r\n            t.wrap.addClass('cbp-popup-lightbox-isIframe');\r\n\r\n            var markup = '<div class=\"cbp-popup-lightbox-iframe\">' +\r\n                '<audio controls=\"controls\" height=\"auto\" style=\"width: 100%\">' +\r\n                '<source src=\"' + src + '\" type=\"audio/mpeg\">' +\r\n                'Your browser does not support the audio tag.' +\r\n                '</audio>' +\r\n                '<div class=\"cbp-popup-lightbox-bottom\">' +\r\n                ((title) ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') +\r\n                counter +\r\n                '</div>' +\r\n                '</div>';\r\n\r\n            t.content.html(markup);\r\n\r\n            t.wrap.addClass('cbp-popup-ready');\r\n\r\n            t.preloadNearbyImages();\r\n        },\r\n\r\n        updateVideoMarkup: function(src, title, counter) {\r\n            var t = this;\r\n            t.wrap.addClass('cbp-popup-lightbox-isIframe');\r\n\r\n            var markup = '<div class=\"cbp-popup-lightbox-iframe\">' +\r\n                '<iframe src=\"' + src + '\" frameborder=\"0\" allowfullscreen scrolling=\"no\"></iframe>' +\r\n                '<div class=\"cbp-popup-lightbox-bottom\">' +\r\n                ((title) ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') +\r\n                counter +\r\n                '</div>' +\r\n                '</div>';\r\n\r\n            t.content.html(markup);\r\n            t.wrap.addClass('cbp-popup-ready');\r\n            t.preloadNearbyImages();\r\n        },\r\n\r\n        updateImagesMarkup: function(src, title, counter) {\r\n            var t = this;\r\n\r\n            t.wrap.removeClass('cbp-popup-lightbox-isIframe');\r\n\r\n            var markup = '<div class=\"cbp-popup-lightbox-figure\">' +\r\n                '<img src=\"' + src + '\" class=\"cbp-popup-lightbox-img\" ' + t.dataActionImg + ' />' +\r\n                '<div class=\"cbp-popup-lightbox-bottom\">' +\r\n                ((title) ? '<div class=\"cbp-popup-lightbox-title\">' + title + '</div>' : '') +\r\n                counter +\r\n                '</div>' +\r\n                '</div>';\r\n\r\n            t.content.html(markup);\r\n\r\n            t.wrap.addClass('cbp-popup-ready');\r\n\r\n            t.resizeImage();\r\n\r\n            t.preloadNearbyImages();\r\n        },\r\n\r\n        next: function() {\r\n            var t = this;\r\n            t[t.type + 'JumpTo'](1);\r\n        },\r\n\r\n        prev: function() {\r\n            var t = this;\r\n            t[t.type + 'JumpTo'](-1);\r\n        },\r\n\r\n        lightboxJumpTo: function(index) {\r\n            var t = this,\r\n                el;\r\n\r\n            t.current = t.getIndex(t.current + index);\r\n\r\n            // get the current element\r\n            el = t.dataArray[t.current];\r\n\r\n            // call function if current element is image or video (iframe)\r\n            t[el.type](el);\r\n        },\r\n\r\n\r\n        singlePageJumpTo: function(index) {\r\n            var t = this;\r\n\r\n            t.current = t.getIndex(t.current + index);\r\n\r\n            // register singlePageCallback function\r\n            if ($.isFunction(t.options.singlePageCallback)) {\r\n                t.resetWrap();\r\n\r\n                // go to top of the page (reset scroll)\r\n                t.wrap.scrollTop(0);\r\n\r\n                t.wrap.addClass('cbp-popup-loading');\r\n                t.options.singlePageCallback.call(t, t.dataArray[t.current].url, t.dataArray[t.current].element);\r\n\r\n                if (t.options.singlePageDeeplinking) {\r\n                    location.href = t.url + '#cbp=' + t.dataArray[t.current].url;\r\n                }\r\n            }\r\n        },\r\n\r\n        resetWrap: function() {\r\n            var t = this;\r\n\r\n            if (t.type === 'singlePage' && t.options.singlePageDeeplinking) {\r\n                location.href = t.url + '#';\r\n            }\r\n        },\r\n\r\n        getIndex: function(index) {\r\n            var t = this;\r\n\r\n            // go to interval [0, (+ or -)this.counterTotal.length - 1]\r\n            index = index % t.counterTotal;\r\n\r\n            // if index is less then 0 then go to interval (0, this.counterTotal - 1]\r\n            if (index < 0) {\r\n                index = t.counterTotal + index;\r\n            }\r\n\r\n            return index;\r\n        },\r\n\r\n        close: function(method, data) {\r\n            var t = this;\r\n\r\n            function finishClose() {\r\n                // reset content\r\n                t.content.html('');\r\n\r\n                // hide the wrap\r\n                t.wrap.detach();\r\n\r\n                t.cubeportfolio.$obj.removeClass('cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close');\r\n\r\n                if (method === 'promise') {\r\n                    if ($.isFunction(data.callback)) {\r\n                        data.callback.call(t.cubeportfolio);\r\n                    }\r\n                }\r\n            }\r\n\r\n            function checkFocusInline() {\r\n                if (t.options.singlePageInlineInFocus && method !== 'promise') {\r\n                    $('html,body').animate({\r\n                            scrollTop: t.scrollTop\r\n                        }, 350)\r\n                        .promise()\r\n                        .then(function() {\r\n                            finishClose();\r\n                        });\r\n                } else {\r\n                    finishClose();\r\n                }\r\n            }\r\n\r\n            // now the popup is closed\r\n            t.isOpen = false;\r\n\r\n            if (t.type === 'singlePageInline') {\r\n\r\n                if (method === 'open') {\r\n\r\n                    t.wrap.removeClass('cbp-popup-singlePageInline-ready');\r\n\r\n                    $(t.dataArray[t.current].element).closest('.cbp-item').removeClass('cbp-singlePageInline-active');\r\n\r\n                    t.openSinglePageInline(data.blocks, data.currentBlock, data.fromOpen);\r\n\r\n                } else {\r\n\r\n                    t.height = 0;\r\n\r\n                    t._revertResizeSinglePageInline();\r\n\r\n                    t.wrap.removeClass('cbp-popup-singlePageInline-ready');\r\n\r\n                    t.cubeportfolio.$obj.addClass('cbp-popup-singlePageInline-close');\r\n\r\n                    t.startInline = -1;\r\n\r\n                    t.cubeportfolio.$obj.find('.cbp-item').removeClass('cbp-singlePageInline-active');\r\n\r\n                    if (CubePortfolio.Private.modernBrowser) {\r\n                        t.wrap.one(CubePortfolio.Private.transitionend, function() {\r\n                            checkFocusInline();\r\n                        });\r\n                    } else {\r\n                        checkFocusInline();\r\n                    }\r\n                }\r\n\r\n            } else if (t.type === 'singlePage') {\r\n\r\n                t.resetWrap();\r\n\r\n                t.wrap.removeClass('cbp-popup-ready');\r\n\r\n                // scroll bug on android and ios\r\n                if (CubePortfolio.Private.browser === 'android' || CubePortfolio.Private.browser === 'ios') {\r\n                    $('html').css({\r\n                        position: ''\r\n                    });\r\n\r\n                    t.navigationWrap.appendTo(t.wrap);\r\n                    t.navigationMobile.remove();\r\n                }\r\n\r\n                $(window).scrollTop(t.scrollTop);\r\n\r\n                // weird bug on mozilla. fixed with setTimeout\r\n                setTimeout(function() {\r\n                    t.stopScroll = true;\r\n\r\n                    t.navigationWrap.css({\r\n                        top: t.wrap.scrollTop()\r\n                    });\r\n\r\n                    t.wrap.removeClass('cbp-popup-singlePage-open cbp-popup-singlePage-sticky');\r\n\r\n                    if (CubePortfolio.Private.browser === 'ie8' || CubePortfolio.Private.browser === 'ie9') {\r\n                        // reset content\r\n                        t.content.html('');\r\n\r\n                        // hide the wrap\r\n                        t.wrap.detach();\r\n\r\n                        $('html').css({\r\n                            overflow: '',\r\n                            paddingRight: '',\r\n                            position: ''\r\n                        });\r\n\r\n                        t.navigationWrap.removeAttr('style');\r\n                    }\r\n\r\n                }, 0);\r\n\r\n                t.wrap.one(CubePortfolio.Private.transitionend, function() {\r\n\r\n                    // reset content\r\n                    t.content.html('');\r\n\r\n                    // hide the wrap\r\n                    t.wrap.detach();\r\n\r\n                    $('html').css({\r\n                        overflow: '',\r\n                        paddingRight: '',\r\n                        position: ''\r\n                    });\r\n\r\n                    t.navigationWrap.removeAttr('style');\r\n\r\n                });\r\n\r\n            } else {\r\n\r\n                if (t.originalStyle) {\r\n                    $('html').attr('style', t.originalStyle);\r\n                } else {\r\n                    $('html').css({\r\n                        overflow: '',\r\n                        paddingRight: ''\r\n                    });\r\n                }\r\n\r\n                $(window).scrollTop(t.scrollTop);\r\n\r\n                // reset content\r\n                t.content.html('');\r\n\r\n                // hide the wrap\r\n                t.wrap.detach();\r\n\r\n            }\r\n        },\r\n\r\n        tooggleLoading: function(state) {\r\n            var t = this;\r\n\r\n            t.stopEvents = state;\r\n            t.wrap[(state) ? 'addClass' : 'removeClass']('cbp-popup-loading');\r\n        },\r\n\r\n        resizeImage: function() {\r\n            // if lightbox is not open go out\r\n            if (!this.isOpen) {\r\n                return;\r\n            }\r\n\r\n            var height = $(window).height(),\r\n                img = this.content.find('img'),\r\n                padding = parseInt(img.css('margin-top'), 10) + parseInt(img.css('margin-bottom'), 10);\r\n\r\n            img.css('max-height', (height - padding) + 'px');\r\n        },\r\n\r\n        preloadNearbyImages: function() {\r\n            var arr = [],\r\n                img, t = this,\r\n                src;\r\n\r\n            arr.push(t.getIndex(t.current + 1));\r\n            arr.push(t.getIndex(t.current + 2));\r\n            arr.push(t.getIndex(t.current + 3));\r\n            arr.push(t.getIndex(t.current - 1));\r\n            arr.push(t.getIndex(t.current - 2));\r\n            arr.push(t.getIndex(t.current - 3));\r\n\r\n            for (var i = arr.length - 1; i >= 0; i--) {\r\n                if (t.dataArray[arr[i]].type === 'isImage') {\r\n                    src = t.dataArray[arr[i]].src;\r\n                    img = new Image();\r\n\r\n                    if ($('<img src=\"' + src + '\">').is('img:uncached')) {\r\n                        img.src = src;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n\r\n    function PopUp(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        // if lightboxShowCounter is false, put lightboxCounter to ''\r\n        if (parent.options.lightboxShowCounter === false) {\r\n            parent.options.lightboxCounter = '';\r\n        }\r\n\r\n        // if singlePageShowCounter is false, put singlePageCounter to ''\r\n        if (parent.options.singlePageShowCounter === false) {\r\n            parent.options.singlePageCounter = '';\r\n        }\r\n\r\n        // @todo - schedule this in  future\r\n        t.run();\r\n\r\n    }\r\n\r\n    var lightboxInit = false,\r\n        singlePageInit = false;\r\n\r\n    PopUp.prototype.run = function() {\r\n        var t = this,\r\n            p = t.parent,\r\n            body = $(document.body);\r\n\r\n        // default value for lightbox\r\n        p.lightbox = null;\r\n\r\n        // LIGHTBOX\r\n        if (p.options.lightboxDelegate && !lightboxInit) {\r\n\r\n            // init only one time @todo\r\n            lightboxInit = true;\r\n\r\n            p.lightbox = Object.create(popup);\r\n\r\n            p.lightbox.init(p, 'lightbox');\r\n\r\n            body.on('click.cbp', p.options.lightboxDelegate, function(e) {\r\n                e.preventDefault();\r\n\r\n                var self = $(this),\r\n                    gallery = self.attr('data-cbp-lightbox'),\r\n                    scope = t.detectScope(self),\r\n                    cbp = scope.data('cubeportfolio'),\r\n                    blocks = [];\r\n\r\n                // is inside a cbp\r\n                if (cbp) {\r\n\r\n                    cbp.blocksOn.each(function(index, el) {\r\n                        var item = $(el);\r\n\r\n                        if (item.not('.cbp-item-off')) {\r\n                            item.find(p.options.lightboxDelegate).each(function(index2, el2) {\r\n                                if (gallery) {\r\n                                    if ($(el2).attr('data-cbp-lightbox') === gallery) {\r\n                                        blocks.push(el2);\r\n                                    }\r\n                                } else {\r\n                                    blocks.push(el2);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                } else {\r\n\r\n                    if (gallery) {\r\n                        blocks = scope.find(p.options.lightboxDelegate + '[data-cbp-lightbox=' + gallery + ']');\r\n                    } else {\r\n                        blocks = scope.find(p.options.lightboxDelegate);\r\n                    }\r\n                }\r\n\r\n                p.lightbox.openLightbox(blocks, self[0]);\r\n            });\r\n        }\r\n\r\n        // default value for singlePage\r\n        p.singlePage = null;\r\n\r\n        // SINGLEPAGE\r\n        if (p.options.singlePageDelegate && !singlePageInit) {\r\n\r\n            // init only one time @todo\r\n            singlePageInit = true;\r\n\r\n            p.singlePage = Object.create(popup);\r\n\r\n            p.singlePage.init(p, 'singlePage');\r\n\r\n            body.on('click.cbp', p.options.singlePageDelegate, function(e) {\r\n                e.preventDefault();\r\n\r\n                var self = $(this),\r\n                    gallery = self.attr('data-cbp-singlePage'),\r\n                    scope = t.detectScope(self),\r\n                    cbp = scope.data('cubeportfolio'),\r\n                    blocks = [];\r\n\r\n                // is inside a cbp\r\n                if (cbp) {\r\n                    cbp.blocksOn.each(function(index, el) {\r\n                        var item = $(el);\r\n\r\n                        if (item.not('.cbp-item-off')) {\r\n                            item.find(p.options.singlePageDelegate).each(function(index2, el2) {\r\n                                if (gallery) {\r\n                                    if ($(el2).attr('data-cbp-singlePage') === gallery) {\r\n                                        blocks.push(el2);\r\n                                    }\r\n                                } else {\r\n                                    blocks.push(el2);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n\r\n                } else {\r\n\r\n                    if (gallery) {\r\n                        blocks = scope.find(p.options.singlePageDelegate + '[data-cbp-singlePage=' + gallery + ']');\r\n                    } else {\r\n                        blocks = scope.find(p.options.singlePageDelegate);\r\n                    }\r\n\r\n                }\r\n\r\n                p.singlePage.openSinglePage(blocks, self[0]);\r\n            });\r\n        }\r\n\r\n        // default value for singlePageInline\r\n        p.singlePageInline = null;\r\n\r\n        // SINGLEPAGEINLINE\r\n        if (p.options.singlePageDelegate) {\r\n\r\n            p.singlePageInline = Object.create(popup);\r\n\r\n            p.singlePageInline.init(p, 'singlePageInline');\r\n\r\n            p.$obj.on('click.cbp', p.options.singlePageInlineDelegate, function(e) {\r\n                e.preventDefault();\r\n                p.singlePageInline.openSinglePageInline(p.blocksOn, this);\r\n            });\r\n\r\n        }\r\n    };\r\n\r\n    PopUp.prototype.detectScope = function(item) {\r\n        var singlePageInline,\r\n            singlePage,\r\n            cbp;\r\n\r\n        singlePageInline = item.closest('.cbp-popup-singlePageInline');\r\n        if (singlePageInline.length) {\r\n            cbp = item.closest('.cbp', singlePageInline[0]);\r\n            return (cbp.length) ? cbp : singlePageInline;\r\n        }\r\n\r\n        singlePage = item.closest('.cbp-popup-singlePage');\r\n        if (singlePage.length) {\r\n            cbp = item.closest('.cbp', singlePage[0]);\r\n            return (cbp.length) ? cbp : singlePage;\r\n        }\r\n\r\n        cbp = item.closest('.cbp');\r\n        return (cbp.length) ? cbp : $(document.body);\r\n\r\n    };\r\n\r\n    PopUp.prototype.destroy = function() {\r\n        var p = this.parent;\r\n\r\n        $(document.body).off('click.cbp');\r\n\r\n        // @todo - remove these from here\r\n        lightboxInit = false;\r\n        singlePageInit = false;\r\n\r\n        // destroy lightbox if enabled\r\n        if (p.lightbox) {\r\n            p.lightbox.destroy();\r\n        }\r\n\r\n        // destroy singlePage if enabled\r\n        if (p.singlePage) {\r\n            p.singlePage.destroy();\r\n        }\r\n\r\n        // destroy singlePage inline if enabled\r\n        if (p.singlePageInline) {\r\n            p.singlePageInline.destroy();\r\n        }\r\n    };\r\n\r\n    CubePortfolio.Plugins.PopUp = function(parent) {\r\n        return new PopUp(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    CubePortfolio.Private = {\r\n        /**\r\n         * Check if cubeportfolio instance exists on current element\r\n         */\r\n        checkInstance: function(method) {\r\n            var t = $.data(this, 'cubeportfolio');\r\n\r\n            if (!t) {\r\n                throw new Error('cubeportfolio is not initialized. Initialize it before calling ' + method + ' method!');\r\n            }\r\n\r\n            return t;\r\n        },\r\n\r\n        /**\r\n         * Get info about client browser\r\n         */\r\n        browserInfo: function() {\r\n            var t = CubePortfolio.Private,\r\n                appVersion = navigator.appVersion,\r\n                transition, animation, perspective;\r\n\r\n            if (appVersion.indexOf('MSIE 8.') !== -1) { // ie8\r\n                t.browser = 'ie8';\r\n            } else if (appVersion.indexOf('MSIE 9.') !== -1) { // ie9\r\n                t.browser = 'ie9';\r\n            } else if (appVersion.indexOf('MSIE 10.') !== -1) { // ie10\r\n                t.browser = 'ie10';\r\n            } else if (window.ActiveXObject || 'ActiveXObject' in window) { // ie11\r\n                t.browser = 'ie11';\r\n            } else if ((/android/gi).test(appVersion)) { // android\r\n                t.browser = 'android';\r\n            } else if ((/iphone|ipad|ipod/gi).test(appVersion)) { // ios\r\n                t.browser = 'ios';\r\n            } else if ((/chrome/gi).test(appVersion)) {\r\n                t.browser = 'chrome';\r\n            } else {\r\n                t.browser = '';\r\n            }\r\n\r\n            // check if perspective is available\r\n            perspective = t.styleSupport('perspective');\r\n\r\n            // if perspective is not available => no modern browser\r\n            if (typeof perspective === undefined) {\r\n                return;\r\n            }\r\n\r\n            transition = t.styleSupport('transition');\r\n\r\n            t.transitionend = {\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                transition: 'transitionend'\r\n            }[transition];\r\n\r\n            animation = t.styleSupport('animation');\r\n\r\n            t.animationend = {\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                animation: 'animationend'\r\n            }[animation];\r\n\r\n            t.animationDuration = {\r\n                WebkitAnimation: 'webkitAnimationDuration',\r\n                animation: 'animationDuration'\r\n            }[animation];\r\n\r\n            t.animationDelay = {\r\n                WebkitAnimation: 'webkitAnimationDelay',\r\n                animation: 'animationDelay'\r\n            }[animation];\r\n\r\n            t.transform = t.styleSupport('transform');\r\n\r\n            if (transition && animation && t.transform) {\r\n                t.modernBrowser = true;\r\n            }\r\n\r\n        },\r\n\r\n\r\n        /**\r\n         * Feature testing for css3\r\n         */\r\n        styleSupport: function(prop) {\r\n            var supportedProp,\r\n                // capitalize first character of the prop to test vendor prefix\r\n                webkitProp = 'Webkit' + prop.charAt(0).toUpperCase() + prop.slice(1),\r\n                div = document.createElement('div');\r\n\r\n            // browser supports standard CSS property name\r\n            if (prop in div.style) {\r\n                supportedProp = prop;\r\n            } else if (webkitProp in div.style) {\r\n                supportedProp = webkitProp;\r\n            }\r\n\r\n            // avoid memory leak in IE\r\n            div = null;\r\n\r\n            return supportedProp;\r\n        }\r\n\r\n    };\r\n\r\n    CubePortfolio.Private.browserInfo();\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    CubePortfolio.Public = {\r\n\r\n        /*\r\n         * Init the plugin\r\n         */\r\n        init: function(options, callback) {\r\n            new CubePortfolio(this, options, callback);\r\n        },\r\n\r\n        /*\r\n         * Destroy the plugin\r\n         */\r\n        destroy: function(callback) {\r\n            var t = CubePortfolio.Private.checkInstance.call(this, 'destroy');\r\n\r\n            t._triggerEvent('beforeDestroy');\r\n\r\n            // remove data\r\n            $.removeData(this, 'cubeportfolio');\r\n\r\n            // remove data from blocks\r\n            t.blocks.each(function() {\r\n                $.removeData(this, 'cbp-wxh'); // wp only\r\n            });\r\n\r\n            // remove loading class and .cbp on container\r\n            t.$obj.removeClass('cbp-ready cbp-addItems' + 'cbp-cols-' + t.cols).removeAttr('style');\r\n\r\n            // remove class from ul\r\n            t.$ul.removeClass('cbp-wrapper');\r\n\r\n            // remove off resize event\r\n            $(window).off('resize.cbp');\r\n\r\n            t.$obj.off('.cbp');\r\n            $(document).off('.cbp');\r\n\r\n            // reset blocks\r\n            t.blocks.removeClass('cbp-item-off').removeAttr('style');\r\n\r\n            t.blocks.find('.cbp-item-wrapper').children().unwrap();\r\n\r\n            if (t.options.caption) {\r\n                t._captionDestroy();\r\n            }\r\n\r\n            t._destroySlider();\r\n\r\n            // remove .cbp-wrapper-outer\r\n            t.$ul.unwrap();\r\n\r\n            // remove .cbp-wrapper\r\n            if (t.addedWrapp) {\r\n                t.blocks.unwrap();\r\n            }\r\n\r\n            $.each(t._plugins, function(i, item) {\r\n                if (typeof item.destroy === 'function') {\r\n                    item.destroy();\r\n                }\r\n            });\r\n\r\n            if ($.isFunction(callback)) {\r\n                callback.call(t);\r\n            }\r\n\r\n            t._triggerEvent('afterDestroy');\r\n        },\r\n\r\n        /*\r\n         * Filter the plugin by filterName\r\n         */\r\n        filter: function(filterName, callback) {\r\n            var t = CubePortfolio.Private.checkInstance.call(this, 'filter'),\r\n                off2onBlocks, on2offBlocks, url;\r\n\r\n            // register callback function\r\n            if ($.isFunction(callback)) {\r\n                t._registerEvent('filterFinish', callback, true);\r\n            }\r\n\r\n            if (t.isAnimating || t.defaultFilter === filterName) {\r\n                return;\r\n            }\r\n\r\n            t.isAnimating = true;\r\n            t.defaultFilter = filterName;\r\n\r\n            if (t.singlePageInline && t.singlePageInline.isOpen) {\r\n                t.singlePageInline.close('promise', {\r\n                    callback: function() {\r\n                        t._filter(filterName);\r\n                    }\r\n                });\r\n            } else {\r\n                t._filter(filterName);\r\n            }\r\n\r\n            if (t.options.filterDeeplinking) {\r\n\r\n                url = location.href.replace(/#cbpf=(.*?)([#|?&]|$)/gi, '');\r\n\r\n                location.href = url + '#cbpf=' + filterName;\r\n\r\n                if (t.singlePage && t.singlePage.url) {\r\n                    t.singlePage.url = location.href;\r\n                }\r\n            }\r\n        },\r\n\r\n        /*\r\n         * Show counter for filters\r\n         */\r\n        showCounter: function(elems, callback) {\r\n            var t = CubePortfolio.Private.checkInstance.call(this, 'showCounter');\r\n\r\n            t.elems = elems;\r\n\r\n            $.each(elems, function() {\r\n                var el = $(this),\r\n                    filterName = el.data('filter'),\r\n                    count;\r\n\r\n                count = t.blocks.filter(filterName).length;\r\n                el.find('.cbp-filter-counter').text(count);\r\n            });\r\n\r\n            if ($.isFunction(callback)) {\r\n                callback.call(t);\r\n            }\r\n        },\r\n\r\n        /*\r\n         * ApendItems elements\r\n         */\r\n        appendItems: function(items, callback) {\r\n            var t = CubePortfolio.Private.checkInstance.call(this, 'appendItems');\r\n\r\n            if (t.isAnimating) {\r\n                return;\r\n            }\r\n\r\n            t.isAnimating = true;\r\n\r\n            if (t.singlePageInline && t.singlePageInline.isOpen) {\r\n                t.singlePageInline.close('promise', {\r\n                    callback: function() {\r\n                        t._addItems(items, callback);\r\n                    }\r\n                });\r\n            } else {\r\n                t._addItems(items, callback);\r\n            }\r\n        },\r\n\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n// Utility\r\nif (typeof Object.create !== 'function') {\r\n    Object.create = function(obj) {\r\n        function F() {}\r\n        F.prototype = obj;\r\n        return new F();\r\n    };\r\n}\r\n\r\n// jquery new filter for images uncached\r\njQuery.expr[':'].uncached = function(obj) {\r\n    // Ensure we are dealing with an `img` element with a valid `src` attribute.\r\n    if (!jQuery(obj).is('img[src][src!=\"\"]')) {\r\n        return false;\r\n    }\r\n\r\n    // Firefox's `complete` property will always be `true` even if the image has not been downloaded.\r\n    // Doing it this way works in Firefox.\r\n    var img = new Image();\r\n    img.src = obj.src;\r\n\r\n    // http://stackoverflow.com/questions/1977871/check-if-an-image-is-loaded-no-errors-in-javascript\r\n    // During the onload event, IE correctly identifies any images that\r\n    // werent downloaded as not complete. Others should too. Gecko-based\r\n    // browsers act like NS4 in that they report this incorrectly.\r\n    if (!img.complete) {\r\n        return true;\r\n    }\r\n\r\n    // However, they do have two very useful properties: naturalWidth and\r\n    // naturalHeight. These give the true size of the image. If it failed\r\n    // to load, either of these should be zero.\r\n    if (img.naturalWidth !== undefined && img.naturalWidth === 0) {\r\n        return true;\r\n    }\r\n\r\n    // No other way of checking: assume its ok.\r\n    return false;\r\n};\r\n\r\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n\r\n// requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\r\n\r\n// MIT license\r\n\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['moz', 'webkit'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n\r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() {\r\n                    callback(currTime + timeToCall);\r\n                },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n\r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function AnimationClassic(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        parent.filterLayout = t.filterLayout;\r\n    }\r\n\r\n    // here this value point to parent grid\r\n    AnimationClassic.prototype.filterLayout = function(filterName) {\r\n        var t = this;\r\n\r\n        t.$obj.addClass('cbp-animation-' + t.options.animationType);\r\n\r\n        // [1] - blocks that are only moving with translate\r\n        t.blocksOnInitial\r\n            .filter(filterName)\r\n            .addClass('cbp-item-on2on')\r\n            .each(function(index, el) {\r\n                var data = $(el).data('cbp');\r\n                el.style[CubePortfolio.Private.transform] = 'translate3d(' + (data.leftNew - data.left) + 'px, ' + (data.topNew - data.top) + 'px, 0)';\r\n            });\r\n\r\n        // [2] - blocks than intialy are on but after applying the filter are off\r\n        t.blocksOn2Off = t.blocksOnInitial\r\n            .not(filterName)\r\n            .addClass('cbp-item-on2off');\r\n\r\n        // [3] - blocks that are off and it will be on\r\n        t.blocksOff2On = t.blocksOn\r\n            .filter('.cbp-item-off')\r\n            .removeClass('cbp-item-off')\r\n            .addClass('cbp-item-off2on')\r\n            .each(function(index, el) {\r\n                var data = $(el).data('cbp');\r\n\r\n                data.left = data.leftNew;\r\n                data.top = data.topNew;\r\n\r\n                el.style.left = data.left + 'px';\r\n                el.style.top = data.top + 'px';\r\n            });\r\n\r\n        if (t.blocksOn2Off.length) {\r\n            t.blocksOn2Off.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\r\n        } else if (t.blocksOff2On.length) {\r\n            t.blocksOff2On.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\r\n        } else {\r\n            animationend();\r\n        }\r\n\r\n        // resize main container height\r\n        t._resizeMainContainer();\r\n\r\n        function animationend() {\r\n            t.blocks\r\n                .removeClass('cbp-item-on2off cbp-item-off2on cbp-item-on2on')\r\n                .each(function(index, el) {\r\n                    var data = $(el).data('cbp');\r\n\r\n                    data.left = data.leftNew;\r\n                    data.top = data.topNew;\r\n\r\n                    el.style.left = data.left + 'px';\r\n                    el.style.top = data.top + 'px';\r\n\r\n                    el.style[CubePortfolio.Private.transform] = '';\r\n                });\r\n\r\n            t.blocksOff.addClass('cbp-item-off');\r\n\r\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\r\n\r\n            t.filterFinish();\r\n        }\r\n\r\n    };\r\n\r\n    AnimationClassic.prototype.destroy = function() {\r\n        var parent = this.parent;\r\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\r\n    };\r\n\r\n    CubePortfolio.Plugins.AnimationClassic = function(parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['boxShadow', 'fadeOut', 'flipBottom', 'flipOut', 'quicksand', 'scaleSides', 'skew']) < 0) {\r\n            return null;\r\n        }\r\n\r\n        return new AnimationClassic(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function AnimationClone(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        parent.filterLayout = t.filterLayout;\r\n    }\r\n\r\n    // here this value point to parent grid\r\n    AnimationClone.prototype.filterLayout = function(filterName) {\r\n        var t = this,\r\n            ulClone = t.$ul[0].cloneNode(true);\r\n\r\n        ulClone.setAttribute('class', 'cbp-wrapper-helper');\r\n        t.wrapper[0].insertBefore(ulClone, t.$ul[0]);\r\n\r\n        requestAnimationFrame(function() {\r\n            t.$obj.addClass('cbp-animation-' + t.options.animationType);\r\n\r\n            t.blocksOff.addClass('cbp-item-off');\r\n\r\n            t.blocksOn.removeClass('cbp-item-off')\r\n                .each(function(index, el) {\r\n                    var data = $(el).data('cbp');\r\n\r\n                    data.left = data.leftNew;\r\n                    data.top = data.topNew;\r\n\r\n                    el.style.left = data.left + 'px';\r\n                    el.style.top = data.top + 'px';\r\n\r\n                    if (t.options.animationType === 'sequentially') {\r\n                        data.wrapper[0].style[CubePortfolio.Private.animationDelay] = (index * 60) + 'ms';\r\n                    }\r\n                });\r\n\r\n            if (t.blocksOn.length) {\r\n                t.blocksOn.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\r\n            } else if (t.blocksOnInitial.length) {\r\n                t.blocksOnInitial.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\r\n            } else {\r\n                animationend();\r\n            }\r\n\r\n            // resize main container height\r\n            t._resizeMainContainer();\r\n        });\r\n\r\n        function animationend() {\r\n            t.wrapper[0].removeChild(ulClone);\r\n\r\n            if (t.options.animationType === 'sequentially') {\r\n                t.blocksOn.each(function(index, el) {\r\n                    $(el).data('cbp').wrapper[0].style[CubePortfolio.Private.animationDelay] = '';\r\n                });\r\n            }\r\n\r\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\r\n\r\n            t.filterFinish();\r\n        }\r\n\r\n    };\r\n\r\n    AnimationClone.prototype.destroy = function() {\r\n        var parent = this.parent;\r\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\r\n    };\r\n\r\n    CubePortfolio.Plugins.AnimationClone = function(parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['fadeOutTop', 'slideLeft', 'sequentially']) < 0) {\r\n            return null;\r\n        }\r\n\r\n        return new AnimationClone(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function AnimationCloneDelay(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        parent.filterLayout = t.filterLayout;\r\n    }\r\n\r\n    // here this value point to parent grid\r\n    AnimationCloneDelay.prototype.filterLayout = function(filterName) {\r\n        var t = this,\r\n            ulClone;\r\n\r\n        // t.blocksOnInitial.each(function(index, el) {\r\n        //     $(el).data('cbp').wrapper[0].style[CubePortfolio.Private.animationDelay] = (index * 50) + 'ms';\r\n        // });\r\n\r\n        ulClone = t.$ul[0].cloneNode(true);\r\n\r\n        ulClone.setAttribute('class', 'cbp-wrapper-helper');\r\n        t.wrapper[0].insertBefore(ulClone, t.$ul[0]);\r\n\r\n        // hack for safari osx because it doesn't want to work if I set animationDelay\r\n        // on cbp-item-wrapper before I clone the t.$ul\r\n        $(ulClone).find('.cbp-item').not('.cbp-item-off').children('.cbp-item-wrapper').each(function(index, el) {\r\n            el.style[CubePortfolio.Private.animationDelay] = (index * 50) + 'ms';\r\n        });\r\n\r\n        requestAnimationFrame(function() {\r\n            t.$obj.addClass('cbp-animation-' + t.options.animationType);\r\n\r\n            t.blocksOff.addClass('cbp-item-off');\r\n\r\n            t.blocksOn.removeClass('cbp-item-off')\r\n                .each(function(index, el) {\r\n                    var data = $(el).data('cbp');\r\n\r\n                    data.left = data.leftNew;\r\n                    data.top = data.topNew;\r\n\r\n                    el.style.left = data.left + 'px';\r\n                    el.style.top = data.top + 'px';\r\n\r\n                    data.wrapper[0].style[CubePortfolio.Private.animationDelay] = (index * 50) + 'ms';\r\n\r\n                });\r\n\r\n            if (t.blocksOn.length) {\r\n                t.blocksOn.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\r\n            } else if (t.blocksOnInitial.length) {\r\n                t.blocksOnInitial.last().data('cbp').wrapper.one(CubePortfolio.Private.animationend, animationend);\r\n            } else {\r\n                animationend();\r\n            }\r\n\r\n            // resize main container height\r\n            t._resizeMainContainer();\r\n        });\r\n\r\n        function animationend() {\r\n            t.wrapper[0].removeChild(ulClone);\r\n\r\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\r\n\r\n            t.blocks.each(function(index, el) {\r\n                $(el).data('cbp').wrapper[0].style[CubePortfolio.Private.animationDelay] = '';\r\n            });\r\n\r\n            t.filterFinish();\r\n        }\r\n\r\n    };\r\n\r\n    AnimationCloneDelay.prototype.destroy = function() {\r\n        var parent = this.parent;\r\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\r\n    };\r\n\r\n    CubePortfolio.Plugins.AnimationCloneDelay = function(parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['3dflip', 'flipOutDelay', 'foldLeft', 'frontRow', 'rotateRoom', 'rotateSides', 'scaleDown', 'slideDelay', 'unfold']) < 0) {\r\n            return null;\r\n        }\r\n\r\n        return new AnimationCloneDelay(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function AnimationWrapper(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        parent.filterLayout = t.filterLayout;\r\n    }\r\n\r\n    // here this value point to parent grid\r\n    AnimationWrapper.prototype.filterLayout = function(filterName) {\r\n        var t = this,\r\n            ulClone = t.$ul[0].cloneNode(true);\r\n\r\n        ulClone.setAttribute('class', 'cbp-wrapper-helper');\r\n        t.wrapper[0].insertBefore(ulClone, t.$ul[0]);\r\n\r\n        requestAnimationFrame(function() {\r\n            t.$obj.addClass('cbp-animation-' + t.options.animationType);\r\n\r\n            t.blocksOff.addClass('cbp-item-off');\r\n\r\n            t.blocksOn.removeClass('cbp-item-off')\r\n                .each(function(index, el) {\r\n                    var data = $(el).data('cbp');\r\n\r\n                    data.left = data.leftNew;\r\n                    data.top = data.topNew;\r\n\r\n                    el.style.left = data.left + 'px';\r\n                    el.style.top = data.top + 'px';\r\n                });\r\n\r\n            if (t.blocksOn.length) {\r\n                t.$ul.one(CubePortfolio.Private.animationend, animationend);\r\n            } else if (t.blocksOnInitial.length) {\r\n                $(ulClone).one(CubePortfolio.Private.animationend, animationend);\r\n            } else {\r\n                animationend();\r\n            }\r\n\r\n            // resize main container height\r\n            t._resizeMainContainer();\r\n        });\r\n\r\n        function animationend() {\r\n            t.wrapper[0].removeChild(ulClone);\r\n\r\n            t.$obj.removeClass('cbp-animation-' + t.options.animationType);\r\n\r\n            t.filterFinish();\r\n        }\r\n\r\n    };\r\n\r\n    AnimationWrapper.prototype.destroy = function() {\r\n        var parent = this.parent;\r\n        parent.$obj.removeClass('cbp-animation-' + parent.options.animationType);\r\n    };\r\n\r\n    CubePortfolio.Plugins.AnimationWrapper = function(parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || $.inArray(parent.options.animationType, ['bounceBottom', 'bounceLeft', 'bounceTop', 'moveLeft']) < 0) {\r\n            return null;\r\n        }\r\n\r\n        return new AnimationWrapper(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function CaptionExpand(parent) {\r\n        var t = this;\r\n\r\n        t.parent = parent;\r\n\r\n        parent._registerEvent('initFinish', function() {\r\n\r\n            parent.$obj.on('click.cbp', '.cbp-caption-defaultWrap', function(e) {\r\n                e.preventDefault();\r\n\r\n                if (parent.isAnimating) {\r\n                    return;\r\n                }\r\n\r\n                parent.isAnimating = true;\r\n\r\n                var defaultWrap = $(this),\r\n                    activeWrap = defaultWrap.next(),\r\n                    caption = defaultWrap.parent(),\r\n                    endStyle = {\r\n                        position: 'relative',\r\n                        height: activeWrap.outerHeight(true)\r\n                    },\r\n                    startStyle = {\r\n                        position: 'relative',\r\n                        height: 0\r\n                    };\r\n\r\n                parent.$obj.addClass('cbp-caption-expand-active');\r\n\r\n                // swap endStyle & startStyle\r\n                if (caption.hasClass('cbp-caption-expand-open')) {\r\n                    var temp = startStyle;\r\n                    startStyle = endStyle;\r\n                    endStyle = temp;\r\n                    caption.removeClass('cbp-caption-expand-open');\r\n                }\r\n\r\n                activeWrap.css(endStyle);\r\n\r\n                parent._gridAdjust();\r\n\r\n                // reposition the blocks\r\n                parent._layout();\r\n\r\n                // repositionate the blocks with the best transition available\r\n                parent.positionateItems();\r\n\r\n                // resize main container height\r\n                parent._resizeMainContainer();\r\n\r\n                // set activeWrap to 0 so I can start animation in the next frame\r\n                activeWrap.css(startStyle);\r\n\r\n                // delay animation\r\n                requestAnimationFrame(function() {\r\n\r\n                    caption.addClass('cbp-caption-expand-open');\r\n\r\n                    activeWrap.one(CubePortfolio.Private.transitionend, function() {\r\n                        parent.isAnimating = false;\r\n                        parent.$obj.removeClass('cbp-caption-expand-active');\r\n\r\n                        if (endStyle.height === 0) {\r\n                            caption.removeClass('cbp-caption-expand-open');\r\n                            activeWrap.attr('style', '');\r\n                        }\r\n\r\n                    });\r\n\r\n                    activeWrap.css(endStyle);\r\n\r\n                    if (parent.options.layoutMode === 'slider') {\r\n                        parent._updateSlider();\r\n                    }\r\n\r\n                    parent._triggerEvent('resizeGrid');\r\n                });\r\n            });\r\n        }, true);\r\n\r\n    }\r\n\r\n    CaptionExpand.prototype.destroy = function() {\r\n        this.parent.$obj.find('.cbp-caption-defaultWrap').off('click.cbp').parent().removeClass('cbp-caption-expand-active');\r\n    };\r\n\r\n    CubePortfolio.Plugins.CaptionExpand = function(parent) {\r\n\r\n        if (parent.options.caption !== 'expand') {\r\n            return null;\r\n        }\r\n\r\n        return new CaptionExpand(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function BottomToTop(parent) {\r\n\r\n        // skip next event from core\r\n        parent._skipNextEvent('delayFrame');\r\n\r\n        parent._registerEvent('initEndWrite', function() {\r\n\r\n            parent.blocksOn.each(function(index, item) {\r\n                item.style[CubePortfolio.Private.animationDelay] = (index * parent.options.displayTypeSpeed) + 'ms';\r\n            });\r\n\r\n            parent.$obj.addClass('cbp-displayType-bottomToTop');\r\n\r\n            // get last element\r\n            parent.blocksOn.last().one(CubePortfolio.Private.animationend, function() {\r\n                parent.$obj.removeClass('cbp-displayType-bottomToTop');\r\n\r\n                parent.blocksOn.each(function(index, item) {\r\n                    item.style[CubePortfolio.Private.animationDelay] = '';\r\n                });\r\n\r\n                // trigger event after the animation is finished\r\n                parent._triggerEvent('delayFrame');\r\n            });\r\n\r\n        }, true);\r\n\r\n    }\r\n\r\n    CubePortfolio.Plugins.BottomToTop = function (parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || parent.options.displayType !== 'bottomToTop' || parent.blocks.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return new BottomToTop(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function FadeInToTop(parent) {\r\n\r\n        // skip next event from core\r\n        parent._skipNextEvent('delayFrame');\r\n\r\n        parent._registerEvent('initEndWrite', function() {\r\n            parent.obj.style[CubePortfolio.Private.animationDuration] = parent.options.displayTypeSpeed + 'ms';\r\n\r\n            parent.$obj.addClass('cbp-displayType-fadeInToTop');\r\n\r\n            parent.$obj.one(CubePortfolio.Private.animationend, function() {\r\n                parent.$obj.removeClass('cbp-displayType-fadeInToTop');\r\n\r\n                parent.obj.style[CubePortfolio.Private.animationDuration] = '';\r\n\r\n                // trigger event after the animation is finished\r\n                parent._triggerEvent('delayFrame');\r\n            });\r\n\r\n        }, true);\r\n\r\n    }\r\n\r\n    CubePortfolio.Plugins.FadeInToTop = function (parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || parent.options.displayType !== 'fadeInToTop' || parent.blocks.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return new FadeInToTop(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function LazyLoading(parent) {\r\n\r\n        // skip next event from core\r\n        parent._skipNextEvent('delayFrame');\r\n\r\n        parent._registerEvent('initEndWrite', function() {\r\n            parent.obj.style[CubePortfolio.Private.animationDuration] = parent.options.displayTypeSpeed + 'ms';\r\n\r\n            parent.$obj.addClass('cbp-displayType-lazyLoading');\r\n\r\n            parent.$obj.one(CubePortfolio.Private.animationend, function() {\r\n                parent.$obj.removeClass('cbp-displayType-lazyLoading');\r\n\r\n                parent.obj.style[CubePortfolio.Private.animationDuration] = '';\r\n\r\n                // trigger event after the animation is finished\r\n                parent._triggerEvent('delayFrame');\r\n            });\r\n\r\n        }, true);\r\n\r\n    }\r\n\r\n    CubePortfolio.Plugins.LazyLoading = function (parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || (parent.options.displayType !== 'lazyLoading' && parent.options.displayType !== 'fadeIn') || parent.blocks.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return new LazyLoading(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n\r\n(function($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var CubePortfolio = $.fn.cubeportfolio.Constructor;\r\n\r\n    function DisplaySequentially(parent) {\r\n\r\n        // skip next event from core\r\n        parent._skipNextEvent('delayFrame');\r\n\r\n        parent._registerEvent('initEndWrite', function() {\r\n\r\n            parent.blocksOn.each(function(index, item) {\r\n                item.style[CubePortfolio.Private.animationDelay] = (index * parent.options.displayTypeSpeed) + 'ms';\r\n            });\r\n\r\n            parent.$obj.addClass('cbp-displayType-sequentially');\r\n\r\n            // get last element\r\n            parent.blocksOn.last().one(CubePortfolio.Private.animationend, function() {\r\n                parent.$obj.removeClass('cbp-displayType-sequentially');\r\n\r\n                parent.blocksOn.each(function(index, item) {\r\n                    item.style[CubePortfolio.Private.animationDelay] = '';\r\n                });\r\n\r\n                // trigger event after the animation is finished\r\n                parent._triggerEvent('delayFrame');\r\n            });\r\n\r\n        }, true);\r\n\r\n    }\r\n\r\n    CubePortfolio.Plugins.DisplaySequentially = function (parent) {\r\n\r\n        if (!CubePortfolio.Private.modernBrowser || parent.options.displayType !== 'sequentially' || parent.blocks.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return new DisplaySequentially(parent);\r\n    };\r\n\r\n})(jQuery, window, document);\r\n"]},"hash":"72f7ddf5df188af789bcba76ad4a5aefe0901e56"}
